<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="SAGE C4 Integrated Tools - Claim Stakes, Crafting Hab, and Recipe Tools">
    <title>SAGE C4 Integrated Tools</title>
    <link rel="icon" type="image/x-icon"
        href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABkZGQwYGBgeGBgYHhkZGQwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGBgYDhgYGDEYGBg7GBgYPhgYGEkYGBhJGBgYPhgYGDsYGBgxGBgYDgAAAAAAAAAAAAAAAAAAAAAYGBgeGBgYRRgYGEwYGBhdOyciySQcGaUkHBmlOyciyhgYGF0YGBhMGBgYRRgYGB4AAAAAAAAAABkZGQwYGBhFGBgYXBwZGKdXNSSy8X0N//F9Df/xfQ3/8X0N/1U1JLQcGRinGBgYXBgYGEUZGRkMAAAAACcaGCcYGBhLHBkYptZsGfnudg7/73cO/+93Dv/vdxX/7ncV/+53Ff/udg7/1mwZ+RwZGKYYGBhLJxoYJxgYGHYkGhm36mwU/+ttD//rbRH/620R/+ttEf/rbRH/620R/+ttEf/rbRH/620R/+psE/8kGhmkGBgYdhgYGJXNYhX/6WsT/+lrE//paxP/6WsT/+lrE//paxP/6WsT/+lrE//paxP/6WsT/+lrE//NYhX/GBgYlRgYGJXCWhb/5WkW/+VpFv/laRb/5WkW/+VpFv/laRb/5WkW/+VpFv/laRb/5WkW/+VpFv/CWhb/GBgYlRgYGJW2TRL/4GcZ/+BnGf/gZxn/4GcZ/+BnGf/gZxn/4GcZ/+BnGf/gZxn/4GcZ/+BnGf+2TRD/GBgYlRgYGJWuRQr/2WMc/9ljHP/ZYxz/2WMc/9ljHP/ZYxz/2WMc/9ljHP/ZYxz/2WMc/9ljHP+uRQr/GBgYlRgYGJWaOAf/0mEf/9JhH//SYR//0mEf/9JhH//SYR//0mEf/9JhH//SYR//0mAf/8xbHP+aOAf/GBgYlRgYGH1UJw3/kj4h/5A9If+fRyH/tFAd/69KGf+vShn/r0oZ/69KGf+xTBn/qEUS/6JCDv9NJQz/GBgYfRgYGC0YGBY8GBgY/xgYGP8dGRb/Pich/0kqIf9JKiD/SSog/0kqIP8/KCH/Lx4b/xgYGKgYGBguGBgYLQAAAAAAAAAAGBgYPhgYGHUYGBjjGBgY/xgYGP8YGBT/GBgY/xgYGP8YGBX/GBgYvRgYGDoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYGBgkGBgYRRgYGFwYGBhcGBgYRRgYGCQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAP//AADgBwAAwAMAAIABAACAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAEAAIABAADgBwAA//8AAA==">
  <script type="module" crossorigin>function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t,n,r,s,a={exports:{}},i={},l={exports:{}},o={};function c(){if(t)return o;t=1;var e=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function b(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var y=x.prototype=new b;y.constructor=x,m(y,v.prototype),y.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,S={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function k(t,n,r){var s,a={},i=null,l=null;if(null!=n)for(s in void 0!==n.ref&&(l=n.ref),void 0!==n.key&&(i=""+n.key),n)N.call(n,s)&&!w.hasOwnProperty(s)&&(a[s]=n[s]);var o=arguments.length-2;if(1===o)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(t&&t.defaultProps)for(s in o=t.defaultProps)void 0===a[s]&&(a[s]=o[s]);return{$$typeof:e,type:t,key:i,ref:l,props:a,_owner:S.current}}function C(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var E=/\/+/g;function T(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function _(t,r,s,a,i){var l=typeof t;"undefined"!==l&&"boolean"!==l||(t=null);var o=!1;if(null===t)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case e:case n:o=!0}}if(o)return i=i(o=t),t=""===a?"."+T(o,0):a,j(i)?(s="",null!=t&&(s=t.replace(E,"$&/")+"/"),_(i,r,s,"",function(e){return e})):null!=i&&(C(i)&&(i=function(t,n){return{$$typeof:e,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner}}(i,s+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+t)),r.push(i)),1;if(o=0,a=""===a?".":a+":",j(t))for(var c=0;c<t.length;c++){var u=a+T(l=t[c],c);o+=_(l,r,s,u,i)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(t),"function"==typeof u)for(t=u.call(t),c=0;!(l=t.next()).done;)o+=_(l=l.value,r,s,u=a+T(l,c++),i);else if("object"===l)throw r=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return o}function I(e,t,n){if(null==e)return e;var r=[],s=0;return _(e,r,"","",function(e){return t.call(n,e,s++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},A={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};function L(){throw Error("act(...) is not supported in production builds of React.")}return o.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},o.Component=v,o.Fragment=r,o.Profiler=a,o.PureComponent=x,o.StrictMode=s,o.Suspense=u,o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,o.act=L,o.cloneElement=function(t,n,r){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=m({},t.props),a=t.key,i=t.ref,l=t._owner;if(null!=n){if(void 0!==n.ref&&(i=n.ref,l=S.current),void 0!==n.key&&(a=""+n.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in n)N.call(n,c)&&!w.hasOwnProperty(c)&&(s[c]=void 0===n[c]&&void 0!==o?o[c]:n[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];s.children=o}return{$$typeof:e,type:t.type,key:a,ref:i,props:s,_owner:l}},o.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},o.createElement=k,o.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},o.createRef=function(){return{current:null}},o.forwardRef=function(e){return{$$typeof:c,render:e}},o.isValidElement=C,o.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:P}},o.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},o.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},o.unstable_act=L,o.useCallback=function(e,t){return R.current.useCallback(e,t)},o.useContext=function(e){return R.current.useContext(e)},o.useDebugValue=function(){},o.useDeferredValue=function(e){return R.current.useDeferredValue(e)},o.useEffect=function(e,t){return R.current.useEffect(e,t)},o.useId=function(){return R.current.useId()},o.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},o.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},o.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},o.useMemo=function(e,t){return R.current.useMemo(e,t)},o.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},o.useRef=function(e){return R.current.useRef(e)},o.useState=function(e){return R.current.useState(e)},o.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},o.useTransition=function(){return R.current.useTransition()},o.version="18.3.1",o}function u(){return n||(n=1,l.exports=c()),l.exports}
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d=(s||(s=1,a.exports=function(){if(r)return i;r=1;var e=u(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function o(e,n,r){var i,o={},c=null,u=null;for(i in void 0!==r&&(c=""+r),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(u=n.ref),n)s.call(n,i)&&!l.hasOwnProperty(i)&&(o[i]=n[i]);if(e&&e.defaultProps)for(i in n=e.defaultProps)void 0===o[i]&&(o[i]=n[i]);return{$$typeof:t,type:e,key:c,ref:u,props:o,_owner:a.current}}return i.Fragment=n,i.jsx=o,i.jsxs=o,i}()),a.exports),p=u();const f=e(p);var h,m,g,v,b,x={},y={exports:{}},j={},N={exports:{}},S={};function w(){return m||(m=1,N.exports=(h||(h=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var l=2*(r+1)-1,o=e[l],c=l+1,u=e[c];if(0>s(o,n))c<a&&0>s(u,o)?(e[r]=u,e[c]=n,r=c):(e[r]=o,e[l]=n,r=l);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var o=[],c=[],u=1,d=null,p=3,f=!1,h=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var s=n(c);null!==s;){if(null===s.callback)r(c);else{if(!(s.startTime<=e))break;r(c),s.sortIndex=s.expirationTime,t(o,s)}s=n(c)}}function y(e){if(m=!1,x(e),!h)if(null!==n(o))h=!0,R(j);else{var t=n(c);null!==t&&O(y,t.startTime-e)}}function j(t,s){h=!1,m&&(m=!1,v(k),k=-1),f=!0;var a=p;try{for(x(s),d=n(o);null!==d&&(!(d.expirationTime>s)||t&&!T());){var i=d.callback;if("function"==typeof i){d.callback=null,p=d.priorityLevel;var l=i(d.expirationTime<=s);s=e.unstable_now(),"function"==typeof l?d.callback=l:d===n(o)&&r(o),x(s)}else r(o);d=n(o)}if(null!==d)var u=!0;else{var g=n(c);null!==g&&O(y,g.startTime-s),u=!1}return u}finally{d=null,p=a,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,S=!1,w=null,k=-1,C=5,E=-1;function T(){return!(e.unstable_now()-E<C)}function _(){if(null!==w){var t=e.unstable_now();E=t;var n=!0;try{n=w(!0,t)}finally{n?N():(S=!1,w=null)}}else S=!1}if("function"==typeof b)N=function(){b(_)};else if("undefined"!=typeof MessageChannel){var I=new MessageChannel,P=I.port2;I.port1.onmessage=_,N=function(){P.postMessage(null)}}else N=function(){g(_,0)};function R(e){w=e,S||(S=!0,N())}function O(t,n){k=g(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){h||f||(h=!0,R(j))},e.unstable_forceFrameRate=function(e){0>e||125<e||(C=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_scheduleCallback=function(r,s,a){var i=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?i+a:i,r){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return r={id:u++,callback:s,priorityLevel:r,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>i?(r.sortIndex=a,t(c,r),null===n(o)&&r===n(c)&&(m?(v(k),k=-1):m=!0,O(y,a-i))):(r.sortIndex=l,t(o,r),h||f||(h=!0,R(j))),r},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}}(S)),S)),N.exports}
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function k(){if(g)return j;g=1;var e=u(),t=w();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(e,t){i(e,t),i(e+"Capture",t)}function i(e,t){for(s[e]=t,e=0;e<t.length;e++)r.add(t[e])}var l=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),o=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function f(e,t,n,r,s,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){h[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];h[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){h[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){h[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){h[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){h[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){h[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){h[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){h[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var m=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var s=h.hasOwnProperty(t)?h[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!o.call(p,e)||!o.call(d,e)&&(c.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(m,v);h[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(m,v);h[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(m,v);h[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){h[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),h.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){h[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,y=Symbol.for("react.element"),N=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),L=Symbol.iterator;function D(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,F=Object.assign;function z(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var $=!1;function U(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"==typeof c.stack){for(var s=c.stack.split("\n"),a=r.stack.split("\n"),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(1!==i||1!==l)do{if(i--,0>--l||s[i]!==a[l]){var o="\n"+s[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=i&&0<=l);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function q(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case S:return"Fragment";case N:return"Portal";case C:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?te(e,t.type,n):t.hasOwnProperty("defaultValue")&&te(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function te(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ne=Array.isArray;function re(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(n(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(n(92));if(ne(r)){if(1<r.length)throw Error(n(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:W(r)}}function ie(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,de,pe=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(he).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var be=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(n(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(n(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(n(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var je=null;function Ne(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,we=null,ke=null;function Ce(e){if(e=ys(e)){if("function"!=typeof Se)throw Error(n(280));var t=e.stateNode;t&&(t=Ns(t),Se(e.stateNode,e.type,t))}}function Ee(e){we?ke?ke.push(e):ke=[e]:we=e}function Te(){if(we){var e=we,t=ke;if(ke=we=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function _e(e,t){return e(t)}function Ie(){}var Pe=!1;function Re(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return _e(e,t,n)}finally{Pe=!1,(null!==we||null!==ke)&&(Ie(),Te())}}function Oe(e,t){var r=e.stateNode;if(null===r)return null;var s=Ns(r);if(null===s)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(n(231,t,typeof r));return r}var Ae=!1;if(l)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(de){Ae=!1}function De(e,t,n,r,s,a,i,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Fe=null,ze=!1,$e=null,Ue={onError:function(e){Me=!0,Fe=e}};function qe(e,t,n,r,s,a,i,l,o){Me=!1,Fe=null,De.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(n(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(n(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(s=a.return)){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return We(a),e;if(i===s)return We(a),t;i=i.sibling}throw Error(n(188))}if(r.return!==s.return)r=a,s=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,s=i;break}if(o===s){l=!0,s=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,s=a;break}if(o===s){l=!0,s=i,r=a;break}o=o.sibling}if(!l)throw Error(n(189))}}if(r.alternate!==s)throw Error(n(190))}if(3!==r.tag)throw Error(n(188));return r.stateNode.current===r?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var Je=t.unstable_scheduleCallback,Ge=t.unstable_cancelCallback,Ke=t.unstable_shouldYield,Ye=t.unstable_requestPaint,Xe=t.unstable_now,Ze=t.unstable_getCurrentPriorityLevel,et=t.unstable_ImmediatePriority,tt=t.unstable_UserBlockingPriority,nt=t.unstable_NormalPriority,rt=t.unstable_LowPriority,st=t.unstable_IdlePriority,at=null,it=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/ct|0)|0},ot=Math.log,ct=Math.LN2;var ut=64,dt=4194304;function pt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var l=i&~s;0!==l?r=pt(l):0!==(a&=i)&&(r=pt(a))}else 0!==(i=n&~s)?r=pt(i):0!==a&&(r=pt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(a=t&-t)||16===s&&4194240&a))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-lt(t)),r|=e[n],t&=~s;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return!(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var yt=0;function jt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var Nt,St,wt,kt,Ct,Et=!1,Tt=[],_t=null,It=null,Pt=null,Rt=new Map,Ot=new Map,At=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=ys(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Ft(e){var t=xs(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,function(){wt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ys(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);je=r,n.target.dispatchEvent(r),je=null,t.shift()}return!0}function $t(e,t,n){zt(e)&&n.delete(t)}function Ut(){Et=!1,null!==_t&&zt(_t)&&(_t=null),null!==It&&zt(It)&&(It=null),null!==Pt&&zt(Pt)&&(Pt=null),Rt.forEach($t),Ot.forEach($t)}function qt(e,n){e.blockedOn===n&&(e.blockedOn=null,Et||(Et=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return qt(t,e)}if(0<Tt.length){qt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&qt(_t,e),null!==It&&qt(It,e),null!==Pt&&qt(Pt,e),Rt.forEach(t),Ot.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Ft(n),null===n.blockedOn&&At.shift()}var Ht=x.ReactCurrentBatchConfig,Wt=!0;function Vt(e,t,n,r){var s=yt,a=Ht.transition;Ht.transition=null;try{yt=1,Jt(e,t,n,r)}finally{yt=s,Ht.transition=a}}function Qt(e,t,n,r){var s=yt,a=Ht.transition;Ht.transition=null;try{yt=4,Jt(e,t,n,r)}finally{yt=s,Ht.transition=a}}function Jt(e,t,n,r){if(Wt){var s=Kt(e,t,n,r);if(null===s)Wr(e,t,r,Gt,n),Dt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return _t=Mt(_t,e,t,n,r,s),!0;case"dragenter":return It=Mt(It,e,t,n,r,s),!0;case"mouseover":return Pt=Mt(Pt,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==s;){var a=ys(s);if(null!==a&&Nt(a),null===(a=Kt(e,t,n,r))&&Wr(e,t,r,Gt,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Gt=null;function Kt(e,t,n,r){if(Gt=null,null!==(e=xs(e=Ne(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case et:return 1;case tt:return 4;case nt:case rt:return 16;case st:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,en=null;function tn(){if(en)return en;var e,t,n=Zt,r=n.length,s="value"in Xt?Xt.value:Xt.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[a-t];t++);return en=s.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function sn(){return!1}function an(e){function t(t,n,r,s,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?rn:sn,this.isPropagationStopped=sn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var ln,on,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(un),pn=F({},un,{view:0,detail:0}),fn=an(pn),hn=F({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(ln=e.screenX-cn.screenX,on=e.screenY-cn.screenY):on=ln=0,cn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=an(hn),gn=an(F({},hn,{dataTransfer:0})),vn=an(F({},pn,{relatedTarget:0})),bn=an(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(xn),jn=an(F({},un,{data:0})),Nn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Cn(){return kn}var En=F({},pn,{key:function(e){if(e.key){var t=Nn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),_n=an(F({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=an(F({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=an(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Rn),An=[9,13,27,32],Ln=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var Mn=l&&"TextEvent"in window&&!Dn,Fn=l&&(!Ln||Dn&&8<Dn&&11>=Dn),zn=String.fromCharCode(32),$n=!1;function Un(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ee(r),0<(t=Qr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Jn=null;function Gn(e){zr(e,0)}function Kn(e){if(J(js(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Zn;if(l){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"==typeof tr.oninput}Zn=er}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function nr(){Qn&&(Qn.detachEvent("onpropertychange",rr),Jn=Qn=null)}function rr(e){if("value"===e.propertyName&&Kn(Jn)){var t=[];Vn(t,Jn,e,Ne(e)),Re(Gn,t)}}function sr(e,t,n){"focusin"===e?(nr(),Jn=n,(Qn=t).attachEvent("onpropertychange",rr)):"focusout"===e&&nr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Jn)}function ir(e,t){if("click"===e)return Kn(t)}function lr(e,t){if("input"===e||"change"===e)return Kn(t)}var or="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function cr(e,t){if(or(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!o.call(t,s)||!or(e[s],t[s]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&pr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=void 0===r.end?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=dr(n,a);var i=dr(n,r);s&&i&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=l&&"documentMode"in document&&11>=document.documentMode,vr=null,br=null,xr=null,yr=!1;function jr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==vr||vr!==G(r)||("selectionStart"in(r=vr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&cr(xr,r)||(xr=r,0<(r=Qr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function Nr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionend:Nr("Transition","TransitionEnd")},wr={},kr={};function Cr(e){if(wr[e])return wr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return wr[e]=n[t];return e}l&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Er=Cr("animationend"),Tr=Cr("animationiteration"),_r=Cr("animationstart"),Ir=Cr("transitionend"),Pr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Pr.set(e,t),a(t,[e])}for(var Ar=0;Ar<Rr.length;Ar++){var Lr=Rr[Ar];Or(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Or(Er,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(_r,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Ir,"onTransitionEnd"),i("onMouseEnter",["mouseout","mouseover"]),i("onMouseLeave",["mouseout","mouseover"]),i("onPointerEnter",["pointerout","pointerover"]),i("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Fr(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,s,a,i,l,o,c){if(qe.apply(this,arguments),Me){if(!Me)throw Error(n(198));var u=Fe;Me=!1,Fe=null,ze||(ze=!0,$e=u)}}(s,t,void 0,e),e.currentTarget=null}function zr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==a&&s.isPropagationStopped())break e;Fr(s,l,c),a=o}else for(i=0;i<r.length;i++){if(o=(l=r[i]).instance,c=l.currentTarget,l=l.listener,o!==a&&s.isPropagationStopped())break e;Fr(s,l,c),a=o}}}if(ze)throw e=$e,ze=!1,$e=null,e}function $r(e,t){var n=t[gs];void 0===n&&(n=t[gs]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[qr]){e[qr]=!0,r.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var s=Vt;break;case 4:s=Qt;break;default:s=Jt}n=s.bind(null,t,n,e),s=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,s){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===s||8===l.nodeType&&l.parentNode===s)break;if(4===i)for(i=r.return;null!==i;){var o=i.tag;if((3===o||4===o)&&((o=i.stateNode.containerInfo)===s||8===o.nodeType&&o.parentNode===s))return;i=i.return}for(;null!==l;){if(null===(i=xs(l)))return;if(5===(o=i.tag)||6===o){r=a=i;continue e}l=l.parentNode}}r=r.return}Re(function(){var r=a,s=Ne(n),i=[];e:{var l=Pr.get(e);if(void 0!==l){var o=dn,c=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":o=Tn;break;case"focusin":c="focus",o=vn;break;case"focusout":c="blur",o=vn;break;case"beforeblur":case"afterblur":o=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=In;break;case Er:case Tr:case _r:o=bn;break;case Ir:o=Pn;break;case"scroll":o=fn;break;case"wheel":o=On;break;case"copy":case"cut":case"paste":o=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=_n}var u=!!(4&t),d=!u&&"scroll"===e,p=u?null!==l?l+"Capture":null:l;u=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Oe(h,p))&&u.push(Vr(h,m,f)))),d)break;h=h.return}0<u.length&&(l=new o(l,c,null,n,s),i.push({event:l,listeners:u}))}}if(!(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===je||!(c=n.relatedTarget||n.fromElement)||!xs(c)&&!c[ms])&&(o||l)&&(l=s.window===s?s:(l=s.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=r,null!==(c=(c=n.relatedTarget||n.toElement)?xs(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=r),o!==c)){if(u=mn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==o?l:js(o),f=null==c?l:js(c),(l=new u(m,h+"leave",o,n,s)).target=d,l.relatedTarget=f,m=null,xs(s)===r&&((u=new u(p,h+"enter",c,n,s)).target=f,u.relatedTarget=d,m=u),d=m,o&&c)e:{for(p=c,h=0,f=u=o;f;f=Jr(f))h++;for(f=0,m=p;m;m=Jr(m))f++;for(;0<h-f;)u=Jr(u),h--;for(;0<f-h;)p=Jr(p),f--;for(;h--;){if(u===p||null!==p&&u===p.alternate)break e;u=Jr(u),p=Jr(p)}u=null}else u=null;null!==o&&Gr(i,l,o,u,!1),null!==c&&null!==d&&Gr(i,d,c,u,!0)}if("select"===(o=(l=r?js(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var g=Yn;else if(Wn(l))if(Xn)g=lr;else{g=ar;var v=sr}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=ir);switch(g&&(g=g(e,r))?Vn(i,g,n,s):(v&&v(e,l,r),"focusout"===e&&(v=l._wrapperState)&&v.controlled&&"number"===l.type&&te(l,"number",l.value)),v=r?js(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(vr=v,br=r,xr=null);break;case"focusout":xr=br=vr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,jr(i,n,s);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":jr(i,n,s)}var b;if(Ln)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Bn?Un(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Bn&&(b=tn()):(Zt="value"in(Xt=s)?Xt.value:Xt.textContent,Bn=!0)),0<(v=Qr(r,x)).length&&(x=new jn(x,e,null,n,s),i.push({event:x,listeners:v}),b?x.data=b:null!==(b=qn(n))&&(x.data=b))),(b=Mn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:($n=!0,zn);case"textInput":return(e=t.data)===zn&&$n?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Ln&&Un(e,t)?(e=tn(),en=Zt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Qr(r,"onBeforeInput")).length&&(s=new jn("onBeforeInput","beforeinput",null,n,s),i.push({event:s,listeners:r}),s.data=b))}zr(i,t)})}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Oe(e,n))&&r.unshift(Vr(e,a,s)),null!=(a=Oe(e,t))&&r.push(Vr(e,a,s))),e=e.return}return r}function Jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,s){for(var a=t._reactName,i=[];null!==n&&n!==r;){var l=n,o=l.alternate,c=l.stateNode;if(null!==o&&o===r)break;5===l.tag&&null!==c&&(l=c,s?null!=(o=Oe(n,a))&&i.unshift(Vr(n,o,l)):s||null!=(o=Oe(n,a))&&i.push(Vr(n,o,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Kr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"==typeof e?e:""+e).replace(Kr,"\n").replace(Yr,"")}function Zr(e,t,r){if(t=Xr(t),Xr(e)!==t&&r)throw Error(n(425))}function es(){}var ts=null,ns=null;function rs(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ss="function"==typeof setTimeout?setTimeout:void 0,as="function"==typeof clearTimeout?clearTimeout:void 0,is="function"==typeof Promise?Promise:void 0,ls="function"==typeof queueMicrotask?queueMicrotask:void 0!==is?function(e){return is.resolve(null).then(e).catch(os)}:ss;function os(e){setTimeout(function(){throw e})}function cs(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);Bt(t)}function us(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ps=Math.random().toString(36).slice(2),fs="__reactFiber$"+ps,hs="__reactProps$"+ps,ms="__reactContainer$"+ps,gs="__reactEvents$"+ps,vs="__reactListeners$"+ps,bs="__reactHandles$"+ps;function xs(e){var t=e[fs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ms]||n[fs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ds(e);null!==e;){if(n=e[fs])return n;e=ds(e)}return t}n=(e=n).parentNode}return null}function ys(e){return!(e=e[fs]||e[ms])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function js(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(n(33))}function Ns(e){return e[hs]||null}var Ss=[],ws=-1;function ks(e){return{current:e}}function Cs(e){0>ws||(e.current=Ss[ws],Ss[ws]=null,ws--)}function Es(e,t){ws++,Ss[ws]=e.current,e.current=t}var Ts={},_s=ks(Ts),Is=ks(!1),Ps=Ts;function Rs(e,t){var n=e.type.contextTypes;if(!n)return Ts;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Os(e){return null!=(e=e.childContextTypes)}function As(){Cs(Is),Cs(_s)}function Ls(e,t,r){if(_s.current!==Ts)throw Error(n(168));Es(_s,t),Es(Is,r)}function Ds(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,"function"!=typeof s.getChildContext)return r;for(var a in s=s.getChildContext())if(!(a in t))throw Error(n(108,H(e)||"Unknown",a));return F({},r,s)}function Ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ts,Ps=_s.current,Es(_s,e),Es(Is,Is.current),!0}function Fs(e,t,r){var s=e.stateNode;if(!s)throw Error(n(169));r?(e=Ds(e,t,Ps),s.__reactInternalMemoizedMergedChildContext=e,Cs(Is),Cs(_s),Es(_s,e)):Cs(Is),Es(Is,r)}var zs=null,$s=!1,Us=!1;function qs(e){null===zs?zs=[e]:zs.push(e)}function Bs(){if(!Us&&null!==zs){Us=!0;var e=0,t=yt;try{var n=zs;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zs=null,$s=!1}catch(s){throw null!==zs&&(zs=zs.slice(e+1)),Je(et,Bs),s}finally{yt=t,Us=!1}}return null}var Hs=[],Ws=0,Vs=null,Qs=0,Js=[],Gs=0,Ks=null,Ys=1,Xs="";function Zs(e,t){Hs[Ws++]=Qs,Hs[Ws++]=Vs,Vs=e,Qs=t}function ea(e,t,n){Js[Gs++]=Ys,Js[Gs++]=Xs,Js[Gs++]=Ks,Ks=e;var r=Ys;e=Xs;var s=32-lt(r)-1;r&=~(1<<s),n+=1;var a=32-lt(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Ys=1<<32-lt(t)+s|n<<s|r,Xs=a+e}else Ys=1<<a|n<<s|r,Xs=e}function ta(e){null!==e.return&&(Zs(e,1),ea(e,1,0))}function na(e){for(;e===Vs;)Vs=Hs[--Ws],Hs[Ws]=null,Qs=Hs[--Ws],Hs[Ws]=null;for(;e===Ks;)Ks=Js[--Gs],Js[Gs]=null,Xs=Js[--Gs],Js[Gs]=null,Ys=Js[--Gs],Js[Gs]=null}var ra=null,sa=null,aa=!1,ia=null;function la(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,sa=us(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,sa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ks?{id:Ys,overflow:Xs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ra=e,sa=null,!0);default:return!1}}function ca(e){return!(!(1&e.mode)||128&e.flags)}function ua(e){if(aa){var t=sa;if(t){var r=t;if(!oa(e,t)){if(ca(e))throw Error(n(418));t=us(r.nextSibling);var s=ra;t&&oa(e,t)?la(s,r):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(ca(e))throw Error(n(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function pa(e){if(e!==ra)return!1;if(!aa)return da(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rs(e.type,e.memoizedProps)),t&&(t=sa)){if(ca(e))throw fa(),Error(n(418));for(;t;)la(e,t),t=us(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){sa=us(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}sa=null}}else sa=ra?us(e.stateNode.nextSibling):null;return!0}function fa(){for(var e=sa;e;)e=us(e.nextSibling)}function ha(){sa=ra=null,aa=!1}function ma(e){null===ia?ia=[e]:ia.push(e)}var ga=x.ReactCurrentBatchConfig;function va(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(n(309));var s=r.stateNode}if(!s)throw Error(n(147,e));var a=s,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(n(284));if(!r._owner)throw Error(n(290,e))}return e}function ba(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xa(e){return(0,e._init)(e._payload)}function ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function r(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function s(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===O&&xa(s)===t.type)?((r=a(t,n.props)).ref=va(e,t,n),r.return=e,r):((r=Ac(n.type,n.key,n.props,null,e.mode,r)).ref=va(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case y:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=va(e,null,t),n.return=e,n;case N:return(t=Fc(t,e.mode,n)).return=e,t;case O:return p(e,(0,t._init)(t._payload),n)}if(ne(t)||D(t))return(t=Lc(t,e.mode,n,null)).return=e,t;ba(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==s?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case y:return n.key===s?c(e,t,n,r):null;case N:return n.key===s?u(e,t,n,r):null;case O:return f(e,t,(s=n._init)(n._payload),r)}if(ne(n)||D(n))return null!==s?null:d(e,t,n,r,null);ba(e,n)}return null}function h(e,t,n,r,s){if("string"==typeof r&&""!==r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,s);if("object"==typeof r&&null!==r){switch(r.$$typeof){case y:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case N:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case O:return h(e,t,n,(0,r._init)(r._payload),s)}if(ne(r)||D(r))return d(t,e=e.get(n)||null,r,s,null);ba(t,r)}return null}return function o(c,u,d,m){if("object"==typeof d&&null!==d&&d.type===S&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case y:e:{for(var g=d.key,v=u;null!==v;){if(v.key===g){if((g=d.type)===S){if(7===v.tag){r(c,v.sibling),(u=a(v,d.props.children)).return=c,c=u;break e}}else if(v.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===O&&xa(g)===v.type){r(c,v.sibling),(u=a(v,d.props)).ref=va(c,v,d),u.return=c,c=u;break e}r(c,v);break}t(c,v),v=v.sibling}d.type===S?((u=Lc(d.props.children,c.mode,m,d.key)).return=c,c=u):((m=Ac(d.type,d.key,d.props,null,c.mode,m)).ref=va(c,u,d),m.return=c,c=m)}return l(c);case N:e:{for(v=d.key;null!==u;){if(u.key===v){if(4===u.tag&&u.stateNode.containerInfo===d.containerInfo&&u.stateNode.implementation===d.implementation){r(c,u.sibling),(u=a(u,d.children||[])).return=c,c=u;break e}r(c,u);break}t(c,u),u=u.sibling}(u=Fc(d,c.mode,m)).return=c,c=u}return l(c);case O:return o(c,u,(v=d._init)(d._payload),m)}if(ne(d))return function(n,a,l,o){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<l.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(n,d,l[m],o);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(n,d),a=i(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===l.length)return r(n,d),aa&&Zs(n,m),c;if(null===d){for(;m<l.length;m++)null!==(d=p(n,l[m],o))&&(a=i(d,a,m),null===u?c=d:u.sibling=d,u=d);return aa&&Zs(n,m),c}for(d=s(n,d);m<l.length;m++)null!==(g=h(d,n,m,l[m],o))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=i(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(n,e)}),aa&&Zs(n,m),c}(c,u,d,m);if(D(d))return function(a,l,o,c){var u=D(o);if("function"!=typeof u)throw Error(n(150));if(null==(o=u.call(o)))throw Error(n(151));for(var d=u=null,m=l,g=l=0,v=null,b=o.next();null!==m&&!b.done;g++,b=o.next()){m.index>g?(v=m,m=null):v=m.sibling;var x=f(a,m,b.value,c);if(null===x){null===m&&(m=v);break}e&&m&&null===x.alternate&&t(a,m),l=i(x,l,g),null===d?u=x:d.sibling=x,d=x,m=v}if(b.done)return r(a,m),aa&&Zs(a,g),u;if(null===m){for(;!b.done;g++,b=o.next())null!==(b=p(a,b.value,c))&&(l=i(b,l,g),null===d?u=b:d.sibling=b,d=b);return aa&&Zs(a,g),u}for(m=s(a,m);!b.done;g++,b=o.next())null!==(b=h(m,a,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),l=i(b,l,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach(function(e){return t(a,e)}),aa&&Zs(a,g),u}(c,u,d,m);ba(c,d)}return"string"==typeof d&&""!==d||"number"==typeof d?(d=""+d,null!==u&&6===u.tag?(r(c,u.sibling),(u=a(u,d)).return=c,c=u):(r(c,u),(u=Mc(d,c.mode,m)).return=c,c=u),l(c)):r(c,u)}}var ja=ya(!0),Na=ya(!1),Sa=ks(null),wa=null,ka=null,Ca=null;function Ea(){Ca=ka=wa=null}function Ta(e){var t=Sa.current;Cs(Sa),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ia(e,t){wa=e,Ca=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bl=!0),e.firstContext=null)}function Pa(e){var t=e._currentValue;if(Ca!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===wa)throw Error(n(308));ka=e,wa.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ra=null;function Oa(e){null===Ra?Ra=[e]:Ra.push(e)}function Aa(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Oa(t)):(n.next=s.next,s.next=n),t.interleaved=n,La(e,r)}function La(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Da=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $a(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&To){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,La(e,n)}return null===(s=r.interleaved)?(t.next=t,Oa(r)):(t.next=s.next,s.next=t),r.interleaved=t,La(e,n)}function Ua(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}function qa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ba(e,t,n,r){var s=e.updateQueue;Da=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?a=c:i.next=c,i=o;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=o))}if(null!==a){var d=s.baseState;for(i=0,u=c=o=null,l=a;;){var p=l.lane,f=l.eventTime;if((r&p)===p){null!==u&&(u=u.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,m=l;switch(p=t,f=n,m.tag){case 1:if("function"==typeof(h=m.payload)){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=m.payload)?h.call(f,d,p):h))break e;d=F({},d,p);break e;case 2:Da=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(p=s.effects)?s.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=f,o=d):u=u.next=f,i|=p;if(null===(l=l.next)){if(null===(l=s.shared.pending))break;l=(p=l).next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}if(null===u&&(o=d),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{i|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Do|=i,e.lanes=i,e.memoizedState=d}}function Ha(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(null!==a){if(s.callback=null,s=r,"function"!=typeof a)throw Error(n(191,a));a.call(s)}}}var Wa={},Va=ks(Wa),Qa=ks(Wa),Ja=ks(Wa);function Ga(e){if(e===Wa)throw Error(n(174));return e}function Ka(e,t){switch(Es(Ja,t),Es(Qa,e),Es(Va,Wa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Cs(Va),Es(Va,t)}function Ya(){Cs(Va),Cs(Qa),Cs(Ja)}function Xa(e){Ga(Ja.current);var t=Ga(Va.current),n=ce(t,e.type);t!==n&&(Es(Qa,e),Es(Va,n))}function Za(e){Qa.current===e&&(Cs(Va),Cs(Qa))}var ei=ks(0);function ti(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ni=[];function ri(){for(var e=0;e<ni.length;e++)ni[e]._workInProgressVersionPrimary=null;ni.length=0}var si=x.ReactCurrentDispatcher,ai=x.ReactCurrentBatchConfig,ii=0,li=null,oi=null,ci=null,ui=!1,di=!1,pi=0,fi=0;function hi(){throw Error(n(321))}function mi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function gi(e,t,r,s,a,i){if(ii=i,li=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,si.current=null===e||null===e.memoizedState?Zi:el,e=r(s,a),di){i=0;do{if(di=!1,pi=0,25<=i)throw Error(n(301));i+=1,ci=oi=null,t.updateQueue=null,si.current=tl,e=r(s,a)}while(di)}if(si.current=Xi,t=null!==oi&&null!==oi.next,ii=0,ci=oi=li=null,ui=!1,t)throw Error(n(300));return e}function vi(){var e=0!==pi;return pi=0,e}function bi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ci?li.memoizedState=ci=e:ci=ci.next=e,ci}function xi(){if(null===oi){var e=li.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===ci?li.memoizedState:ci.next;if(null!==t)ci=t,oi=e;else{if(null===e)throw Error(n(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===ci?li.memoizedState=ci=e:ci=ci.next=e}return ci}function yi(e,t){return"function"==typeof t?t(e):t}function ji(e){var t=xi(),r=t.queue;if(null===r)throw Error(n(311));r.lastRenderedReducer=e;var s=oi,a=s.baseQueue,i=r.pending;if(null!==i){if(null!==a){var l=a.next;a.next=i.next,i.next=l}s.baseQueue=a=i,r.pending=null}if(null!==a){i=a.next,s=s.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((ii&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(o=c=p,l=s):c=c.next=p,li.lanes|=d,Do|=d}u=u.next}while(null!==u&&u!==i);null===c?l=s:c.next=o,or(s,t.memoizedState)||(bl=!0),t.memoizedState=s,t.baseState=l,t.baseQueue=c,r.lastRenderedState=s}if(null!==(e=r.interleaved)){a=e;do{i=a.lane,li.lanes|=i,Do|=i,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ni(e){var t=xi(),r=t.queue;if(null===r)throw Error(n(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(null!==a){r.pending=null;var l=a=a.next;do{i=e(i,l.action),l=l.next}while(l!==a);or(i,t.memoizedState)||(bl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function Si(){}function wi(e,t){var r=li,s=xi(),a=t(),i=!or(s.memoizedState,a);if(i&&(s.memoizedState=a,bl=!0),s=s.queue,Di(Ei.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||null!==ci&&1&ci.memoizedState.tag){if(r.flags|=2048,Pi(9,Ci.bind(null,r,s,a,t),void 0,null),null===_o)throw Error(n(349));30&ii||ki(r,t,a)}return a}function ki(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=li.updateQueue)?(t={lastEffect:null,stores:null},li.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ci(e,t,n,r){t.value=n,t.getSnapshot=r,Ti(t)&&_i(e)}function Ei(e,t,n){return n(function(){Ti(t)&&_i(e)})}function Ti(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function _i(e){var t=La(e,1);null!==t&&nc(t,e,1,-1)}function Ii(e){var t=bi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ji.bind(null,li,e),[t.memoizedState,e]}function Pi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=li.updateQueue)?(t={lastEffect:null,stores:null},li.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ri(){return xi().memoizedState}function Oi(e,t,n,r){var s=bi();li.flags|=e,s.memoizedState=Pi(1|t,n,void 0,void 0===r?null:r)}function Ai(e,t,n,r){var s=xi();r=void 0===r?null:r;var a=void 0;if(null!==oi){var i=oi.memoizedState;if(a=i.destroy,null!==r&&mi(r,i.deps))return void(s.memoizedState=Pi(t,n,a,r))}li.flags|=e,s.memoizedState=Pi(1|t,n,a,r)}function Li(e,t){return Oi(8390656,8,e,t)}function Di(e,t){return Ai(2048,8,e,t)}function Mi(e,t){return Ai(4,2,e,t)}function Fi(e,t){return Ai(4,4,e,t)}function zi(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $i(e,t,n){return n=null!=n?n.concat([e]):null,Ai(4,4,zi.bind(null,t,e),n)}function Ui(){}function qi(e,t){var n=xi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bi(e,t){var n=xi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hi(e,t,n){return 21&ii?(or(n,t)||(n=gt(),li.lanes|=n,Do|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bl=!0),e.memoizedState=n)}function Wi(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),t()}finally{yt=n,ai.transition=r}}function Vi(){return xi().memoizedState}function Qi(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gi(e))Ki(t,n);else if(null!==(n=Aa(e,t,n,r))){nc(n,e,r,ec()),Yi(n,t,r)}}function Ji(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gi(e))Ki(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=a(i,n);if(s.hasEagerState=!0,s.eagerState=l,or(l,i)){var o=t.interleaved;return null===o?(s.next=s,Oa(t)):(s.next=o.next,o.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Aa(e,t,s,r))&&(nc(n,e,r,s=ec()),Yi(n,t,r))}}function Gi(e){var t=e.alternate;return e===li||null!==t&&t===li}function Ki(e,t){di=ui=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yi(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}var Xi={readContext:Pa,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Zi={readContext:Pa,useCallback:function(e,t){return bi().memoizedState=[e,void 0===t?null:t],e},useContext:Pa,useEffect:Li,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Oi(4194308,4,zi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oi(4,2,e,t)},useMemo:function(e,t){var n=bi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qi.bind(null,li,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},bi().memoizedState=e},useState:Ii,useDebugValue:Ui,useDeferredValue:function(e){return bi().memoizedState=e},useTransition:function(){var e=Ii(!1),t=e[0];return e=Wi.bind(null,e[1]),bi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=li,a=bi();if(aa){if(void 0===r)throw Error(n(407));r=r()}else{if(r=t(),null===_o)throw Error(n(349));30&ii||ki(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Li(Ei.bind(null,s,i,e),[e]),s.flags|=2048,Pi(9,Ci.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=bi(),t=_o.identifierPrefix;if(aa){var n=Xs;t=":"+t+"R"+(n=(Ys&~(1<<32-lt(Ys)-1)).toString(32)+n),0<(n=pi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},el={readContext:Pa,useCallback:qi,useContext:Pa,useEffect:Di,useImperativeHandle:$i,useInsertionEffect:Mi,useLayoutEffect:Fi,useMemo:Bi,useReducer:ji,useRef:Ri,useState:function(){return ji(yi)},useDebugValue:Ui,useDeferredValue:function(e){return Hi(xi(),oi.memoizedState,e)},useTransition:function(){return[ji(yi)[0],xi().memoizedState]},useMutableSource:Si,useSyncExternalStore:wi,useId:Vi,unstable_isNewReconciler:!1},tl={readContext:Pa,useCallback:qi,useContext:Pa,useEffect:Di,useImperativeHandle:$i,useInsertionEffect:Mi,useLayoutEffect:Fi,useMemo:Bi,useReducer:Ni,useRef:Ri,useState:function(){return Ni(yi)},useDebugValue:Ui,useDeferredValue:function(e){var t=xi();return null===oi?t.memoizedState=e:Hi(t,oi.memoizedState,e)},useTransition:function(){return[Ni(yi)[0],xi().memoizedState]},useMutableSource:Si,useSyncExternalStore:wi,useId:Vi,unstable_isNewReconciler:!1};function nl(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rl(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var sl={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),a=za(r,s);a.payload=t,null!=n&&(a.callback=n),null!==(t=$a(e,a,s))&&(nc(t,e,s,r),Ua(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),a=za(r,s);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=$a(e,a,s))&&(nc(t,e,s,r),Ua(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=za(n,r);s.tag=2,null!=t&&(s.callback=t),null!==(t=$a(e,s,r))&&(nc(t,e,r,n),Ua(t,e,r))}};function al(e,t,n,r,s,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(s,a))}function il(e,t,n){var r=!1,s=Ts,a=t.contextType;return"object"==typeof a&&null!==a?a=Pa(a):(s=Os(t)?Ps:_s.current,a=(r=null!=(r=t.contextTypes))?Rs(e,s):Ts),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=sl,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function ll(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&sl.enqueueReplaceState(t,t.state,null)}function ol(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ma(e);var a=t.contextType;"object"==typeof a&&null!==a?s.context=Pa(a):(a=Os(t)?Ps:_s.current,s.context=Rs(e,a)),s.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(rl(e,t,a,n),s.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(t=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&sl.enqueueReplaceState(s,s.state,null),Ba(e,n,s,r),s.state=e.memoizedState),"function"==typeof s.componentDidMount&&(e.flags|=4194308)}function cl(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var s=n}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function ul(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}var dl="function"==typeof WeakMap?WeakMap:Map;function pl(e,t,n){(n=za(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ho||(Ho=!0,Wo=r)},n}function fl(e,t,n){(n=za(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Vo?Vo=new Set([this]):Vo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new dl;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function ml(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gl(e,t,n,r,s){return 1&e.mode?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=za(-1,1)).tag=2,$a(n,t,1))),n.lanes|=1),e)}var vl=x.ReactCurrentOwner,bl=!1;function xl(e,t,n,r){t.child=null===e?Na(t,null,n,r):ja(t,e.child,n,r)}function yl(e,t,n,r,s){n=n.render;var a=t.ref;return Ia(t,s),r=gi(e,t,n,r,a,s),n=vi(),null===e||bl?(aa&&n&&ta(t),t.flags|=1,xl(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bl(e,t,s))}function jl(e,t,n,r,s){if(null===e){var a=n.type;return"function"!=typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Nl(e,t,a,r,s))}if(a=e.child,0===(e.lanes&s)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(i,r)&&e.ref===t.ref)return Bl(e,t,s)}return t.flags|=1,(e=Oc(a,r)).ref=t.ref,e.return=t,t.child=e}function Nl(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if(cr(a,r)&&e.ref===t.ref){if(bl=!1,t.pendingProps=r=a,0===(e.lanes&s))return t.lanes=e.lanes,Bl(e,t,s);131072&e.flags&&(bl=!0)}}return kl(e,t,n,r,s)}function Sl(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Es(Oo,Ro),Ro|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Es(Oo,Ro),Ro|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Es(Oo,Ro),Ro|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Es(Oo,Ro),Ro|=r;return xl(e,t,s,n),t.child}function wl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function kl(e,t,n,r,s){var a=Os(n)?Ps:_s.current;return a=Rs(t,a),Ia(t,s),n=gi(e,t,n,r,a,s),r=vi(),null===e||bl?(aa&&r&&ta(t),t.flags|=1,xl(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bl(e,t,s))}function Cl(e,t,n,r,s){if(Os(n)){var a=!0;Ms(t)}else a=!1;if(Ia(t,s),null===t.stateNode)ql(e,t),il(t,n,r),ol(t,n,r,s),r=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var o=i.context,c=n.contextType;"object"==typeof c&&null!==c?c=Pa(c):c=Rs(t,c=Os(n)?Ps:_s.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof i.getSnapshotBeforeUpdate;d||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==r||o!==c)&&ll(t,i,r,c),Da=!1;var p=t.memoizedState;i.state=p,Ba(t,r,i,s),o=t.memoizedState,l!==r||p!==o||Is.current||Da?("function"==typeof u&&(rl(t,n,u,r),o=t.memoizedState),(l=Da||al(t,n,l,r,p,o,c))?(d||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),i.props=r,i.state=o,i.context=c,r=l):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Fa(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:nl(t.type,l),i.props=c,d=t.pendingProps,p=i.context,"object"==typeof(o=n.contextType)&&null!==o?o=Pa(o):o=Rs(t,o=Os(n)?Ps:_s.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==d||p!==o)&&ll(t,i,r,o),Da=!1,p=t.memoizedState,i.state=p,Ba(t,r,i,s);var h=t.memoizedState;l!==d||p!==h||Is.current||Da?("function"==typeof f&&(rl(t,n,f,r),h=t.memoizedState),(c=Da||al(t,n,c,r,p,h,o)||!1)?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,o),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,o)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=o,r=c):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return El(e,t,n,r,a,s)}function El(e,t,n,r,s,a){wl(e,t);var i=!!(128&t.flags);if(!r&&!i)return s&&Fs(t,n,!1),Bl(e,t,a);r=t.stateNode,vl.current=t;var l=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ja(t,e.child,null,a),t.child=ja(t,null,l,a)):xl(e,t,l,a),t.memoizedState=r.state,s&&Fs(t,n,!0),t.child}function Tl(e){var t=e.stateNode;t.pendingContext?Ls(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ls(0,t.context,!1),Ka(e,t.containerInfo)}function _l(e,t,n,r,s){return ha(),ma(s),t.flags|=256,xl(e,t,n,r),t.child}var Il,Pl,Rl,Ol,Al={dehydrated:null,treeContext:null,retryLane:0};function Ll(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dl(e,t,r){var s,a=t.pendingProps,i=ei.current,l=!1,o=!!(128&t.flags);if((s=o)||(s=(null===e||null!==e.memoizedState)&&!!(2&i)),s?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Es(ei,1&i),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,l?(a=t.mode,l=t.child,o={mode:"hidden",children:o},1&a||null===l?l=Dc(o,a,0,null):(l.childLanes=0,l.pendingProps=o),e=Lc(e,a,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ll(r),t.memoizedState=Al,e):Ml(t,o));if(null!==(i=e.memoizedState)&&null!==(s=i.dehydrated))return function(e,t,r,s,a,i,l){if(r)return 256&t.flags?(t.flags&=-257,Fl(e,t,l,s=ul(Error(n(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=Dc({mode:"visible",children:s.children},a,0,null),(i=Lc(i,a,l,null)).flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,1&t.mode&&ja(t,e.child,null,l),t.child.memoizedState=Ll(l),t.memoizedState=Al,i);if(!(1&t.mode))return Fl(e,t,l,null);if("$!"===a.data){if(s=a.nextSibling&&a.nextSibling.dataset)var o=s.dgst;return s=o,Fl(e,t,l,s=ul(i=Error(n(419)),s,void 0))}if(o=0!==(l&e.childLanes),bl||o){if(null!==(s=_o)){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(s.suspendedLanes|l))?0:a)&&a!==i.retryLane&&(i.retryLane=a,La(e,a),nc(s,e,a,-1))}return mc(),Fl(e,t,l,s=ul(Error(n(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,sa=us(a.nextSibling),ra=t,aa=!0,ia=null,null!==e&&(Js[Gs++]=Ys,Js[Gs++]=Xs,Js[Gs++]=Ks,Ys=e.id,Xs=e.overflow,Ks=t),t=Ml(t,s.children),t.flags|=4096,t)}(e,t,o,a,s,i,r);if(l){l=a.fallback,o=t.mode,s=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 1&o||t.child===i?(a=Oc(i,c)).subtreeFlags=14680064&i.subtreeFlags:((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null),null!==s?l=Oc(s,l):(l=Lc(l,o,r,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,o=null===(o=e.child.memoizedState)?Ll(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~r,t.memoizedState=Al,a}return e=(l=e.child).sibling,a=Oc(l,{mode:"visible",children:a.children}),!(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Ml(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fl(e,t,n,r){return null!==r&&ma(r),ja(t,e.child,null,n),(e=Ml(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function $l(e,t,n,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Ul(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(xl(e,t,r.children,n),2&(r=ei.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zl(e,n,t);else if(19===e.tag)zl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Es(ei,r),1&t.mode)switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ti(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),$l(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ti(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}$l(t,!0,n,null,a);break;case"together":$l(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function ql(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bl(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Do|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(n(153));if(null!==t.child){for(r=Oc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Oc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Hl(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vl(e,t,r){var a=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wl(t),null;case 1:case 17:return Os(t.type)&&As(),Wl(t),null;case 3:return a=t.stateNode,Ya(),Cs(Is),Cs(_s),ri(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(pa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ia&&(ic(ia),ia=null))),Pl(e,t),Wl(t),null;case 5:Za(t);var i=Ga(Ja.current);if(r=t.type,null!==e&&null!=t.stateNode)Rl(e,t,r,a,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(n(166));return Wl(t),null}if(e=Ga(Va.current),pa(t)){a=t.stateNode,r=t.type;var l=t.memoizedProps;switch(a[fs]=t,a[hs]=l,e=!!(1&t.mode),r){case"dialog":$r("cancel",a),$r("close",a);break;case"iframe":case"object":case"embed":$r("load",a);break;case"video":case"audio":for(i=0;i<Dr.length;i++)$r(Dr[i],a);break;case"source":$r("error",a);break;case"img":case"image":case"link":$r("error",a),$r("load",a);break;case"details":$r("toggle",a);break;case"input":Y(a,l),$r("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},$r("invalid",a);break;case"textarea":ae(a,l),$r("invalid",a)}for(var o in xe(r,l),i=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"==typeof c?a.textContent!==c&&(!0!==l.suppressHydrationWarning&&Zr(a.textContent,c,e),i=["children",c]):"number"==typeof c&&a.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Zr(a.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&$r("scroll",a)}switch(r){case"input":Q(a),ee(a,l,!0);break;case"textarea":Q(a),le(a);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(a.onclick=es)}a=i,t.updateQueue=a,null!==a&&(t.flags|=4)}else{o=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof a.is?e=o.createElement(r,{is:a.is}):(e=o.createElement(r),"select"===r&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,r),e[fs]=t,e[hs]=a,Il(e,t,!1,!1),t.stateNode=e;e:{switch(o=ye(r,a),r){case"dialog":$r("cancel",e),$r("close",e),i=a;break;case"iframe":case"object":case"embed":$r("load",e),i=a;break;case"video":case"audio":for(i=0;i<Dr.length;i++)$r(Dr[i],e);i=a;break;case"source":$r("error",e),i=a;break;case"img":case"image":case"link":$r("error",e),$r("load",e),i=a;break;case"details":$r("toggle",e),i=a;break;case"input":Y(e,a),i=K(e,a),$r("invalid",e);break;case"option":default:i=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},i=F({},a,{value:void 0}),$r("invalid",e);break;case"textarea":ae(e,a),i=se(e,a),$r("invalid",e)}for(l in xe(r,i),c=i)if(c.hasOwnProperty(l)){var u=c[l];"style"===l?ve(e,u):"dangerouslySetInnerHTML"===l?null!=(u=u?u.__html:void 0)&&pe(e,u):"children"===l?"string"==typeof u?("textarea"!==r||""!==u)&&fe(e,u):"number"==typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?null!=u&&"onScroll"===l&&$r("scroll",e):null!=u&&b(e,l,u,o))}switch(r){case"input":Q(e),ee(e,a,!1);break;case"textarea":Q(e),le(e);break;case"option":null!=a.value&&e.setAttribute("value",""+W(a.value));break;case"select":e.multiple=!!a.multiple,null!=(l=a.value)?re(e,!!a.multiple,l,!1):null!=a.defaultValue&&re(e,!!a.multiple,a.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=es)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wl(t),null;case 6:if(e&&null!=t.stateNode)Ol(e,t,e.memoizedProps,a);else{if("string"!=typeof a&&null===t.stateNode)throw Error(n(166));if(r=Ga(Ja.current),Ga(Va.current),pa(t)){if(a=t.stateNode,r=t.memoizedProps,a[fs]=t,(l=a.nodeValue!==r)&&null!==(e=ra))switch(e.tag){case 3:Zr(a.nodeValue,r,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(a.nodeValue,r,!!(1&e.mode))}l&&(t.flags|=4)}else(a=(9===r.nodeType?r:r.ownerDocument).createTextNode(a))[fs]=t,t.stateNode=a}return Wl(t),null;case 13:if(Cs(ei),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==sa&&1&t.mode&&!(128&t.flags))fa(),ha(),t.flags|=98560,l=!1;else if(l=pa(t),null!==a&&null!==a.dehydrated){if(null===e){if(!l)throw Error(n(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(n(317));l[fs]=t}else ha(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wl(t),l=!1}else null!==ia&&(ic(ia),ia=null),l=!0;if(!l)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=r,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ei.current?0===Ao&&(Ao=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wl(t),null);case 4:return Ya(),Pl(e,t),null===e&&Br(t.stateNode.containerInfo),Wl(t),null;case 10:return Ta(t.type._context),Wl(t),null;case 19:if(Cs(ei),null===(l=t.memoizedState))return Wl(t),null;if(a=!!(128&t.flags),null===(o=l.rendering))if(a)Hl(l,!1);else{if(0!==Ao||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=ti(e))){for(t.flags|=128,Hl(l,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;null!==r;)e=a,(l=r).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Es(ei,1&ei.current|2),t.child}e=e.sibling}null!==l.tail&&Xe()>qo&&(t.flags|=128,a=!0,Hl(l,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=ti(o))){if(t.flags|=128,a=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Hl(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!aa)return Wl(t),null}else 2*Xe()-l.renderingStartTime>qo&&1073741824!==r&&(t.flags|=128,a=!0,Hl(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(r=l.last)?r.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Xe(),t.sibling=null,r=ei.current,Es(ei,a?1&r|2:1&r),t):(Wl(t),null);case 22:case 23:return dc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&1&t.mode?!!(1073741824&Ro)&&(Wl(t),6&t.subtreeFlags&&(t.flags|=8192)):Wl(t),null;case 24:case 25:return null}throw Error(n(156,t.tag))}function Ql(e,t){switch(na(t),t.tag){case 1:return Os(t.type)&&As(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ya(),Cs(Is),Cs(_s),ri(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(Cs(ei),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(n(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Cs(ei),null;case 4:return Ya(),null;case 10:return Ta(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Il=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pl=function(){},Rl=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ga(Va.current);var i,l=null;switch(n){case"input":a=K(e,a),r=K(e,r),l=[];break;case"select":a=F({},a,{value:void 0}),r=F({},r,{value:void 0}),l=[];break;case"textarea":a=se(e,a),r=se(e,r),l=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(e.onclick=es)}for(u in xe(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var o=a[u];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var c=r[u];if(o=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(null!=c||null!=o))if("style"===u)if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(l||(l=[]),l.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(l=l||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&$r("scroll",e),l||o===c||(l=[])):(l=l||[]).push(u,c))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}},Ol=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jl=!1,Gl=!1,Kl="function"==typeof WeakSet?WeakSet:Set,Yl=null;function Xl(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(r){wc(e,t,r)}else n.current=null}function Zl(e,t,n){try{n()}catch(r){wc(e,t,r)}}var eo=!1;function to(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&Zl(t,n,a)}s=s.next}while(s!==r)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ro(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function so(e){var t=e.alternate;null!==t&&(e.alternate=null,so(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fs],delete t[hs],delete t[gs],delete t[vs],delete t[bs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ao(e){return 5===e.tag||3===e.tag||4===e.tag}function io(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ao(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=es));else if(4!==r&&null!==(e=e.child))for(lo(e,t,n),e=e.sibling;null!==e;)lo(e,t,n),e=e.sibling}function oo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}var co=null,uo=!1;function po(e,t,n){for(n=n.child;null!==n;)fo(e,t,n),n=n.sibling}function fo(e,t,n){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(l){}switch(n.tag){case 5:Gl||Xl(n,t);case 6:var r=co,s=uo;co=null,po(e,t,n),uo=s,null!==(co=r)&&(uo?(e=co,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):co.removeChild(n.stateNode));break;case 18:null!==co&&(uo?(e=co,n=n.stateNode,8===e.nodeType?cs(e.parentNode,n):1===e.nodeType&&cs(e,n),Bt(e)):cs(co,n.stateNode));break;case 4:r=co,s=uo,co=n.stateNode.containerInfo,uo=!0,po(e,t,n),co=r,uo=s;break;case 0:case 11:case 14:case 15:if(!Gl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,void 0!==i&&(2&a||4&a)&&Zl(n,t,i),s=s.next}while(s!==r)}po(e,t,n);break;case 1:if(!Gl&&(Xl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){wc(n,t,l)}po(e,t,n);break;case 21:po(e,t,n);break;case 22:1&n.mode?(Gl=(r=Gl)||null!==n.memoizedState,po(e,t,n),Gl=r):po(e,t,n);break;default:po(e,t,n)}}function ho(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Kl),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function mo(e,t){var r=t.deletions;if(null!==r)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(n(160));fo(i,l,a),co=null,uo=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){wc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)go(t,e),t=t.sibling}function go(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mo(t,e),vo(e),4&s){try{to(3,e,e.return),no(3,e)}catch(g){wc(e,e.return,g)}try{to(5,e,e.return)}catch(g){wc(e,e.return,g)}}break;case 1:mo(t,e),vo(e),512&s&&null!==r&&Xl(r,r.return);break;case 5:if(mo(t,e),vo(e),512&s&&null!==r&&Xl(r,r.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(g){wc(e,e.return,g)}}if(4&s&&null!=(a=e.stateNode)){var i=e.memoizedProps,l=null!==r?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===i.type&&null!=i.name&&X(a,i),ye(o,l);var u=ye(o,i);for(l=0;l<c.length;l+=2){var d=c[l],p=c[l+1];"style"===d?ve(a,p):"dangerouslySetInnerHTML"===d?pe(a,p):"children"===d?fe(a,p):b(a,d,p,u)}switch(o){case"input":Z(a,i);break;case"textarea":ie(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?re(a,!!i.multiple,h,!1):f!==!!i.multiple&&(null!=i.defaultValue?re(a,!!i.multiple,i.defaultValue,!0):re(a,!!i.multiple,i.multiple?[]:"",!1))}a[hs]=i}catch(g){wc(e,e.return,g)}}break;case 6:if(mo(t,e),vo(e),4&s){if(null===e.stateNode)throw Error(n(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){wc(e,e.return,g)}}break;case 3:if(mo(t,e),vo(e),4&s&&null!==r&&r.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){wc(e,e.return,g)}break;case 4:default:mo(t,e),vo(e);break;case 13:mo(t,e),vo(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Uo=Xe())),4&s&&ho(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(Gl=(u=Gl)||d,mo(t,e),Gl=u):mo(t,e),vo(e),8192&s){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&1&e.mode)for(Yl=e,d=e.child;null!==d;){for(p=Yl=d;null!==Yl;){switch(h=(f=Yl).child,f.tag){case 0:case 11:case 14:case 15:to(4,f,f.return);break;case 1:Xl(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){s=f,r=f.return;try{t=s,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){wc(s,r,g)}}break;case 5:Xl(f,f.return);break;case 22:if(null!==f.memoizedState){jo(p);continue}}null!==h?(h.return=f,Yl=h):jo(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{a=p.stateNode,u?"function"==typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(o=p.stateNode,l=null!=(c=p.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,o.style.display=ge("display",l))}catch(g){wc(e,e.return,g)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(g){wc(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:mo(t,e),vo(e),4&s&&ho(e);case 21:}}function vo(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(ao(r)){var s=r;break e}r=r.return}throw Error(n(160))}switch(s.tag){case 5:var a=s.stateNode;32&s.flags&&(fe(a,""),s.flags&=-33),oo(e,io(e),a);break;case 3:case 4:var i=s.stateNode.containerInfo;lo(e,io(e),i);break;default:throw Error(n(161))}}catch(l){wc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bo(e,t,n){Yl=e,xo(e)}function xo(e,t,n){for(var r=!!(1&e.mode);null!==Yl;){var s=Yl,a=s.child;if(22===s.tag&&r){var i=null!==s.memoizedState||Jl;if(!i){var l=s.alternate,o=null!==l&&null!==l.memoizedState||Gl;l=Jl;var c=Gl;if(Jl=i,(Gl=o)&&!c)for(Yl=s;null!==Yl;)o=(i=Yl).child,22===i.tag&&null!==i.memoizedState?No(s):null!==o?(o.return=i,Yl=o):No(s);for(;null!==a;)Yl=a,xo(a),a=a.sibling;Yl=s,Jl=l,Gl=c}yo(e)}else 8772&s.subtreeFlags&&null!==a?(a.return=s,Yl=a):yo(e)}}function yo(e){for(;null!==Yl;){var t=Yl;if(8772&t.flags){var r=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Gl||no(5,t);break;case 1:var s=t.stateNode;if(4&t.flags&&!Gl)if(null===r)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:nl(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ha(t,i,s);break;case 3:var l=t.updateQueue;if(null!==l){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Ha(t,l,r)}break;case 5:var o=t.stateNode;if(null===r&&4&t.flags){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Bt(p)}}}break;default:throw Error(n(163))}Gl||512&t.flags&&ro(t)}catch(f){wc(t,t.return,f)}}if(t===e){Yl=null;break}if(null!==(r=t.sibling)){r.return=t.return,Yl=r;break}Yl=t.return}}function jo(e){for(;null!==Yl;){var t=Yl;if(t===e){Yl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Yl=n;break}Yl=t.return}}function No(e){for(;null!==Yl;){var t=Yl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(o){wc(t,n,o)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(o){wc(t,s,o)}}var a=t.return;try{ro(t)}catch(o){wc(t,a,o)}break;case 5:var i=t.return;try{ro(t)}catch(o){wc(t,i,o)}}}catch(o){wc(t,t.return,o)}if(t===e){Yl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Yl=l;break}Yl=t.return}}var So,wo=Math.ceil,ko=x.ReactCurrentDispatcher,Co=x.ReactCurrentOwner,Eo=x.ReactCurrentBatchConfig,To=0,_o=null,Io=null,Po=0,Ro=0,Oo=ks(0),Ao=0,Lo=null,Do=0,Mo=0,Fo=0,zo=null,$o=null,Uo=0,qo=1/0,Bo=null,Ho=!1,Wo=null,Vo=null,Qo=!1,Jo=null,Go=0,Ko=0,Yo=null,Xo=-1,Zo=0;function ec(){return 6&To?Xe():-1!==Xo?Xo:Xo=Xe()}function tc(e){return 1&e.mode?2&To&&0!==Po?Po&-Po:null!==ga.transition?(0===Zo&&(Zo=gt()),Zo):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type):1}function nc(e,t,r,s){if(50<Ko)throw Ko=0,Yo=null,Error(n(185));bt(e,r,s),2&To&&e===_o||(e===_o&&(!(2&To)&&(Mo|=r),4===Ao&&lc(e,Po)),rc(e,s),1===r&&0===To&&!(1&t.mode)&&(qo=Xe()+500,$s&&Bs()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-lt(a),l=1<<i,o=s[i];-1===o?0!==(l&n)&&0===(l&r)||(s[i]=ht(l,t)):o<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var r=ft(e,e===_o?Po:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){$s=!0,qs(e)}(oc.bind(null,e)):qs(oc.bind(null,e)),ls(function(){!(6&To)&&Bs()}),n=null;else{switch(jt(r)){case 1:n=et;break;case 4:n=tt;break;case 16:default:n=nt;break;case 536870912:n=st}n=_c(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Xo=-1,Zo=0,6&To)throw Error(n(327));var r=e.callbackNode;if(Nc()&&e.callbackNode!==r)return null;var s=ft(e,e===_o?Po:0);if(0===s)return null;if(30&s||0!==(s&e.expiredLanes)||t)t=gc(e,s);else{t=s;var a=To;To|=2;var i=hc();for(_o===e&&Po===t||(Bo=null,qo=Xe()+500,pc(e,t));;)try{bc();break}catch(o){fc(e,o)}Ea(),ko.current=i,To=a,null!==Io?t=0:(_o=null,Po=0,t=Ao)}if(0!==t){if(2===t&&(0!==(a=mt(e))&&(s=a,t=ac(e,a))),1===t)throw r=Lo,pc(e,0),lc(e,s),rc(e,Xe()),r;if(6===t)lc(e,s);else{if(a=e.current.alternate,!(30&s||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!or(a(),s))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)||(t=gc(e,s),2===t&&(i=mt(e),0!==i&&(s=i,t=ac(e,i))),1!==t)))throw r=Lo,pc(e,0),lc(e,s),rc(e,Xe()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(n(345));case 2:case 5:jc(e,$o,Bo);break;case 3:if(lc(e,s),(130023424&s)===s&&10<(t=Uo+500-Xe())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&s)!==s){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ss(jc.bind(null,e,$o,Bo),t);break}jc(e,$o,Bo);break;case 4:if(lc(e,s),(4194240&s)===s)break;for(t=e.eventTimes,a=-1;0<s;){var l=31-lt(s);i=1<<l,(l=t[l])>a&&(a=l),s&=~i}if(s=a,10<(s=(120>(s=Xe()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*wo(s/1960))-s)){e.timeoutHandle=ss(jc.bind(null,e,$o,Bo),s);break}jc(e,$o,Bo);break;default:throw Error(n(329))}}}return rc(e,Xe()),e.callbackNode===r?sc.bind(null,e):null}function ac(e,t){var n=zo;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=$o,$o=n,null!==t&&ic(t)),e}function ic(e){null===$o?$o=e:$o.push.apply($o,e)}function lc(e,t){for(t&=~Fo,t&=~Mo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(6&To)throw Error(n(327));Nc();var t=ft(e,0);if(!(1&t))return rc(e,Xe()),null;var r=gc(e,t);if(0!==e.tag&&2===r){var s=mt(e);0!==s&&(t=s,r=ac(e,s))}if(1===r)throw r=Lo,pc(e,0),lc(e,t),rc(e,Xe()),r;if(6===r)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,$o,Bo),rc(e,Xe()),null}function cc(e,t){var n=To;To|=1;try{return e(t)}finally{0===(To=n)&&(qo=Xe()+500,$s&&Bs())}}function uc(e){null!==Jo&&0===Jo.tag&&!(6&To)&&Nc();var t=To;To|=1;var n=Eo.transition,r=yt;try{if(Eo.transition=null,yt=1,e)return e()}finally{yt=r,Eo.transition=n,!(6&(To=t))&&Bs()}}function dc(){Ro=Oo.current,Cs(Oo)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,as(n)),null!==Io)for(n=Io.return;null!==n;){var r=n;switch(na(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&As();break;case 3:Ya(),Cs(Is),Cs(_s),ri();break;case 5:Za(r);break;case 4:Ya();break;case 13:case 19:Cs(ei);break;case 10:Ta(r.type._context);break;case 22:case 23:dc()}n=n.return}if(_o=e,Io=e=Oc(e.current,null),Po=Ro=t,Ao=0,Lo=null,Fo=Mo=Do=0,$o=zo=null,null!==Ra){for(t=0;t<Ra.length;t++)if(null!==(r=(n=Ra[t]).interleaved)){n.interleaved=null;var s=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=s,r.next=i}n.pending=r}Ra=null}return e}function fc(e,t){for(;;){var r=Io;try{if(Ea(),si.current=Xi,ui){for(var s=li.memoizedState;null!==s;){var a=s.queue;null!==a&&(a.pending=null),s=s.next}ui=!1}if(ii=0,ci=oi=li=null,di=!1,pi=0,Co.current=null,null===r||null===r.return){Ao=1,Lo=t,Io=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=Po,o.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=o,p=d.tag;if(!(1&d.mode||0!==p&&11!==p&&15!==p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=ml(l);if(null!==h){h.flags&=-257,gl(h,l,o,0,t),1&h.mode&&hl(i,u,t),c=u;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(!(1&t)){hl(i,u,t),mc();break e}c=Error(n(426))}else if(aa&&1&o.mode){var v=ml(l);if(null!==v){!(65536&v.flags)&&(v.flags|=256),gl(v,l,o,0,t),ma(cl(c,o));break e}}i=c=cl(c,o),4!==Ao&&(Ao=2),null===zo?zo=[i]:zo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,qa(i,pl(0,c,t));break e;case 1:o=c;var b=i.type,x=i.stateNode;if(!(128&i.flags||"function"!=typeof b.getDerivedStateFromError&&(null===x||"function"!=typeof x.componentDidCatch||null!==Vo&&Vo.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t,qa(i,fl(i,o,t));break e}}i=i.return}while(null!==i)}yc(r)}catch(y){t=y,Io===r&&null!==r&&(Io=r=r.return);continue}break}}function hc(){var e=ko.current;return ko.current=Xi,null===e?Xi:e}function mc(){0!==Ao&&3!==Ao&&2!==Ao||(Ao=4),null===_o||!(268435455&Do)&&!(268435455&Mo)||lc(_o,Po)}function gc(e,t){var r=To;To|=2;var s=hc();for(_o===e&&Po===t||(Bo=null,pc(e,t));;)try{vc();break}catch(a){fc(e,a)}if(Ea(),To=r,ko.current=s,null!==Io)throw Error(n(261));return _o=null,Po=0,Ao}function vc(){for(;null!==Io;)xc(Io)}function bc(){for(;null!==Io&&!Ke();)xc(Io)}function xc(e){var t=So(e.alternate,e,Ro);e.memoizedProps=e.pendingProps,null===t?yc(e):Io=t,Co.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ql(n,t)))return n.flags&=32767,void(Io=n);if(null===e)return Ao=6,void(Io=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Vl(n,t,Ro)))return void(Io=n);if(null!==(t=t.sibling))return void(Io=t);Io=t=e}while(null!==t);0===Ao&&(Ao=5)}function jc(e,t,r){var s=yt,a=Eo.transition;try{Eo.transition=null,yt=1,function(e,t,r,s){do{Nc()}while(null!==Jo);if(6&To)throw Error(n(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-lt(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}(e,i),e===_o&&(Io=_o=null,Po=0),!(2064&r.subtreeFlags)&&!(2064&r.flags)||Qo||(Qo=!0,_c(nt,function(){return Nc(),null})),i=!!(15990&r.flags),!!(15990&r.subtreeFlags)||i){i=Eo.transition,Eo.transition=null;var l=yt;yt=1;var o=To;To|=4,Co.current=null,function(e,t){if(ts=Wt,hr(e=fr())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(s&&0!==s.rangeCount){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch(j){r=null;break e}var l=0,o=-1,c=-1,u=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==r||0!==a&&3!==p.nodeType||(o=l+a),p!==i||0!==s&&3!==p.nodeType||(c=l+s),3===p.nodeType&&(l+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===r&&++u===a&&(o=l),f===i&&++d===s&&(c=l),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}r=-1===o||-1===c?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ns={focusedElem:e,selectionRange:r},Wt=!1,Yl=t;null!==Yl;)if(e=(t=Yl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Yl=e;else for(;null!==Yl;){t=Yl;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,b=t.stateNode,x=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:nl(t.type,g),v);b.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(n(163))}}catch(j){wc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Yl=e;break}Yl=t.return}m=eo,eo=!1}(e,r),go(r,e),mr(ns),Wt=!!ts,ns=ts=null,e.current=r,bo(r),Ye(),To=o,yt=l,Eo.transition=i}else e.current=r;if(Qo&&(Qo=!1,Jo=e,Go=a),i=e.pendingLanes,0===i&&(Vo=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,!(128&~e.current.flags))}catch(t){}}(r.stateNode),rc(e,Xe()),null!==t)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Ho)throw Ho=!1,e=Wo,Wo=null,e;!!(1&Go)&&0!==e.tag&&Nc(),i=e.pendingLanes,1&i?e===Yo?Ko++:(Ko=0,Yo=e):Ko=0,Bs()}(e,t,r,s)}finally{Eo.transition=a,yt=s}return null}function Nc(){if(null!==Jo){var e=jt(Go),t=Eo.transition,r=yt;try{if(Eo.transition=null,yt=16>e?16:e,null===Jo)var s=!1;else{if(e=Jo,Jo=null,Go=0,6&To)throw Error(n(331));var a=To;for(To|=4,Yl=e.current;null!==Yl;){var i=Yl,l=i.child;if(16&Yl.flags){var o=i.deletions;if(null!==o){for(var c=0;c<o.length;c++){var u=o[c];for(Yl=u;null!==Yl;){var d=Yl;switch(d.tag){case 0:case 11:case 15:to(8,d,i)}var p=d.child;if(null!==p)p.return=d,Yl=p;else for(;null!==Yl;){var f=(d=Yl).sibling,h=d.return;if(so(d),d===u){Yl=null;break}if(null!==f){f.return=h,Yl=f;break}Yl=h}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Yl=i}}if(2064&i.subtreeFlags&&null!==l)l.return=i,Yl=l;else e:for(;null!==Yl;){if(2048&(i=Yl).flags)switch(i.tag){case 0:case 11:case 15:to(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,Yl=b;break e}Yl=i.return}}var x=e.current;for(Yl=x;null!==Yl;){var y=(l=Yl).child;if(2064&l.subtreeFlags&&null!==y)y.return=l,Yl=y;else e:for(l=x;null!==Yl;){if(2048&(o=Yl).flags)try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(N){wc(o,o.return,N)}if(o===l){Yl=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Yl=j;break e}Yl=o.return}}if(To=a,Bs(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(N){}s=!0}return s}finally{yt=r,Eo.transition=t}}return!1}function Sc(e,t,n){e=$a(e,t=pl(0,t=cl(n,t),1),1),t=ec(),null!==e&&(bt(e,1,t),rc(e,t))}function wc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Vo||!Vo.has(r))){t=$a(t,e=fl(t,e=cl(n,e),1),1),e=ec(),null!==t&&(bt(t,1,e),rc(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,_o===e&&(Po&n)===n&&(4===Ao||3===Ao&&(130023424&Po)===Po&&500>Xe()-Uo?pc(e,0):Fo|=n),rc(e,t)}function Cc(e,t){0===t&&(1&e.mode?(t=dt,!(130023424&(dt<<=1))&&(dt=4194304)):t=1);var n=ec();null!==(e=La(e,t))&&(bt(e,t,n),rc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Tc(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(n(314))}null!==s&&s.delete(t),Cc(e,r)}function _c(e,t){return Je(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ic(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,r,s,a,i){var l=2;if(s=e,"function"==typeof e)Rc(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case S:return Lc(r.children,a,i,t);case k:l=8,a|=8;break;case C:return(e=Pc(12,r,t,2|a)).elementType=C,e.lanes=i,e;case I:return(e=Pc(13,r,t,a)).elementType=I,e.lanes=i,e;case P:return(e=Pc(19,r,t,a)).elementType=P,e.lanes=i,e;case A:return Dc(r,a,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case E:l=10;break e;case T:l=9;break e;case _:l=11;break e;case R:l=14;break e;case O:l=16,s=null;break e}throw Error(n(130,null==e?e:typeof e,""))}return(t=Pc(l,r,t,a)).elementType=e,t.type=s,t.lanes=i,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $c(e,t,n,r,s,a,i,l,o){return e=new zc(e,t,n,l,o),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function Uc(e){if(!e)return Ts;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Os(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(n(171))}if(1===e.tag){var r=e.type;if(Os(r))return Ds(e,r,t)}return t}function qc(e,t,n,r,s,a,i,l,o){return(e=$c(n,r,!0,e,0,a,0,l,o)).context=Uc(null),n=e.current,(a=za(r=ec(),s=tc(n))).callback=null!=t?t:null,$a(n,a,s),e.current.lanes=s,bt(e,s,r),rc(e,r),e}function Bc(e,t,n,r){var s=t.current,a=ec(),i=tc(s);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=za(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=$a(s,t,i))&&(nc(e,s,i,a),Ua(e,s,i)),i}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}So=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Is.current)bl=!0;else{if(0===(e.lanes&r)&&!(128&t.flags))return bl=!1,function(e,t,n){switch(t.tag){case 3:Tl(t),ha();break;case 5:Xa(t);break;case 1:Os(t.type)&&Ms(t);break;case 4:Ka(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Es(Sa,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Es(ei,1&ei.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Dl(e,t,n):(Es(ei,1&ei.current),null!==(e=Bl(e,t,n))?e.sibling:null);Es(ei,1&ei.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return Ul(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Es(ei,ei.current),r)break;return null;case 22:case 23:return t.lanes=0,Sl(e,t,n)}return Bl(e,t,n)}(e,t,r);bl=!!(131072&e.flags)}else bl=!1,aa&&1048576&t.flags&&ea(t,Qs,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ql(e,t),e=t.pendingProps;var a=Rs(t,_s.current);Ia(t,r),a=gi(null,t,s,e,a,r);var i=vi();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Os(s)?(i=!0,Ms(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ma(t),a.updater=sl,t.stateNode=a,a._reactInternals=t,ol(t,s,e,r),t=El(null,t,s,!0,i,r)):(t.tag=0,aa&&i&&ta(t),xl(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(ql(e,t),e=t.pendingProps,s=(a=s._init)(s._payload),t.type=s,a=t.tag=function(e){if("function"==typeof e)return Rc(e)?1:0;if(null!=e){if((e=e.$$typeof)===_)return 11;if(e===R)return 14}return 2}(s),e=nl(s,e),a){case 0:t=kl(null,t,s,e,r);break e;case 1:t=Cl(null,t,s,e,r);break e;case 11:t=yl(null,t,s,e,r);break e;case 14:t=jl(null,t,s,nl(s.type,e),r);break e}throw Error(n(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,kl(e,t,s,a=t.elementType===s?a:nl(s,a),r);case 1:return s=t.type,a=t.pendingProps,Cl(e,t,s,a=t.elementType===s?a:nl(s,a),r);case 3:e:{if(Tl(t),null===e)throw Error(n(387));s=t.pendingProps,a=(i=t.memoizedState).element,Fa(e,t),Ba(t,s,null,r);var l=t.memoizedState;if(s=l.element,i.isDehydrated){if(i={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=_l(e,t,s,r,a=cl(Error(n(423)),t));break e}if(s!==a){t=_l(e,t,s,r,a=cl(Error(n(424)),t));break e}for(sa=us(t.stateNode.containerInfo.firstChild),ra=t,aa=!0,ia=null,r=Na(t,null,s,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ha(),s===a){t=Bl(e,t,r);break e}xl(e,t,s,r)}t=t.child}return t;case 5:return Xa(t),null===e&&ua(t),s=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,l=a.children,rs(s,a)?l=null:null!==i&&rs(s,i)&&(t.flags|=32),wl(e,t),xl(e,t,l,r),t.child;case 6:return null===e&&ua(t),null;case 13:return Dl(e,t,r);case 4:return Ka(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=ja(t,null,s,r):xl(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,yl(e,t,s,a=t.elementType===s?a:nl(s,a),r);case 7:return xl(e,t,t.pendingProps,r),t.child;case 8:case 12:return xl(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,Es(Sa,s._currentValue),s._currentValue=l,null!==i)if(or(i.value,l)){if(i.children===a.children&&!Is.current){t=Bl(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var o=i.dependencies;if(null!==o){l=i.child;for(var c=o.firstContext;null!==c;){if(c.context===s){if(1===i.tag){(c=za(-1,r&-r)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),_a(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(n(341));l.lanes|=r,null!==(o=l.alternate)&&(o.lanes|=r),_a(l,r,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}xl(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Ia(t,r),s=s(a=Pa(a)),t.flags|=1,xl(e,t,s,r),t.child;case 14:return a=nl(s=t.type,t.pendingProps),jl(e,t,s,a=nl(s.type,a),r);case 15:return Nl(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:nl(s,a),ql(e,t),t.tag=1,Os(s)?(e=!0,Ms(t)):e=!1,Ia(t,r),il(t,s,a),ol(t,s,a,r),El(null,t,s,!0,e,r);case 19:return Ul(e,t,r);case 22:return Sl(e,t,r)}throw Error(n(156,t.tag))};var Qc="function"==typeof reportError?reportError:function(e){};function Jc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Kc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if("function"==typeof s){var l=s;s=function(){var e=Hc(i);l.call(e)}}Bc(t,i,e,s)}else i=function(e,t,n,r,s){if(s){if("function"==typeof r){var a=r;r=function(){var e=Hc(i);a.call(e)}}var i=qc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[ms]=i.current,Br(8===e.nodeType?e.parentNode:e),uc(),i}for(;s=e.lastChild;)e.removeChild(s);if("function"==typeof r){var l=r;r=function(){var e=Hc(o);l.call(e)}}var o=$c(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=o,e[ms]=o.current,Br(8===e.nodeType?e.parentNode:e),uc(function(){Bc(t,o,n,r)}),o}(n,t,e,s,r);return Hc(i)}Gc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(n(409));Bc(e,t,null,null)},Gc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Bc(null,e,null,null)}),t[ms]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Ft(e)}},Nt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pt(t.pendingLanes);0!==n&&(xt(t,1|n),rc(t,Xe()),!(6&To)&&(qo=Xe()+500,Bs()))}break;case 13:uc(function(){var t=La(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Vc(e,1)}},St=function(e){if(13===e.tag){var t=La(e,134217728);if(null!==t)nc(t,e,134217728,ec());Vc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),n=La(e,t);if(null!==n)nc(n,e,t,ec());Vc(e,t)}},kt=function(){return yt},Ct=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Se=function(e,t,r){switch(t){case"input":if(Z(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=Ns(s);if(!a)throw Error(n(90));J(s),Z(s,a)}}}break;case"textarea":ie(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},_e=cc,Ie=uc;var eu={usingClientEntryPoint:!1,Events:[ys,js,Ns,Ee,Te,cc]},tu={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),it=ru}catch(de){}}return j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,j.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kc(t))throw Error(n(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,r)},j.createRoot=function(e,t){if(!Kc(e))throw Error(n(299));var r=!1,s="",a=Qc;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=$c(e,1,!1,null,0,r,0,s,a),e[ms]=t.current,Br(8===e.nodeType?e.parentNode:e),new Jc(t)},j.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(n(188));throw e=Object.keys(e).join(","),Error(n(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},j.flushSync=function(e){return uc(e)},j.hydrate=function(e,t,r){if(!Yc(t))throw Error(n(200));return Zc(null,e,t,!0,r)},j.hydrateRoot=function(e,t,r){if(!Kc(e))throw Error(n(405));var s=null!=r&&r.hydratedSources||null,a=!1,i="",l=Qc;if(null!=r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(l=r.onRecoverableError)),t=qc(t,null,e,1,null!=r?r:null,a,0,i,l),e[ms]=t.current,Br(e),s)for(e=0;e<s.length;e++)a=(a=(r=s[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Gc(t)},j.render=function(e,t,r){if(!Yc(t))throw Error(n(200));return Zc(null,e,t,!1,r)},j.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(n(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ms]=null})}),!0)},j.unstable_batchedUpdates=cc,j.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Yc(r))throw Error(n(200));if(null==e||void 0===e._reactInternals)throw Error(n(38));return Zc(e,t,r,!1,s)},j.version="18.3.1-next-f1338f8080-20240426",j}const C=e(function(){if(b)return x;b=1;var e=(v||(v=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),y.exports=k()),y.exports);return x.createRoot=e.createRoot,x.hydrateRoot=e.hydrateRoot,x}());var E,T={exports:{}};
/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/const _=e((E||(E=1,T.exports=function e(){var t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,a={},i=0,l={};function o(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=x(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new f(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){var r=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<r){let t=this._config.newline;t||(a=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,a)),e=[...e.split(t).slice(r)].join(t)}this.isFirstChunk&&j(this._config.beforeFirstChunk)&&void 0!==(a=this._config.beforeFirstChunk(e))&&(e=a),this.isFirstChunk=!1,this._halted=!1,r=this._partialLine+e;var a=(this._partialLine="",this._handle.parse(r,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=a.meta.cursor,this._finished||(this._partialLine=r.substring(e-this._baseIndex),this._baseIndex=e),a&&a.data&&(this._rowCount+=a.data.length),r=this._finished||this._config.preview&&this._rowCount>=this._config.preview,s)n.postMessage({results:a,workerId:l.WORKER_ID,finished:r});else if(j(this._config.chunk)&&!t){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=a=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!r||!j(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),r||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){j(this._config.error)?this._config.error(e):s&&this._config.error&&n.postMessage({workerId:l.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=l.RemoteChunkSize),o.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=y(this._chunkLoaded,this),t.onerror=y(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e,n=this._config.downloadRequestHeaders;for(e in n)t.setRequestHeader(e,n[e])}var s;this._config.chunkSize&&(s=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+s));try{t.send(this._config.downloadRequestBody)}catch(a){this._chunkError(a.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){var e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null!==(e=(e=t).getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(new Error(e))}}function u(e){(e=e||{}).chunkSize||(e.chunkSize=l.LocalChunkSize),o.call(this,e);var t,n,r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=y(this._chunkLoaded,this),t.onerror=y(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,s=(this._config.chunkSize&&(s=Math.min(this._start+this._config.chunkSize,this._input.size),e=n.call(e,this._start,s)),t.readAsText(e,this._config.encoding));r||this._chunkLoaded({target:{result:s}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function d(e){var t;o.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,n;if(!this._finished)return e=this._config.chunkSize,t=e?(n=t.substring(0,e),t.substring(e)):(n=t,""),this._finished=!t,this.parseChunk(n)}}function p(e){o.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){o.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){o.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=y(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(r){this._streamError(r)}},this),this._streamError=y(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=y(function(){this._streamCleanUp(),r=!0,this._streamData("")},this),this._streamCleanUp=y(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function f(e){var t,n,r,s,a=Math.pow(2,53),i=-a,o=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,u=this,d=0,p=0,f=!1,g=!1,v=[],b={data:[],errors:[],meta:{}};function y(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function N(){if(b&&r&&(w("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines&&(b.data=b.data.filter(function(e){return!y(e)})),S()){let n=function(t,n){j(e.transformHeader)&&(t=e.transformHeader(t,n)),v.push(t)};if(b)if(Array.isArray(b.data[0])){for(var t=0;S()&&t<b.data.length;t++)b.data[t].forEach(n);b.data.splice(0,1)}else b.data.forEach(n)}function n(t,n){for(var r=e.header?{}:[],s=0;s<t.length;s++){var l=s,u=t[s];u=((t,n)=>{return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&((e=>{if(o.test(e)&&(e=parseFloat(e),i<e&&e<a))return 1})(n)?parseFloat(n):c.test(n)?new Date(n):""===n?null:n):n;var r})(l=e.header?s>=v.length?"__parsed_extra":v[s]:l,u=e.transform?e.transform(u,l):u),"__parsed_extra"===l?(r[l]=r[l]||[],r[l].push(u)):r[l]=u}return e.header&&(s>v.length?w("FieldMismatch","TooManyFields","Too many fields: expected "+v.length+" fields but parsed "+s,p+n):s<v.length&&w("FieldMismatch","TooFewFields","Too few fields: expected "+v.length+" fields but parsed "+s,p+n)),r}var s;b&&(e.header||e.dynamicTyping||e.transform)&&(s=1,!b.data.length||Array.isArray(b.data[0])?(b.data=b.data.map(n),s=b.data.length):b.data=n(b.data,0),e.header&&b.meta&&(b.meta.fields=v),p+=s)}function S(){return e.header&&0===v.length}function w(e,t,n,r){e={type:e,code:t,message:n},void 0!==r&&(e.row=r),b.errors.push(e)}j(e.step)&&(s=e.step,e.step=function(t){b=t,S()?N():(N(),0!==b.data.length&&(d+=t.data.length,e.preview&&d>e.preview?n.abort():(b.data=b.data[0],s(b,u))))}),this.parse=function(s,a,i){var o=e.quoteChar||'"';return e.newline||(e.newline=this.guessLineEndings(s,o)),r=!1,e.delimiter?j(e.delimiter)&&(e.delimiter=e.delimiter(s),b.meta.delimiter=e.delimiter):((o=((t,n,r,s,a)=>{var i,o,c,u;a=a||[",","\t","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var d=0;d<a.length;d++){for(var p,f=a[d],h=0,g=0,v=0,b=(c=void 0,new m({comments:s,delimiter:f,newline:n,preview:10}).parse(t)),x=0;x<b.data.length;x++)r&&y(b.data[x])?v++:(g+=p=b.data[x].length,void 0===c?c=p:0<p&&(h+=Math.abs(p-c),c=p));0<b.data.length&&(g/=b.data.length-v),(void 0===o||h<=o)&&(void 0===u||u<g)&&1.99<g&&(o=h,i=f,u=g)}return{successful:!!(e.delimiter=i),bestDelimiter:i}})(s,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=o.bestDelimiter:(r=!0,e.delimiter=l.DefaultDelimiter),b.meta.delimiter=e.delimiter),o=x(e),e.preview&&e.header&&o.preview++,t=s,n=new m(o),b=n.parse(t,a,i),N(),f?{meta:{paused:!0}}:b||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,n.abort(),t=j(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){u.streamer._halted?(f=!1,u.streamer.parseChunk(t,!0)):setTimeout(u.resume,3)},this.aborted=function(){return g},this.abort=function(){g=!0,n.abort(),b.meta.aborted=!0,j(e.complete)&&e.complete(b),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576),t=new RegExp(h(t)+"([^]*?)"+h(t),"gm");var n=(e=e.replace(t,"")).split("\r");if(e=1<(t=e.split("\n")).length&&t[0].length<n[0].length,1===n.length||e)return"\n";for(var r=0,s=0;s<n.length;s++)"\n"===n[s][0]&&r++;return r>=n.length/2?"\r\n":"\r"}}function h(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t=(e=e||{}).delimiter,n=e.newline,r=e.comments,s=e.step,a=e.preview,i=e.fastMode,o=null,c=!1,u=null==e.quoteChar?'"':e.quoteChar,d=u;if(void 0!==e.escapeChar&&(d=e.escapeChar),("string"!=typeof t||-1<l.BAD_DELIMITERS.indexOf(t))&&(t=","),r===t)throw new Error("Comment character same as delimiter");!0===r?r="#":("string"!=typeof r||-1<l.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var p=0,f=!1;this.parse=function(l,m,g){if("string"!=typeof l)throw new Error("Input must be a string");var v=l.length,b=t.length,x=n.length,y=r.length,N=j(s),S=[],w=[],k=[],C=p=0;if(!l)return F();if(i||!1!==i&&-1===l.indexOf(u)){for(var E=l.split(n),T=0;T<E.length;T++){if(k=E[T],p+=k.length,T!==E.length-1)p+=n.length;else if(g)return F();if(!r||k.substring(0,y)!==r){if(N){if(S=[],A(k.split(t)),z(),f)return F()}else A(k.split(t));if(a&&a<=T)return S=S.slice(0,a),F(!0)}}return F()}for(var _=l.indexOf(t,p),I=l.indexOf(n,p),P=new RegExp(h(d)+h(u),"g"),R=l.indexOf(u,p);;)if(l[p]===u)for(R=p,p++;;){if(-1===(R=l.indexOf(u,R+1)))return g||w.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:S.length,index:p}),D();if(R===v-1)return D(l.substring(p,R).replace(P,u));if(u===d&&l[R+1]===d)R++;else if(u===d||0===R||l[R-1]!==d){-1!==_&&_<R+1&&(_=l.indexOf(t,R+1));var O=L(-1===(I=-1!==I&&I<R+1?l.indexOf(n,R+1):I)?_:Math.min(_,I));if(l.substr(R+1+O,b)===t){k.push(l.substring(p,R).replace(P,u)),l[p=R+1+O+b]!==u&&(R=l.indexOf(u,p)),_=l.indexOf(t,p),I=l.indexOf(n,p);break}if(O=L(I),l.substring(R+1+O,R+1+O+x)===n){if(k.push(l.substring(p,R).replace(P,u)),M(R+1+O+x),_=l.indexOf(t,p),R=l.indexOf(u,p),N&&(z(),f))return F();if(a&&S.length>=a)return F(!0);break}w.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:S.length,index:p}),R++}}else if(r&&0===k.length&&l.substring(p,p+y)===r){if(-1===I)return F();p=I+x,I=l.indexOf(n,p),_=l.indexOf(t,p)}else if(-1!==_&&(_<I||-1===I))k.push(l.substring(p,_)),p=_+b,_=l.indexOf(t,p);else{if(-1===I)break;if(k.push(l.substring(p,I)),M(I+x),N&&(z(),f))return F();if(a&&S.length>=a)return F(!0)}return D();function A(e){S.push(e),C=p}function L(e){var t=0;return-1!==e&&(e=l.substring(R+1,e))&&""===e.trim()?e.length:t}function D(e){return g||(void 0===e&&(e=l.substring(p)),k.push(e),p=v,A(k),N&&z()),F()}function M(e){p=e,A(k),k=[],I=l.indexOf(n,p)}function F(r){if(e.header&&!m&&S.length&&!c){var s=S[0],a=Object.create(null),i=new Set(s);let t=!1;for(let n=0;n<s.length;n++){let r=s[n];if(a[r=j(e.transformHeader)?e.transformHeader(r,n):r]){let e,l=a[r];for(;e=r+"_"+l,l++,i.has(e););i.add(e),s[n]=e,a[r]++,t=!0,(o=null===o?{}:o)[e]=r}else a[r]=1,s[n]=r;i.add(r)}c=!0}return{data:S,errors:w,meta:{delimiter:t,linebreak:n,aborted:f,truncated:!!r,cursor:C+(m||0),renamedHeaders:o}}}function z(){s(F()),S=[],w=[]}},this.abort=function(){f=!0},this.getCharIndex=function(){return p}}function g(e){var t=e.data,n=a[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var s={abort:function(){r=!0,v(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(j(n.userStep)){for(var i=0;i<t.results.data.length&&(n.userStep({data:t.results.data[i],errors:t.results.errors,meta:t.results.meta},s),!r);i++);delete t.results}else j(n.userChunk)&&(n.userChunk(t.results,s,t.file),delete t.results)}t.finished&&!r&&v(t.workerId,t.results)}function v(e,t){var n=a[e];j(n.userComplete)&&n.userComplete(t),n.terminate(),delete a[e]}function b(){throw new Error("Not implemented.")}function x(e){if("object"!=typeof e||null===e)return e;var t,n=Array.isArray(e)?[]:{};for(t in e)n[t]=x(e[t]);return n}function y(e,t){return function(){e.apply(t,arguments)}}function j(e){return"function"==typeof e}return l.parse=function(t,r){var s,o=(r=r||{}).dynamicTyping||!1;if(j(o)&&(r.dynamicTypingFunction=o,o={}),r.dynamicTyping=o,r.transform=!!j(r.transform)&&r.transform,!r.worker||!l.WORKERS_SUPPORTED)return o=null,l.NODE_STREAM_INPUT,"string"==typeof t?(t=65279!==(s=t).charCodeAt(0)?s:s.slice(1),o=new(r.download?c:d)(r)):!0===t.readable&&j(t.read)&&j(t.on)?o=new p(r):(n.File&&t instanceof File||t instanceof Object)&&(o=new u(r)),o.stream(t);(o=(()=>{var t,r,s;return!!l.WORKERS_SUPPORTED&&(r=n.URL||n.webkitURL||null,s=e.toString(),t=l.BLOB_URL||(l.BLOB_URL=r.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",s,")();"],{type:"text/javascript"}))),(t=new n.Worker(t)).onmessage=g,t.id=i++,a[t.id]=t)})()).userStep=r.step,o.userChunk=r.chunk,o.userComplete=r.complete,o.userError=r.error,r.step=j(r.step),r.chunk=j(r.chunk),r.complete=j(r.complete),r.error=j(r.error),delete r.worker,o.postMessage({input:t,config:r,workerId:o.id})},l.unparse=function(e,t){var n=!1,r=!0,s=",",a="\r\n",i='"',o=i+i,c=!1,u=null,d=!1,p=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||l.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(s=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(a=t.newline),"string"==typeof t.quoteChar&&(i=t.quoteChar),"boolean"==typeof t.header&&(r=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(o=t.escapeChar+i),t.escapeFormulae instanceof RegExp?d=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(d=/^[=+\-@\t\r].*$/)}})(),new RegExp(h(i),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return f(null,e,c);if("object"==typeof e[0])return f(u||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),f(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function f(e,t,n){var i="",l=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),o=!Array.isArray(t[0]);if(l&&r){for(var c=0;c<e.length;c++)0<c&&(i+=s),i+=m(e[c],c);0<t.length&&(i+=a)}for(var u=0;u<t.length;u++){var d=(l?e:t[u]).length,p=!1,f=l?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!l&&(p="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&l){for(var h=[],g=0;g<d;g++){var v=o?e[g]:g;h.push(t[u][v])}p=""===h.join("").trim()}if(!p){for(var b=0;b<d;b++){0<b&&!f&&(i+=s);var x=l&&o?e[b]:b;i+=m(t[u][x],b)}u<t.length-1&&(!n||0<d&&!f)&&(i+=a)}}return i}function m(e,t){var r,a;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(a=!1,d&&"string"==typeof e&&d.test(e)&&(e="'"+e,a=!0),r=e.toString().replace(p,o),(a=a||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1})(r,l.BAD_DELIMITERS)||-1<r.indexOf(s)||" "===r.charAt(0)||" "===r.charAt(r.length-1))?i+r+i:r)}},l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\ufeff",l.BAD_DELIMITERS=["\r","\n",'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!r&&!!n.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=m,l.ParserHandle=f,l.NetworkStreamer=c,l.FileStreamer=u,l.StringStreamer=d,l.ReadableStreamStreamer=p,n.jQuery&&((t=n.jQuery).fn.parse=function(e){var r=e.config||{},s=[];return this.each(function(e){if("INPUT"!==t(this).prop("tagName").toUpperCase()||"file"!==t(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var a=0;a<this.files.length;a++)s.push({file:this.files[a],inputElem:this,instanceConfig:t.extend({},r)})}),a(),this;function a(){if(0===s.length)j(e.complete)&&e.complete();else{var n,r,a,o,c=s[0];if(j(e.before)){var u=e.before(c.file,c.inputElem);if("object"==typeof u){if("abort"===u.action)return n="AbortError",r=c.file,a=c.inputElem,o=u.reason,void(j(e.error)&&e.error({name:n},r,a,o));if("skip"===u.action)return void i();"object"==typeof u.config&&(c.instanceConfig=t.extend(c.instanceConfig,u.config))}else if("skip"===u)return void i()}var d=c.instanceConfig.complete;c.instanceConfig.complete=function(e){j(d)&&d(e,c.file,c.inputElem),i()},l.parse(c.file,c.instanceConfig)}}function i(){s.splice(0,1),a()}}),s&&(n.onmessage=function(e){e=e.data,void 0===l.WORKER_ID&&e&&(l.WORKER_ID=e.workerId),"string"==typeof e.input?n.postMessage({workerId:l.WORKER_ID,results:l.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=l.parse(e.input,e.config))&&n.postMessage({workerId:l.WORKER_ID,results:e,finished:!0})}),(c.prototype=Object.create(o.prototype)).constructor=c,(u.prototype=Object.create(o.prototype)).constructor=u,(d.prototype=Object.create(d.prototype)).constructor=d,(p.prototype=Object.create(o.prototype)).constructor=p,l}()),T.exports)),I={planets:[{id:"planet_001",name:"Terra Prime",faction:"MUD",archetype:"terrestrial",resources:["iron-ore","copper-ore","hydrogen"],richness:{"iron-ore":1.5,"copper-ore":1,hydrogen:2},tags:["terrestrial","mining","industrial","processing"],rentCost:100},{id:"planet_002",name:"Nebula Station",faction:"ONI",archetype:"gas_giant",resources:["copper-ore","silica","hydrogen"],richness:{"copper-ore":2,silica:1.5,hydrogen:1},tags:["crystalline","tech","mining"],rentCost:200},{id:"planet_003",name:"Crystal Harbor",faction:"UST",archetype:"ice",resources:["iron-ore","coal","copper-ore"],richness:{"iron-ore":2.5,coal:1.8,"copper-ore":1.2},tags:["volcanic","industrial","forge","processing"],rentCost:300}],buildings:[{id:"central-hub-t1",name:"Central Hub T1",category:"infrastructure",tier:1,slots:5,power:100,crew:20,resourceUsage:{fuel:.1},constructionCost:{"cargo-steel":100,"cargo-electronics":50},requiredTags:[],providedTags:["central-hub"],isInfrastructure:!0},{id:"extraction-hub-t1",name:"Extraction Hub T1",category:"extraction",tier:1,slots:4,power:-10,crew:15,constructionCost:{"cargo-steel":80,"cargo-machinery":40},requiredTags:[],providedTags:["extraction-hub"],isInfrastructure:!0},{id:"processing-hub-t1",name:"Processing Hub T1",category:"processing",tier:1,slots:4,power:-15,crew:20,constructionCost:{"cargo-electronics":60,"cargo-machinery":60},requiredTags:[],providedTags:["processing-hub"],isInfrastructure:!0},{id:"extractor-iron-t1",name:"Iron Extractor T1",category:"extraction",tier:1,slots:2,power:-5,crew:10,extractionRate:{"iron-ore":.5},constructionCost:{"cargo-steel":50,"cargo-machinery":25},requiredTags:["extraction-hub"],requiredPlanetResources:["iron-ore"]},{id:"extractor-copper-t1",name:"Copper Extractor T1",category:"extraction",tier:1,slots:2,power:-5,crew:10,extractionRate:{"copper-ore":.5},constructionCost:{"cargo-steel":50,"cargo-machinery":25},requiredTags:["extraction-hub"],requiredPlanetResources:["copper-ore"]},{id:"processor-iron-t1",name:"Iron Processor T1",category:"processing",tier:1,slots:3,power:-10,crew:15,resourceUsage:{"iron-ore":.5},resourceProduction:{"cargo-iron":.4},constructionCost:{"cargo-steel":75,"cargo-electronics":35},requiredTags:["processing-hub"]},{id:"copper-ore-processor-t1",name:"Copper Ore Processor T1",category:"processing",tier:1,slots:3,power:-10,crew:15,resourceUsage:{"copper-ore":.5},resourceProduction:{"cargo-copper":.4},constructionCost:{"cargo-steel":75,"cargo-electronics":35},requiredTags:["processing-hub"]},{id:"power-plant-t1",name:"Power Plant T1",category:"power",tier:1,slots:3,power:50,crew:10,resourceUsage:{fuel:.2},constructionCost:{"cargo-electronics":100,"cargo-machinery":50}},{id:"storage-hub-t1",name:"Storage Hub T1",category:"storage",tier:1,slots:5,power:-5,crew:5,storageCapacity:1e3,constructionCost:{"cargo-steel":120,"cargo-composites":30}}],resources:{"iron-ore":{name:"Iron Ore",category:"raw"},"copper-ore":{name:"Copper Ore",category:"raw"},hydrogen:{name:"Hydrogen",category:"raw"},silica:{name:"Silica",category:"raw"},coal:{name:"Coal",category:"raw"},fuel:{name:"Fuel",category:"processed"},"cargo-steel":{name:"Steel",category:"processed"},"cargo-iron":{name:"Iron",category:"processed"},"cargo-copper":{name:"Copper",category:"processed"},"cargo-electronics":{name:"Electronics",category:"advanced"},"cargo-machinery":{name:"Machinery",category:"advanced"},"cargo-composites":{name:"Composites",category:"advanced"}},starbases:[{id:"starbase_001",name:"MUD Central",faction:"MUD",level:2,levelName:"Hub"},{id:"starbase_002",name:"ONI Station",faction:"ONI",level:3,levelName:"Complex"},{id:"starbase_003",name:"UST Outpost",faction:"UST",level:1,levelName:"Station"}],recipes:[{id:"recipe_001",name:"Steel Plate",tier:1,constructionTime:60,crewRequired:10,ingredients:[{resource:"cargo-iron",quantity:2},{resource:"coal",quantity:1}],output:{resource:"cargo-steel",quantity:1}},{id:"recipe_002",name:"Basic Electronics",tier:2,constructionTime:120,crewRequired:15,ingredients:[{resource:"cargo-copper",quantity:3},{resource:"silica",quantity:2}],output:{resource:"cargo-electronics",quantity:1}}]};class P{static async loadJSON(e){return null}static async parseCSV(e){return new Promise(t=>{_.parse(e,{header:!0,skipEmptyLines:!0,complete:e=>{t(e.data)}})})}static processRecipes(e){return e.map(e=>{var t,n;return{id:e.OutputID,name:e.OutputName,type:e.OutputType,tier:parseInt(e.OutputTier)||1,buildingResourceTier:e.BuildingResourceTier,constructionTime:parseInt(e.ConstructionTime)||60,planetTypes:(null==(t=e.PlanetTypes)?void 0:t.split(";"))||[],factions:(null==(n=e.Factions)?void 0:n.split(";"))||[],resourceType:e.ResourceType,productionSteps:parseInt(e.ProductionSteps)||1,ingredients:this.extractIngredients(e),output:{resource:e.OutputID,quantity:1},crewRequired:10}})}static extractIngredients(e){const t=[];for(let n=1;n<=8;n++){const r=e[`Ingredient${n}`],s=e[`Quantity${n}`];r&&s&&t.push({resource:r,quantity:parseInt(s,10)})}return t}static async loadGameData(){var e;try{const[n,r,s,a,i,l,o]=await Promise.all([fetch("./data/resources.json").catch(()=>null),fetch("./data/planets.json").catch(()=>null),fetch("./data/planetArchetypes.json").catch(()=>null),fetch("./data/claimStakeBuildings.json").catch(()=>null),fetch("./data/craftingHabBuildings.json").catch(()=>null),fetch("./data/recipes.json").catch(()=>null),fetch("./data/starbases.json").catch(()=>null)]);if((null==n?void 0:n.ok)&&(null==r?void 0:r.ok)&&(null==a?void 0:a.ok)){const e=await n.json(),t=await r.json(),c=(null==s?void 0:s.ok)?await s.json():null,u=await a.json(),d=(null==i?void 0:i.ok)?await i.json():null,p=(null==l?void 0:l.ok)?await l.json():null,f=(null==o?void 0:o.ok)?await o.json():null;let h=null;if(p){const e=p.recipes||p;h=Array.isArray(e)?e.map(e=>({...e,ingredients:(e.ingredients||[]).map(e=>e.name&&!e.resource?{resource:e.name.toLowerCase().replace(/\s+/g,"-"),quantity:e.quantity||1}:e)})):e}const m=(u.buildings||[]).map(e=>{var t,n;if(!e.category){const r=(null==(t=e.name)?void 0:t.toLowerCase())||"",s=(null==(n=e.id)?void 0:n.toLowerCase())||"";r.includes("central hub")||r.includes("crew quarters")||s.includes("central-hub")?e.category="infrastructure":r.includes("power plant")||r.includes("solar array")||r.includes("power")||s.includes("power")?e.category="power":r.includes("extraction hub")||r.includes("extractor")||s.includes("extraction")||s.includes("extractor")?e.category="extraction":r.includes("processing hub")||r.includes("processor")||s.includes("processing")||s.includes("processor")?e.category="processing":r.includes("farm")||r.includes("cultivation hub")||s.includes("farm")?e.category="farm":r.includes("storage hub")||r.includes("storage")||s.includes("storage")?e.category="storage":e.category="general"}return e}),g=e.resources||[],v=t.planets||[],b=(null==c?void 0:c.archetypes)||[],x=(u.buildings,u.claimStakeDefinitions||[]),y=h||[],j=(null==f?void 0:f.starbases)||[];return{resources:g,resourceCategories:e.categories||{},planets:v,planetArchetypes:b,buildings:m,claimStakeDefinitions:x,craftingHabBuildings:d||{habs:[],craftingStations:[],cargoStorage:[]},recipes:y,craftingRecipes:y,starbases:j,getResourceById:e=>g.find(t=>t.id===e),getResourceCategory:e=>{const t=g.find(t=>t.id===e);return t?t.category:"unknown"},getResourceName:e=>{const t=g.find(t=>t.id===e);return t?t.name:e}}}const c=await fetch("./data/mockData.json");if(c.ok){const n=await c.json();let r=[],s={};if(n.resources)if(n.resources.raw||n.resources.processed||n.resources.advanced){const e=[...n.resources.raw||[],...n.resources.processed||[],...n.resources.advanced||[]];r=e.map(e=>{var t,r;return{id:e,name:e.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase()),category:(null==(t=n.resources.raw)?void 0:t.includes(e))?"raw":(null==(r=n.resources.processed)?void 0:r.includes(e))?"processed":"advanced"}}),e.forEach(e=>{var t,r;s[e]={name:e.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase()),category:(null==(t=n.resources.raw)?void 0:t.includes(e))?"raw":(null==(r=n.resources.processed)?void 0:r.includes(e))?"processed":"advanced"}})}else r=n.resources,s=n.resources;let a=[];try{const e=await fetch("./data/mockRecipes.csv");if(e.ok){const t=await e.text(),n=await this.parseCSV(t);n&&n.length>0&&(a=this.processRecipes(n))}}catch(t){}return 0===a.length&&(a=n.recipes||[]),{cargo:s,tags:n.tags||{},planetArchetypes:n.planetArchetypes||{},claimStakeBuildings:n.buildings||[],craftingHabBuildings:n.craftingHabBuildings||(null==(e=n.buildings)?void 0:e.filter(e=>"hab"===e.category||"crafting"===e.category))||[],recipes:a,planets:n.planets||[],buildings:n.buildings||[],resources:r,claimStakeDefinitions:n.claimStakeDefinitions||[],starbases:n.starbases||[]}}}catch(t){}throw new Error("Failed to load required data files. Please ensure all JSON files are present in /data/ folder.")}static async loadMockData(){return I}}const R=p.createContext(void 0);function O({children:e}){const[t,n]=p.useState({gameData:null,isLoading:!0,error:null});return p.useEffect(()=>{(async()=>{try{const e=await P.loadGameData();n({gameData:e,isLoading:!1,error:null})}catch(e){n(e=>({...e,isLoading:!1,error:"Failed to load game data"}))}})()},[]),d.jsx(R.Provider,{value:t,children:e})}function A(){const e=p.useContext(R);if(void 0===e)throw new Error("useGameData must be used within a DataProvider");return{gameData:e.gameData,loading:e.isLoading,error:e.error}}const L={selectedStarbase:null,starbaseLevel:0,starbaseInventory:{},achievements:{},achievementProgress:{},statistics:{totalResourcesExtracted:0,totalItemsCrafted:0,totalClaimStakes:0,totalCraftingHabs:0},settings:{autoSave:!0},claimStakesData:[],craftingHabState:{habPlots:[],craftingJobs:[]},craftingQueue:[]},D={0:{name:"Outpost",claimStakeTiers:[1],habPlotsByTier:{1:2,2:0,3:0,4:0,5:0},features:["Basic operations"]},1:{name:"Station",claimStakeTiers:[1,2],habPlotsByTier:{1:5,2:2,3:0,4:0,5:0},features:["Extended storage","T2 unlocked"]},2:{name:"Hub",claimStakeTiers:[1,2,3],habPlotsByTier:{1:10,2:5,3:2,4:0,5:0},features:["Regional trade","T3 unlocked"]},3:{name:"Complex",claimStakeTiers:[1,2,3,4],habPlotsByTier:{1:15,2:10,3:5,4:2,5:0},features:["Advanced manufacturing","T4 unlocked"]},4:{name:"Metroplex",claimStakeTiers:[1,2,3,4,5],habPlotsByTier:{1:20,2:15,3:10,4:5,5:2},features:["Full capabilities","T5 unlocked"]},5:{name:"Capital Station",claimStakeTiers:[1,2,3,4,5],habPlotsByTier:{1:25,2:20,3:15,4:10,5:5},features:["Enhanced efficiency","Bonus slots"]},6:{name:"Central Space Station",claimStakeTiers:[1,2,3,4,5],habPlotsByTier:{1:30,2:25,3:20,4:15,5:10},features:["Maximum capacity","CSS bonuses","Faction capital"]}};function M(e,t){var n,r;switch(t.type){case"SET_STARBASE":return{...e,selectedStarbase:t.payload,starbaseLevel:t.payload.level,starbaseInventory:t.payload.inventory};case"UPDATE_STARBASE_LEVEL":return{...e,starbaseLevel:t.payload,selectedStarbase:e.selectedStarbase?{...e.selectedStarbase,level:t.payload}:null};case"UPDATE_INVENTORY":const s={...e.starbaseInventory};return Object.entries(t.payload).forEach(([e,t])=>{s[e]=(s[e]||0)+t,s[e]<0&&(s[e]=0)}),{...e,starbaseInventory:s,selectedStarbase:e.selectedStarbase?{...e.selectedStarbase,inventory:s}:null};case"TRANSFER_RESOURCES":default:return e;case"UNLOCK_ACHIEVEMENT":return window.dispatchEvent(new CustomEvent("achievement-unlocked",{detail:{achievementId:t.payload}})),{...e,achievements:{...e.achievements,[t.payload]:!0},achievementProgress:{...e.achievementProgress,[t.payload]:void 0}};case"UPDATE_ACHIEVEMENT_PROGRESS":return window.dispatchEvent(new CustomEvent("achievement-progress",{detail:{achievementId:t.payload.id,current:t.payload.current,target:t.payload.target}})),{...e,achievementProgress:{...e.achievementProgress,[t.payload.id]:{current:t.payload.current,target:t.payload.target}}};case"UPDATE_STATISTIC":return{...e,statistics:{...e.statistics,[t.payload.stat]:e.statistics[t.payload.stat]+t.payload.value}};case"UPDATE_SETTINGS":return{...e,settings:{...e.settings,...t.payload}};case"LOAD_STATE":return{...L,...t.payload,claimStakesData:t.payload.claimStakesData||[]};case"UPDATE_CRAFTING_HAB_STATE":null==(r=null==(n=t.payload)?void 0:n.habPlots)||r.filter(e=>e.habDesign).length;return{...e,craftingHabState:t.payload};case"ADD_TO_CRAFTING_QUEUE":return{...e,craftingQueue:[...e.craftingQueue||[],t.payload]};case"UPDATE_CRAFTING_QUEUE":return{...e,craftingQueue:t.payload};case"UPDATE_CLAIM_STAKES_DATA":return{...e,claimStakesData:t.payload};case"RESET_STATE":return L}}const F=p.createContext(void 0);function z({children:e}){const[t,n]=p.useReducer(M,L);p.useEffect(()=>{const e=localStorage.getItem("sageC4SharedState");if(e)try{const t=JSON.parse(e);n({type:"LOAD_STATE",payload:t})}catch(t){}},[]),p.useEffect(()=>{if(t.settings.autoSave){const e=setTimeout(()=>{localStorage.setItem("sageC4SharedState",JSON.stringify(t))},1e3);return()=>clearTimeout(e)}},[t]);const r=e=>{t.achievements[e]||n({type:"UNLOCK_ACHIEVEMENT",payload:e})},s={state:t,dispatch:n,transferResources:(e,t,r)=>{if(n({type:"TRANSFER_RESOURCES",payload:{from:e,to:t,resources:r}}),"starbase"===t)n({type:"UPDATE_INVENTORY",payload:r});else if("starbase"===e){const e=Object.fromEntries(Object.entries(r).map(([e,t])=>[e,-t]));n({type:"UPDATE_INVENTORY",payload:e})}},updateStarbaseLevel:e=>{n({type:"UPDATE_STARBASE_LEVEL",payload:e})},addToInventory:e=>{n({type:"UPDATE_INVENTORY",payload:e})},consumeFromInventory:e=>{for(const[n,s]of Object.entries(e))if((t.starbaseInventory[n]||0)<s)return!1;const r=Object.fromEntries(Object.entries(e).map(([e,t])=>[e,-t]));return n({type:"UPDATE_INVENTORY",payload:r}),!0},unlockAchievement:r,updateAchievementProgress:(e,s,a)=>{s>=a&&!t.achievements[e]?r(e):n({type:"UPDATE_ACHIEVEMENT_PROGRESS",payload:{id:e,current:s,target:a}})},updateStatistic:(e,t)=>{n({type:"UPDATE_STATISTIC",payload:{stat:e,value:t}})}};return d.jsx(F.Provider,{value:s,children:e})}function $(){const e=p.useContext(F);if(void 0===e)throw new Error("useSharedState must be used within a SharedStateProvider");return e}function U(e,t){const n=D[e];return!!n&&n.claimStakeTiers.includes(t)}const q=({to:e,children:t,...n})=>{const r="string"==typeof e&&e.startsWith("#")?e:"#"+e;return d.jsx("a",{href:r,...n,children:t})},B={first_stake:{id:"first_stake",name:"Pioneer",description:"Place your first claim stake",icon:"🏭",category:"exploration"},multi_planet:{id:"multi_planet",name:"Multi-Planetary",description:"Own claim stakes on 5 different planets",icon:"🌌",category:"exploration",trackProgress:!0,progressTarget:5},efficient_builder:{id:"efficient_builder",name:"Efficient Builder",description:"Place 5+ buildings in a single claim stake",icon:"📐",category:"efficiency",trackProgress:!0,progressTarget:5},power_positive:{id:"power_positive",name:"Power Positive",description:"Achieve 100+ MW surplus power",icon:"⚡",category:"efficiency"},self_sufficient:{id:"self_sufficient",name:"Self Sufficient",description:"Build a fuel processor and become fuel independent",icon:"⛽",category:"mastery"},first_extraction:{id:"first_extraction",name:"First Extraction",description:"Extract your first resource",icon:"⛏️",category:"production"},million_units:{id:"million_units",name:"Million Unit Club",description:"Produce 1,000,000 units of any resource",icon:"📊",category:"production",trackProgress:!0,progressTarget:1e6},resource_mogul:{id:"resource_mogul",name:"Resource Mogul",description:"Have 10,000+ units of 5 different resources",icon:"💎",category:"production",trackProgress:!0,progressTarget:5},first_craft:{id:"first_craft",name:"First Creation",description:"Complete your first crafting job",icon:"🔨",category:"crafting"},master_crafter:{id:"master_crafter",name:"Master Crafter",description:"Craft a Tier 5 component",icon:"🏆",category:"crafting"},speed_crafter:{id:"speed_crafter",name:"Speed Demon",description:"Complete 10 crafting jobs within an hour",icon:"⚡",category:"crafting"},production_line:{id:"production_line",name:"Production Line",description:"Run 10 crafting jobs simultaneously",icon:"🏭",category:"crafting",trackProgress:!0,progressTarget:10},optimizer:{id:"optimizer",name:"The Optimizer",description:"Achieve 95% efficiency on any production chain",icon:"📈",category:"efficiency"},perfect_balance:{id:"perfect_balance",name:"Perfect Balance",description:"Balance all resource flows to net zero waste",icon:"⚖️",category:"efficiency"},starbase_commander:{id:"starbase_commander",name:"Starbase Commander",description:"Upgrade starbase to Central Space Station",icon:"🚀",category:"mastery"},industrial_empire:{id:"industrial_empire",name:"Industrial Empire",description:"Own 10+ active claim stakes",icon:"🏛️",category:"mastery",trackProgress:!0,progressTarget:10},recipe_master:{id:"recipe_master",name:"Recipe Master",description:"Unlock and craft 100 different recipes",icon:"📜",category:"mastery"}},H={production:{name:"Production",icon:"⛏️",color:"var(--status-success)"},crafting:{name:"Crafting",icon:"🔨",color:"var(--accent-blue)"},efficiency:{name:"Efficiency",icon:"📈",color:"var(--accent-gold)"},exploration:{name:"Exploration",icon:"🌌",color:"var(--accent-purple)"},mastery:{name:"Mastery",icon:"🏆",color:"var(--primary-orange)"}};function W(){const{state:e}=$(),[t,n]=p.useState(null),[r,s]=p.useState(!1),a=Object.keys(e.achievements||{}).filter(t=>e.achievements[t]).length,i=Object.keys(B).length,l=Math.round(a/i*100),o=Object.values(B).filter(e=>!t||e.category===t);return d.jsxs(d.Fragment,{children:[d.jsxs("button",{className:"achievement-button",onClick:()=>s(!r),title:"View Achievements",children:[d.jsx("span",{className:"achievement-icon",children:"🏆"}),d.jsxs("span",{className:"achievement-progress",title:`${l}% Complete`,children:[a,"/",i]})]}),r&&d.jsxs("div",{className:"achievement-panel",children:[d.jsxs("div",{className:"panel-header",children:[d.jsx("h3",{children:"Achievements"}),d.jsx("button",{className:"close-button",onClick:()=>s(!1),title:"Close",children:"×"})]}),d.jsxs("div",{className:"achievement-progress-bar",children:[d.jsx("div",{className:"progress-fill",style:{width:`${l}%`}}),d.jsxs("span",{className:"progress-text",children:[l,"% Complete"]})]}),d.jsxs("div",{className:"category-filters",children:[d.jsx("button",{className:"category-btn "+(t?"":"active"),onClick:()=>n(null),children:"All"}),Object.entries(H).map(([e,r])=>d.jsxs("button",{className:"category-btn "+(t===e?"active":""),onClick:()=>n(e),style:{"--category-color":r.color},children:[d.jsx("span",{className:"category-icon",children:r.icon}),d.jsx("span",{children:r.name})]},e))]}),d.jsx("div",{className:"achievement-list",children:o.map(t=>{var n,r;const s=null==(n=e.achievements)?void 0:n[t.id],a=null==(r=e.achievementProgress)?void 0:r[t.id];return d.jsxs("div",{className:"achievement-item "+(s?"unlocked":"locked"),children:[d.jsx("div",{className:"achievement-icon",children:t.icon}),d.jsxs("div",{className:"achievement-details",children:[d.jsx("h4",{children:t.name}),d.jsx("p",{children:t.description}),s&&d.jsx("span",{className:"unlock-date",children:"Unlocked ✓"}),!s&&a&&d.jsxs("div",{className:"achievement-progress-inline",children:[d.jsx("div",{className:"mini-progress-bar",children:d.jsx("div",{className:"mini-progress-fill",style:{width:`${Math.min(a.current/a.target*100,100)}%`}})}),d.jsxs("span",{className:"progress-numbers",children:[a.current.toLocaleString(),"/",a.target.toLocaleString()]})]})]})]},t.id)})})]})]})}function V(){const[e,t]=p.useState({}),[n,r]=p.useState(!0),[s,a]=p.useState(!0);p.useEffect(()=>{const e=localStorage.getItem("achievementTrackerExpanded"),t=localStorage.getItem("achievementTrackerVisible");null!==e&&r(JSON.parse(e)),null!==t&&a(JSON.parse(t))},[]);const i=()=>{const e=!s;a(e),localStorage.setItem("achievementTrackerVisible",JSON.stringify(e))};p.useEffect(()=>{const e=e=>{const{achievementId:n,current:r,target:s}=e.detail;t(e=>({...e,[n]:{current:r,target:s,updated:!0}})),setTimeout(()=>{t(e=>({...e,[n]:{...e[n],updated:!1}}))},1e3)};return window.addEventListener("achievement-progress",e),()=>{window.removeEventListener("achievement-progress",e)}},[]);const l=Object.entries(e).filter(([e,t])=>t.current<t.target);return!s&&l.length>0?d.jsxs("button",{className:"achievement-tracker-toggle",onClick:i,title:"Show Achievement Progress",children:["📊 ",l.length]}):s&&0!==l.length?d.jsxs("div",{className:"achievement-tracker "+(n?"expanded":"collapsed"),children:[d.jsxs("div",{className:"tracker-header",children:[d.jsx("button",{className:"tracker-toggle",onClick:()=>{const e=!n;r(e),localStorage.setItem("achievementTrackerExpanded",JSON.stringify(e))},title:n?"Collapse":"Expand",children:n?"◀":"▶"}),!n&&d.jsxs("span",{className:"tracker-count",children:["📊 ",l.length]}),n&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"tracker-title",children:"Progress"}),d.jsx("button",{className:"tracker-close",onClick:i,title:"Hide Progress Tracker",children:"×"})]})]}),n&&d.jsx("div",{className:"tracker-items",children:l.map(([e,t])=>{const n=B[e],r=Math.min(t.current/t.target*100,100);return d.jsxs("div",{className:"tracker-item "+(t.updated?"updated":""),children:[d.jsxs("div",{className:"tracker-info",children:[d.jsx("span",{className:"tracker-icon",children:n.icon}),d.jsx("span",{className:"tracker-name",children:n.name})]}),d.jsx("div",{className:"tracker-progress",children:d.jsxs("div",{className:"progress-bar-mini",children:[d.jsx("div",{className:"progress-fill-mini",style:{width:`${r}%`}}),d.jsxs("span",{className:"progress-text-mini",children:[t.current.toLocaleString(),"/",t.target.toLocaleString()]})]})})]},e)})})]}):null}function Q({onNotification:e}){const{state:t,dispatch:n}=$(),[r,s]=p.useState(!1),[a,i]=p.useState(!1),[l,o]=p.useState(""),[c,u]=p.useState([]),f=()=>{const e=[];for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);if(null==r?void 0:r.startsWith("sage_c4_save_"))try{const t=JSON.parse(localStorage.getItem(r)||"{}");e.push({id:r,name:t.name||"Unnamed Save",timestamp:t.timestamp||0,data:t})}catch(t){}}u(e.sort((e,t)=>t.timestamp-e.timestamp))},h=()=>{if(!l.trim())return void e("Please enter a save name","error");const n={name:l,timestamp:Date.now(),version:"1.0.0",state:t,claimStakes:localStorage.getItem("claimStakeInstances"),craftingHabs:localStorage.getItem("craftingHabInstances")},r=`sage_c4_save_${Date.now()}`;try{localStorage.setItem(r,JSON.stringify(n)),e(`Game saved as "${l}"`,"success"),o(""),s(!1),f()}catch(a){e("Failed to save game","error")}};return d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"btn btn-secondary",onClick:()=>{s(!0),i(!1)},children:"💾 Save"}),d.jsx("button",{className:"btn btn-secondary",onClick:()=>{f(),i(!0),s(!1)},children:"📁 Load"}),r&&d.jsxs("div",{className:"save-load-panel",children:[d.jsxs("div",{className:"panel-header",children:[d.jsx("h3",{children:"Save Game"}),d.jsx("button",{className:"close-button",onClick:()=>s(!1),children:"×"})]}),d.jsx("div",{className:"panel-content",children:d.jsxs("div",{className:"save-input-group",children:[d.jsx("input",{type:"text",placeholder:"Enter save name...",value:l,onChange:e=>o(e.target.value),onKeyPress:e=>"Enter"===e.key&&h(),autoFocus:!0}),d.jsx("button",{className:"btn btn-primary",onClick:h,children:"Save"})]})})]}),a&&d.jsxs("div",{className:"save-load-panel",children:[d.jsxs("div",{className:"panel-header",children:[d.jsx("h3",{children:"Load Game"}),d.jsx("button",{className:"close-button",onClick:()=>i(!1),children:"×"})]}),d.jsxs("div",{className:"panel-content",children:[d.jsx("div",{className:"import-section",children:d.jsxs("label",{className:"import-button",children:["📥 Import Save File",d.jsx("input",{type:"file",accept:".json",onChange:t=>{var n;const r=null==(n=t.target.files)?void 0:n[0];if(!r)return;const s=new FileReader;s.onload=t=>{var n;try{const r=JSON.parse(null==(n=t.target)?void 0:n.result),s=`sage_c4_save_${Date.now()}`;localStorage.setItem(s,JSON.stringify(r)),f(),e("Save imported successfully","success")}catch(r){e("Failed to import save file","error")}},s.readAsText(r)},style:{display:"none"}})]})}),d.jsx("div",{className:"save-slots",children:0===c.length?d.jsx("p",{className:"no-saves",children:"No saved games found"}):c.map(t=>d.jsxs("div",{className:"save-slot",children:[d.jsxs("div",{className:"save-info",children:[d.jsx("h4",{children:t.name}),d.jsx("span",{className:"save-date",children:new Date(t.timestamp).toLocaleString()})]}),d.jsxs("div",{className:"save-actions",children:[d.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>(t=>{try{const r=t.data;r.state&&n({type:"LOAD_STATE",payload:r.state}),r.claimStakes&&localStorage.setItem("claimStakeInstances",r.claimStakes),r.craftingHabs&&localStorage.setItem("craftingHabInstances",r.craftingHabs),e(`Game loaded: "${t.name}"`,"success"),i(!1),setTimeout(()=>window.location.reload(),500)}catch(r){e("Failed to load save","error")}})(t),children:"Load"}),d.jsx("button",{className:"btn btn-sm",onClick:()=>(t=>{const n=JSON.stringify(t.data,null,2),r=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(r),a=document.createElement("a");a.href=s,a.download=`sage-c4-save-${t.name.replace(/\s+/g,"-")}-${t.timestamp}.json`,a.click(),URL.revokeObjectURL(s),e("Save exported","success")})(t),children:"Export"}),d.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>(t=>{confirm(`Delete save "${t.name}"?`)&&(localStorage.removeItem(t.id),f(),e("Save deleted","info"))})(t),children:"Delete"})]})]},t.id))})]})]})]})}function J({notifications:e,onDismiss:t}){return d.jsx("div",{className:"notification-container",children:e.map(e=>d.jsx(G,{notification:e,onDismiss:()=>t(e.id)},e.id))})}function G({notification:e,onDismiss:t}){p.useEffect(()=>{if(0!==e.duration){const n=setTimeout(()=>{t()},e.duration||3e3);return()=>clearTimeout(n)}},[e,t]);return d.jsxs("div",{className:`notification notification-${e.type}`,children:[d.jsx("span",{className:"notification-icon",children:(()=>{switch(e.type){case"success":return"✅";case"error":return"❌";case"warning":return"⚠️";default:return"ℹ️"}})()}),d.jsx("span",{className:"notification-message",children:e.message}),d.jsx("button",{className:"notification-close",onClick:t,children:"×"})]})}function K(){const[e,t]=p.useState([]);return{notifications:e,showNotification:(e,n="info",r=3e3)=>{const s={id:`notification-${Date.now()}-${Math.random()}`,message:e,type:n,duration:r};t(e=>[...e,s])},dismissNotification:e=>{t(t=>t.filter(t=>t.id!==e))}}}function Y({onClose:e}){const{state:t,updateStarbaseLevel:n,dispatch:r}=$(),[s,a]=p.useState("starbase"),i=D[t.starbaseLevel],l=t.starbaseLevel<6?D[t.starbaseLevel+1]:null;return d.jsx("div",{className:"settings-panel-overlay",onClick:e,children:d.jsxs("div",{className:"settings-panel",onClick:e=>e.stopPropagation(),children:[d.jsxs("div",{className:"settings-header",children:[d.jsx("h2",{children:"⚙️ Settings & Configuration"}),d.jsx("button",{className:"close-button",onClick:e,children:"×"})]}),d.jsxs("div",{className:"settings-tabs",children:[d.jsx("button",{className:"settings-tab "+("starbase"===s?"active":""),onClick:()=>a("starbase"),children:"🚀 Starbase"}),d.jsx("button",{className:"settings-tab "+("preferences"===s?"active":""),onClick:()=>a("preferences"),children:"⚙️ Preferences"}),d.jsx("button",{className:"settings-tab "+("data"===s?"active":""),onClick:()=>a("data"),children:"💾 Data"}),d.jsx("button",{className:"settings-tab "+("about"===s?"active":""),onClick:()=>a("about"),children:"ℹ️ About"})]}),d.jsxs("div",{className:"settings-content",children:["starbase"===s&&d.jsxs("div",{className:"starbase-settings",children:[d.jsxs("div",{className:"starbase-current",children:[d.jsx("h3",{children:"Current Starbase"}),d.jsxs("div",{className:"starbase-level-display",children:[d.jsxs("div",{className:"level-badge",children:[d.jsxs("div",{className:"level-number",children:[d.jsx("div",{children:"Level"}),d.jsx("div",{children:t.starbaseLevel})]}),d.jsx("div",{className:"level-name",children:i.name})]}),d.jsx("div",{className:"level-progress",children:d.jsx("div",{className:"progress-fill",style:{width:t.starbaseLevel/6*100+"%"}})})]}),d.jsxs("div",{className:"starbase-features",children:[d.jsx("h4",{children:"✨ Current Features"}),d.jsx("ul",{children:i.features.map(e=>d.jsxs("li",{children:["✓ ",e]},e))})]}),d.jsxs("div",{className:"starbase-capabilities",children:[d.jsxs("div",{className:"capability",children:[d.jsx("h4",{children:"🏭 Claim Stake Tiers"}),d.jsx("div",{className:"settings-tier-badges",children:[1,2,3,4,5].map(e=>d.jsxs("span",{className:"settings-tier-badge "+(i.claimStakeTiers.includes(e)?"unlocked":"locked"),children:["T",e]},e))})]}),d.jsxs("div",{className:"capability",children:[d.jsx("h4",{children:"🔧 Crafting Hab Plots"}),d.jsx("div",{className:"plot-counts",children:Object.entries(i.habPlotsByTier).map(([e,t])=>d.jsxs("div",{className:"plot-count",children:[d.jsxs("span",{className:"plot-tier",children:["T",e,":"]}),d.jsx("span",{className:"plot-number",children:t})]},e))})]})]}),d.jsxs("div",{className:"starbase-controls",children:[d.jsx("button",{className:"btn btn-secondary",onClick:()=>{t.starbaseLevel>0&&n(t.starbaseLevel-1)},disabled:0===t.starbaseLevel,children:"⬇️ Downgrade"}),d.jsx("button",{className:"btn btn-primary",onClick:()=>{t.starbaseLevel<6&&n(t.starbaseLevel+1)},disabled:6===t.starbaseLevel,children:"⬆️ Upgrade"})]})]}),l&&d.jsxs("div",{className:"starbase-next",children:[d.jsx("h3",{children:"Next Level Preview"}),d.jsxs("div",{className:"next-level-info",children:[d.jsxs("h4",{children:["Level ",t.starbaseLevel+1,": ",l.name]}),d.jsxs("div",{className:"next-features",children:[d.jsx("h5",{children:"New Features:"}),d.jsx("ul",{children:l.features.map(e=>d.jsxs("li",{children:["+ ",e]},e))})]})]})]})]}),"preferences"===s&&d.jsxs("div",{className:"preferences-settings",children:[d.jsx("h3",{children:"Application Settings"}),d.jsxs("div",{className:"setting-group",children:[d.jsxs("label",{children:[d.jsx("span",{children:"🔄 Auto-Save"}),d.jsx("input",{type:"checkbox",checked:t.settings.autoSave,onChange:e=>{return t="autoSave",n=e.target.checked,void r({type:"UPDATE_SETTINGS",payload:{[t]:n}});var t,n}})]}),d.jsx("p",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Automatically save your progress every few seconds"})]}),d.jsxs("div",{className:"setting-group",style:{marginTop:"2rem"},children:[d.jsx("h4",{children:"💾 Save/Load Game State"}),d.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[d.jsx("button",{className:"btn btn-secondary",onClick:()=>{const e={version:"1.0.0",timestamp:Date.now(),state:t,claimStakes:localStorage.getItem("claimStakeInstances"),craftingHabs:localStorage.getItem("craftingHabInstances"),recipes:localStorage.getItem("recipeBuildPlans")},n=JSON.stringify(e,null,2),r=new Blob([n],{type:"application/json"}),s=URL.createObjectURL(r),a=document.createElement("a");a.href=s,a.download=`sage-c4-save-${Date.now()}.json`,a.click(),URL.revokeObjectURL(s)},style:{flex:1},children:"📥 Export Save"}),d.jsx("button",{className:"btn btn-secondary",onClick:()=>{const e=document.createElement("input");e.type="file",e.accept=".json",e.onchange=e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];if(n){const e=new FileReader;e.onload=e=>{var t;try{const n=JSON.parse(null==(t=e.target)?void 0:t.result);n.claimStakes&&localStorage.setItem("claimStakeInstances",n.claimStakes),n.craftingHabs&&localStorage.setItem("craftingHabInstances",n.craftingHabs),n.recipes&&localStorage.setItem("recipeBuildPlans",n.recipes),n.state&&localStorage.setItem("sageC4SharedState",JSON.stringify(n.state)),alert("Save loaded successfully! The page will now reload."),window.location.reload()}catch(n){alert("Error loading save file. Please check the file format.")}},e.readAsText(n)}},e.click()},style:{flex:1},children:"📤 Import Save"})]})]})]}),"data"===s&&d.jsxs("div",{className:"data-settings",children:[d.jsx("h3",{children:"Data Management"}),d.jsxs("div",{className:"setting-group",children:[d.jsx("h4",{children:"📊 Current Saved Data"}),d.jsxs("ul",{style:{listStyle:"none",padding:0},children:[d.jsxs("li",{style:{padding:"0.5rem 0",borderBottom:"1px solid var(--border-color)"},children:[d.jsx("span",{children:"🏭 Claim Stakes: "}),d.jsx("strong",{children:(()=>{try{const e=localStorage.getItem("claimStakeInstances");return e?JSON.parse(e).length:0}catch{return 0}})()})," saved"]}),d.jsxs("li",{style:{padding:"0.5rem 0",borderBottom:"1px solid var(--border-color)"},children:[d.jsx("span",{children:"🔧 Crafting Habs: "}),d.jsx("strong",{children:(()=>{try{const e=localStorage.getItem("craftingHabInstances");return e?JSON.parse(e).length:0}catch{return 0}})()})," saved"]}),d.jsxs("li",{style:{padding:"0.5rem 0",borderBottom:"1px solid var(--border-color)"},children:[d.jsx("span",{children:"📋 Recipe Plans: "}),d.jsx("strong",{children:(()=>{try{const e=localStorage.getItem("recipeBuildPlans");return e?JSON.parse(e).length:0}catch{return 0}})()})," saved"]})]})]}),d.jsxs("div",{className:"setting-group",style:{marginTop:"2rem"},children:[d.jsx("button",{className:"btn btn-danger",onClick:()=>{if(confirm("Are you sure you want to clear all saved data?\n\nThis will reset:\n• All claim stakes\n• Crafting hab designs\n• Saved games\n• Settings\n• Achievements\n• All progress\n\nThis action cannot be undone!")){const t=localStorage.getItem("claimStakeInstances");if(t)try{JSON.parse(t)}catch(e){}const n=[],s=[];for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);t&&s.push(t)}for(const e of s)("claimStakeInstances"===e||"craftingHabInstances"===e||"sageC4SharedState"===e||"recipeBuildPlans"===e||"craftingQueue"===e||"achievementTrackerExpanded"===e||"achievementTrackerVisible"===e||"showAchievementProgress"===e||e.startsWith("tutorial_")||e.startsWith("save_")||e.startsWith("quickSave")||e.startsWith("autoSave"))&&n.push(e);n.forEach(e=>{localStorage.removeItem(e)}),localStorage.removeItem("claimStakeInstances"),localStorage.removeItem("sageC4SharedState"),localStorage.removeItem("craftingHabInstances"),localStorage.removeItem("recipeBuildPlans"),localStorage.removeItem("craftingQueue");localStorage.getItem("claimStakeInstances");try{sessionStorage.clear()}catch(e){}r({type:"RESET_STATE"}),window.isClearing=!0,setTimeout(()=>{localStorage.getItem("claimStakeInstances")&&localStorage.removeItem("claimStakeInstances");for(let e=0;e<localStorage.length;e++){localStorage.key(e)}window.location.href=window.location.href},250)}},style:{background:"var(--status-danger)",width:"100%",padding:"1rem",fontSize:"1rem",fontWeight:"bold"},children:"🗑️ Clear All Data"}),d.jsx("p",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:"var(--text-secondary)",textAlign:"center"},children:"This will reset everything and restart the application"})]})]}),"about"===s&&d.jsxs("div",{className:"about-settings",children:[d.jsx("h3",{children:"About SAGE C4 Tools"}),d.jsxs("div",{className:"about-content",children:[d.jsx("p",{className:"version",children:"Version 1.0.0"}),d.jsx("h4",{children:"Created for the Star Atlas Community"}),d.jsx("p",{children:"This tool suite helps players understand and master the C4 (Claim, Craft, Combat, Conquer) system through interactive simulation and planning."}),d.jsx("h4",{children:"Features"}),d.jsxs("ul",{children:[d.jsx("li",{children:"🏭 Claim Stakes Simulator - Design and optimize resource extraction"}),d.jsx("li",{children:"🔧 Crafting Hab Tool - Plan and execute crafting operations"}),d.jsx("li",{children:"📋 Recipe Explorer - Visualize complex crafting dependencies"})]}),d.jsx("h4",{children:"Tips"}),d.jsxs("ul",{children:[d.jsx("li",{children:"• Use Magic Resources (🪄) for testing"}),d.jsx("li",{children:"• Save your designs frequently"}),d.jsx("li",{children:"• Export saves to share with friends"}),d.jsx("li",{children:"• Upgrade your starbase to unlock more features"})]}),d.jsx("h4",{children:"⌨️ Keyboard Shortcuts"}),d.jsxs("ul",{children:[d.jsxs("li",{children:["• ",d.jsx("kbd",{style:{background:"linear-gradient(135deg, rgba(255, 107, 53, 0.2), rgba(255, 215, 0, 0.1))",padding:"2px 6px",borderRadius:"4px",border:"1px solid rgba(255, 107, 53, 0.3)",color:"#FF6B35",fontWeight:"bold"},children:"Ctrl"})," + ",d.jsx("kbd",{style:{background:"linear-gradient(135deg, rgba(255, 107, 53, 0.2), rgba(255, 215, 0, 0.1))",padding:"2px 6px",borderRadius:"4px",border:"1px solid rgba(255, 107, 53, 0.3)",color:"#FF6B35",fontWeight:"bold"},children:"S"})," - Quick save"]}),d.jsxs("li",{children:["• ",d.jsx("kbd",{style:{background:"linear-gradient(135deg, rgba(255, 107, 53, 0.2), rgba(255, 215, 0, 0.1))",padding:"2px 6px",borderRadius:"4px",border:"1px solid rgba(255, 107, 53, 0.3)",color:"#FF6B35",fontWeight:"bold"},children:"Esc"})," - Close dialogs"]}),d.jsxs("li",{children:["• ",d.jsx("kbd",{style:{background:"linear-gradient(135deg, rgba(255, 107, 53, 0.2), rgba(255, 215, 0, 0.1))",padding:"2px 6px",borderRadius:"4px",border:"1px solid rgba(255, 107, 53, 0.3)",color:"#FF6B35",fontWeight:"bold"},children:"Tab"})," - Navigate between tools"]})]}),d.jsxs("div",{className:"credits",children:[d.jsxs("p",{children:["Built with ",d.jsx("span",{style:{color:"#FF4136",fontSize:"1.2em"},children:"❤️"})," for Star Atlas"]}),d.jsx("p",{style:{fontSize:"0.9rem",opacity:.7,marginTop:"0.5rem"},children:"© 2024 SAGE C4 Tools"})]})]})]})]})]})})}function X({claimStakes:e=[],onTransfer:t,onClose:n}){var r;const{state:s}=$(),{gameData:a}=A(),i=e.length>0?e:s.claimStakesData||[];p.useEffect(()=>{e.length},[s.claimStakesData,e.length]);const[l,o]=p.useState("all"),[c,u]=p.useState(null),[f,h]=p.useState("grid"),[m,g]=p.useState(""),[v,b]=p.useState(!1),[x,y]=p.useState("name"),[j,N]=p.useState({show:!1}),S=p.useMemo(()=>{const e={};Object.entries(s.starbaseInventory||{}).forEach(([t,n])=>{e[t]||(e[t]={id:t,name:t,category:"unknown",total:0,locations:[],production:0,consumption:0,net:0}),e[t].total+=n,e[t].locations.push({id:"starbase",name:`Starbase (Level ${s.starbaseLevel})`,type:"starbase",amount:n})}),i.forEach(t=>{var n;Object.entries(t.resources||{}).forEach(([n,r])=>{e[n]||(e[n]={id:n,name:n,category:"unknown",total:0,locations:[],production:0,consumption:0,net:0}),e[n].total+=r;const s=e[n].locations.find(e=>e.id===t.id);s?s.amount+=r:e[n].locations.push({id:t.id,name:`${t.planetName} - T${t.tier}`,type:"claim-stake",amount:r,storage:t.currentStorage,maxStorage:t.maxStorage})}),null==(n=t.flows)||n.forEach(n=>{e[n.resource]||(e[n.resource]={id:n.resource,name:n.resource,category:"unknown",total:n.storage||0,locations:[],production:0,consumption:0,net:0}),e[n.resource].production+=n.extraction+n.production,e[n.resource].consumption+=n.consumption,e[n.resource].net+=n.net;const r=e[n.resource].locations.find(e=>e.id===t.id);r&&(r.production=(r.production||0)+n.extraction+n.production,r.consumption=(r.consumption||0)+n.consumption)})});const t=s.craftingHabState;return(null==t?void 0:t.habPlots)&&t.habPlots.forEach(t=>{t.inventory&&Object.entries(t.inventory).forEach(([n,r])=>{e[n]||(e[n]={id:n,name:n,category:"unknown",total:0,locations:[],production:0,consumption:0,net:0}),e[n].total+=r,e[n].locations.push({id:t.id,name:`Hab Plot T${t.tier}`,type:"crafting-hab",amount:r})})}),Object.values(e).forEach(e=>{var t;const n=null==(t=null==a?void 0:a.resources)?void 0:t.find(t=>t.id===e.id);n&&(e.name=n.name||e.id,e.category=n.category||"unknown")}),e},[s,e,a]),w=p.useMemo(()=>{let e=Object.values(S);return"all"!==l&&(e=e.filter(e=>e.category===l)),m&&(e=e.filter(e=>e.name.toLowerCase().includes(m.toLowerCase())||e.id.toLowerCase().includes(m.toLowerCase()))),v&&(e=e.filter(e=>e.total>0||e.production>0||e.consumption>0)),e.sort((e,t)=>{switch(x){case"amount":return t.total-e.total;case"production":return t.production-e.production;case"net":return t.net-e.net;default:return e.name.localeCompare(t.name)}}),e},[S,l,m,v,x]),k=p.useMemo(()=>{const e=new Set;return Object.values(S).forEach(t=>e.add(t.category)),Array.from(e).sort()},[S]),C=p.useMemo(()=>({resources:Object.keys(S).length,totalAmount:Object.values(S).reduce((e,t)=>e+t.total,0),totalProduction:Object.values(S).reduce((e,t)=>e+t.production,0),totalConsumption:Object.values(S).reduce((e,t)=>e+t.consumption,0),netFlow:Object.values(S).reduce((e,t)=>e+t.net,0)}),[S]),E=e=>{if(0===e)return"0/s";const t=Math.abs(e),n=e>0?"+":"";return t<.001?`${n}${e.toFixed(4)}/s`:t<.01?`${n}${e.toFixed(3)}/s`:t<1?`${n}${e.toFixed(2)}/s`:t<100?`${n}${e.toFixed(1)}/s`:`${n}${Math.floor(e)}/s`};return d.jsx("div",{className:"resources-view-overlay",onClick:n,children:d.jsxs("div",{className:"resources-view-panel",onClick:e=>e.stopPropagation(),children:[d.jsxs("div",{className:"resources-header",children:[d.jsxs("div",{className:"header-content",children:[d.jsx("h2",{children:"🌐 Global Resource Management"}),d.jsxs("div",{className:"header-stats",children:[d.jsxs("span",{className:"stat-badge",children:[d.jsx("span",{className:"stat-label",children:"Total Resources:"}),d.jsx("span",{className:"stat-value",children:C.resources})]}),d.jsxs("span",{className:"stat-badge",children:[d.jsx("span",{className:"stat-label",children:"Total Amount:"}),d.jsx("span",{className:"stat-value",children:Math.floor(C.totalAmount).toLocaleString()})]}),d.jsxs("span",{className:"stat-badge production",children:[d.jsx("span",{className:"stat-label",children:"Production:"}),d.jsx("span",{className:"stat-value",children:E(C.totalProduction)})]}),d.jsxs("span",{className:"stat-badge consumption",children:[d.jsx("span",{className:"stat-label",children:"Consumption:"}),d.jsx("span",{className:"stat-value",children:E(-C.totalConsumption)})]}),d.jsxs("span",{className:"stat-badge net-flow "+(C.netFlow>=0?"positive":"negative"),children:[d.jsx("span",{className:"stat-label",children:"Net:"}),d.jsx("span",{className:"stat-value",children:E(C.netFlow)})]})]})]}),d.jsx("button",{className:"close-button",onClick:n,children:"×"})]}),d.jsxs("div",{className:"resources-toolbar",children:[d.jsx("div",{className:"search-section",children:d.jsx("input",{type:"text",placeholder:"🔍 Search resources...",value:m,onChange:e=>g(e.target.value),className:"search-input"})}),d.jsxs("div",{className:"view-controls",children:[d.jsxs("select",{value:l,onChange:e=>o(e.target.value),className:"category-select",children:[d.jsx("option",{value:"all",children:"All Categories"}),k.map(e=>d.jsx("option",{value:e,children:e},e))]}),d.jsxs("button",{className:"filter-button "+(v?"active":""),onClick:()=>b(!v),children:[v?"✓ ":"","Active Only"]}),d.jsxs("select",{value:x,onChange:e=>y(e.target.value),className:"sort-select",children:[d.jsx("option",{value:"name",children:"Sort by Name"}),d.jsx("option",{value:"amount",children:"Sort by Amount"}),d.jsx("option",{value:"production",children:"Sort by Production"}),d.jsx("option",{value:"net",children:"Sort by Net Flow"})]}),d.jsxs("div",{className:"view-mode-buttons",children:[d.jsx("button",{className:"view-button "+("grid"===f?"active":""),onClick:()=>h("grid"),title:"Grid View",children:"⊞"}),d.jsx("button",{className:"view-button "+("list"===f?"active":""),onClick:()=>h("list"),title:"List View",children:"☰"})]})]})]}),d.jsxs("div",{className:`resources-content view-${f} ${c?"has-details":""}`,children:["grid"===f&&d.jsx("div",{className:"resources-grid",children:w.map(e=>{const t=e.production>0||e.consumption>0,n=e.net;return d.jsxs("div",{className:`resource-card ${c===e.id?"selected":""} ${t?"active":""}`,onClick:()=>u(c===e.id?null:e.id),children:[d.jsxs("div",{className:"resource-card-header",children:[d.jsx("div",{className:"resource-icon",children:"raw"===e.category?"⛏️":"processed"===e.category?"⚙️":"fuel"===e.category?"⚡":"📦"}),d.jsxs("div",{className:"resource-info",children:[d.jsx("h4",{className:"resource-name",children:e.name}),d.jsx("span",{className:"resource-category",children:e.category})]})]}),d.jsxs("div",{className:"resource-amount-display",children:[d.jsx("span",{className:"amount-value",children:Math.floor(e.total).toLocaleString()}),d.jsx("span",{className:"amount-label",children:"units"})]}),t&&d.jsxs("div",{className:"resource-flow-indicator",children:[d.jsxs("div",{className:"flow-bar",children:[d.jsx("div",{className:"production-bar",style:{width:`${Math.min(10*e.production,50)}%`}}),d.jsx("div",{className:"consumption-bar",style:{width:`${Math.min(10*e.consumption,50)}%`}})]}),d.jsx("div",{className:"flow-value",style:{color:(r=n,r>0?"var(--status-success)":r<0?"var(--status-danger)":"var(--text-dim)")},children:E(n)})]}),d.jsx("div",{className:"resource-locations-summary",children:d.jsxs("div",{className:"locations-header",children:[d.jsx("span",{className:"locations-count",children:e.locations.length}),d.jsx("span",{className:"locations-label",children:"locations"})]})})]},e.id);var r})}),"list"===f&&d.jsxs("div",{className:"resources-list-view",children:[d.jsxs("div",{className:"list-header",children:[d.jsx("div",{className:"list-col col-resource",children:"Resource"}),d.jsx("div",{className:"list-col col-category",children:"Category"}),d.jsx("div",{className:"list-col col-amount",children:"Amount"}),d.jsx("div",{className:"list-col col-production",children:"Production"}),d.jsx("div",{className:"list-col col-consumption",children:"Consumption"}),d.jsx("div",{className:"list-col col-net",children:"Net Flow"}),d.jsx("div",{className:"list-col col-locations",children:"Locations"}),d.jsx("div",{className:"list-col col-actions",children:"Actions"})]}),d.jsx("div",{className:"list-body",children:w.map(e=>d.jsxs("div",{className:`list-row ${c===e.id?"selected":""} ${e.production>0||e.consumption>0?"active":""}`,onClick:()=>u(c===e.id?null:e.id),children:[d.jsxs("div",{className:"list-col col-resource",children:[d.jsx("span",{className:"resource-icon",children:"raw"===e.category?"⛏️":"processed"===e.category?"⚙️":"fuel"===e.category?"⚡":"📦"}),d.jsx("span",{className:"resource-name",children:e.name})]}),d.jsx("div",{className:"list-col col-category",children:d.jsx("span",{className:`category-badge ${e.category}`,children:e.category})}),d.jsx("div",{className:"list-col col-amount",children:d.jsx("span",{className:"amount-text",children:Math.floor(e.total).toLocaleString()})}),d.jsx("div",{className:"list-col col-production",children:e.production>0?d.jsxs("span",{className:"rate-badge positive",children:["↑ ",E(e.production)]}):d.jsx("span",{className:"rate-badge neutral",children:"-"})}),d.jsx("div",{className:"list-col col-consumption",children:e.consumption>0?d.jsxs("span",{className:"rate-badge negative",children:["↓ ",E(e.consumption)]}):d.jsx("span",{className:"rate-badge neutral",children:"-"})}),d.jsx("div",{className:"list-col col-net",children:0!==e.net?d.jsxs("span",{className:"rate-badge",style:{background:e.net>0?"rgba(0, 255, 136, 0.2)":"rgba(255, 68, 68, 0.2)",color:e.net>0?"#00ff88":"#ff4444"},children:[e.net>0?"↑":"↓"," ",E(Math.abs(e.net))]}):d.jsx("span",{className:"rate-badge neutral",children:"-"})}),d.jsx("div",{className:"list-col col-locations",children:d.jsx("span",{className:"location-count",children:e.locations.length})}),d.jsx("div",{className:"list-col col-actions",children:d.jsx("button",{className:"action-btn",onClick:e=>{e.stopPropagation()},title:"Transfer Resources",children:"↔️"})})]},e.id))})]}),"flow"===f&&d.jsx("div",{className:"resources-flow-view",children:d.jsxs("div",{className:"flow-diagram",children:[d.jsxs("div",{className:"flow-column production-column",children:[d.jsxs("div",{className:"column-header",children:[d.jsx("h3",{children:"🏭 Production"}),d.jsx("span",{className:"column-subtitle",children:"Claim Stakes"})]}),d.jsxs("div",{className:"flow-nodes",children:[i.filter(e=>{var t;return null==(t=e.flows)?void 0:t.some(e=>e.net>0)}).map(e=>{var t,n;return d.jsxs("div",{className:"flow-node production-node",children:[d.jsxs("div",{className:"node-header",children:[d.jsx("span",{className:"node-icon",children:"🌍"}),d.jsx("span",{className:"node-title",children:e.planetName}),d.jsxs("span",{className:"node-tier",children:["T",e.tier]})]}),d.jsxs("div",{className:"node-content",children:[null==(t=e.flows)?void 0:t.filter(e=>e.net>0).slice(0,3).map(e=>d.jsxs("div",{className:"flow-item",children:[d.jsx("span",{className:"item-resource",children:e.resource}),d.jsxs("span",{className:"item-rate positive",children:["+",E(e.net)]})]},e.resource)),(null==(n=e.flows)?void 0:n.filter(e=>e.net>0).length)>3&&d.jsxs("div",{className:"flow-more",children:["+",e.flows.filter(e=>e.net>0).length-3," more"]})]})]},e.id)}),0===i.filter(e=>{var t;return null==(t=e.flows)?void 0:t.some(e=>e.net>0)}).length&&d.jsxs("div",{className:"empty-node",children:[d.jsx("span",{className:"empty-icon",children:"🏭"}),d.jsx("span",{className:"empty-text",children:"No active production"})]})]})]}),d.jsx("div",{className:"flow-arrows",children:d.jsxs("div",{className:"arrow-container",children:[d.jsxs("svg",{className:"flow-svg",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[d.jsx("defs",{children:d.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"10",refX:"9",refY:"3",orient:"auto",children:d.jsx("polygon",{points:"0 0, 10 3, 0 6",fill:"var(--primary-orange)"})})}),d.jsx("path",{d:"M 10 50 L 90 50",stroke:"var(--primary-orange)",strokeWidth:"2",fill:"none",markerEnd:"url(#arrowhead)",opacity:"0.5"})]}),d.jsx("div",{className:"flow-label",children:"Transport"})]})}),d.jsxs("div",{className:"flow-column storage-column",children:[d.jsxs("div",{className:"column-header",children:[d.jsx("h3",{children:"📦 Storage"}),d.jsx("span",{className:"column-subtitle",children:"Inventory"})]}),d.jsx("div",{className:"flow-nodes",children:d.jsxs("div",{className:"flow-node storage-node",children:[d.jsxs("div",{className:"node-header",children:[d.jsx("span",{className:"node-icon",children:"🏛️"}),d.jsx("span",{className:"node-title",children:"Starbase"}),d.jsxs("span",{className:"node-tier",children:["L",s.starbaseLevel]})]}),d.jsxs("div",{className:"node-content",children:[Object.entries(s.starbaseInventory||{}).filter(([e,t])=>t>0).sort(([,e],[,t])=>t-e).slice(0,5).map(([e,t])=>d.jsxs("div",{className:"flow-item",children:[d.jsx("span",{className:"item-resource",children:e}),d.jsx("span",{className:"item-amount",children:Math.floor(t).toLocaleString()})]},e)),Object.entries(s.starbaseInventory||{}).filter(([e,t])=>t>0).length>5&&d.jsxs("div",{className:"flow-more",children:["+",Object.entries(s.starbaseInventory||{}).filter(([e,t])=>t>0).length-5," more"]})]})]})})]}),d.jsxs("div",{className:"flow-column sinks",children:[d.jsx("h3",{children:"Consumption Sinks"}),i.filter(e=>{var t;return null==(t=e.flows)?void 0:t.some(e=>e.consumption>0)}).map(e=>{var t;return d.jsxs("div",{className:"flow-node sink",children:[d.jsxs("h4",{children:[e.planetName," - T",e.tier]}),d.jsx("div",{className:"flow-stats",children:null==(t=e.flows)?void 0:t.filter(e=>e.consumption>0).map(e=>d.jsxs("div",{className:"flow-stat",children:[d.jsxs("span",{children:[e.resource,":"]}),d.jsx("span",{className:"negative",children:E(-e.consumption)})]},e.resource))})]},e.id)})]})]})})]}),c&&d.jsxs("div",{className:"resource-details",children:[d.jsxs("div",{className:"details-header",children:[d.jsxs("h3",{children:[S[c].name," Details"]}),d.jsx("button",{className:"details-close-btn",onClick:()=>u(null),title:"Close details",children:"×"})]}),d.jsx("div",{className:"details-content",children:d.jsxs("div",{className:"locations-list",children:[d.jsx("h4",{children:"Storage Locations:"}),S[c].locations.map(e=>{var n;return d.jsxs("div",{className:"location-detail",children:[d.jsxs("div",{className:"location-header",children:[d.jsx("span",{className:"location-name",children:e.name}),d.jsx("span",{className:"location-type",children:e.type})]}),d.jsxs("div",{className:"location-stats",children:[d.jsxs("span",{children:["📦 Amount: ",Math.floor(e.amount).toLocaleString()]}),e.production&&e.production>0&&d.jsxs("span",{className:"positive",children:["📈 Prod: ",E(e.production)]}),e.consumption&&e.consumption>0&&d.jsxs("span",{className:"negative",children:["📉 Cons: ",E(-e.consumption)]}),void 0!==e.storage&&d.jsxs("span",{children:["🏭 Storage: ",Math.floor(e.storage).toLocaleString(),"/",(null==(n=e.maxStorage)?void 0:n.toLocaleString())||"∞"]})]}),t&&"starbase"===e.type&&d.jsx("button",{className:"transfer-btn",onClick:()=>{var t,n,r;t=e.id,n=S[c].name,r=e.amount,N({show:!0,from:t,resource:n,maxAmount:r})},children:"🚀 Transfer"})]},e.id)})]})})]}),j.show&&d.jsx("div",{className:"transfer-modal-overlay",onClick:()=>N({show:!1}),children:d.jsxs("div",{className:"transfer-modal",onClick:e=>e.stopPropagation(),children:[d.jsxs("div",{className:"transfer-modal-header",children:[d.jsxs("h3",{children:["Transfer ",j.resource]}),d.jsx("button",{className:"modal-close-btn",onClick:()=>N({show:!1}),children:"×"})]}),d.jsxs("div",{className:"transfer-modal-content",children:[d.jsxs("div",{className:"transfer-info",children:[d.jsxs("p",{children:["Available: ",d.jsx("strong",{children:null==(r=j.maxAmount)?void 0:r.toLocaleString()})]}),d.jsxs("p",{children:["From: ",d.jsx("strong",{children:j.from})]})]}),d.jsxs("div",{className:"transfer-input-group",children:[d.jsx("label",{htmlFor:"transfer-amount",children:"Amount to Transfer:"}),d.jsx("input",{type:"number",id:"transfer-amount",min:"1",max:j.maxAmount,defaultValue:Math.min(100,j.maxAmount||0),className:"transfer-amount-input"})]}),d.jsxs("div",{className:"transfer-actions",children:[d.jsx("button",{className:"btn-cancel",onClick:()=>N({show:!1}),children:"Cancel"}),d.jsx("button",{className:"btn-primary transfer-confirm",onClick:()=>{const e=document.getElementById("transfer-amount"),n=parseInt(e.value);n>0&&n<=(j.maxAmount||0)&&(e=>{if(j.resource&&j.from&&t){const n={[j.resource]:e};t(j.from,"claim-stake",n)}N({show:!1})})(n)},children:"Transfer"})]})]})]})})]})})}function Z({className:e="",claimStakes:t=[]}){const{notifications:n,showNotification:r,dismissNotification:s}=K(),[a,i]=p.useState(!1),[l,o]=p.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsxs("nav",{className:`navigation ${e}`,children:[d.jsxs("div",{className:"tool-selector",children:[d.jsxs("button",{className:"tool-button home-button",onClick:()=>{window.location.host.includes("localhost")?alert("In production, this will navigate to the SAGE Editor Suite"):window.location.href="../index.html"},title:"Return to SAGE Editor Suite",children:[d.jsx("span",{className:"tool-icon",children:"🏠"}),d.jsx("span",{children:"Home"})]}),d.jsx("div",{className:"divider",style:{width:"1px",height:"24px",background:"var(--border-color)",margin:"0 0.5rem"}}),d.jsxs(q,{to:"/",className:({isActive:e})=>"tool-button "+(e?"active":""),children:[d.jsx("span",{className:"tool-icon",children:"🏭"}),d.jsx("span",{children:"Claim Stakes"})]}),d.jsxs(q,{to:"/crafting-hab",className:({isActive:e})=>"tool-button "+(e?"active":""),children:[d.jsx("span",{className:"tool-icon",children:"🔧"}),d.jsx("span",{children:"Crafting Hab"})]}),d.jsxs(q,{to:"/recipes",className:({isActive:e})=>"tool-button "+(e?"active":""),children:[d.jsx("span",{className:"tool-icon",children:"📋"}),d.jsx("span",{children:"Recipes"})]})]}),d.jsx("div",{className:"achievement-tracker-container",children:d.jsx(V,{})}),d.jsxs("div",{className:"global-actions",children:[d.jsx(W,{}),d.jsx("button",{className:"btn btn-secondary",onClick:()=>o(!0),title:"Open Full Resource Management",children:"🌐 Global Resources"}),d.jsx(Q,{onNotification:r}),d.jsx("button",{className:"btn btn-secondary",onClick:()=>i(!0),children:"⚙️ Settings"})]})]}),d.jsx(J,{notifications:n,onDismiss:s}),a&&d.jsx(Y,{onClose:()=>i(!1)}),l&&d.jsx(X,{claimStakes:t,onClose:()=>o(!1)})]})}function ee({className:e="",claimStakes:t=[],currentRoute:n="claim-stakes"}){const{notifications:r,showNotification:s,dismissNotification:a}=K(),[i,l]=p.useState(!1),[o,c]=p.useState(!1),u=e=>{window.location.hash="claim-stakes"===e?"":e};return d.jsxs(d.Fragment,{children:[d.jsxs("nav",{className:`navigation ${e}`,children:[d.jsxs("div",{className:"tool-selector",children:[d.jsxs("button",{className:"tool-button home-button",onClick:()=>{const e=window.location.protocol,t=window.location.hostname,n=window.location.pathname;if("file:"===e)return n.includes("/SAGE Editor Suite/")||n.includes("/SAGE%20Editor%20Suite/"),void(window.location.href="../index.html");if(t.endsWith(".github.io")){const e=n.split("/").filter(Boolean);if(e.length>0){const t=e.slice(0,1).join("/");window.location.href=`/${t}/SAGE%20Editor%20Suite/index.html`}else window.location.href="../index.html";return}window.location.href="../index.html"},title:"Return to SAGE Editor Suite",children:[d.jsx("span",{className:"tool-icon",children:"🏠"}),d.jsx("span",{children:"Home"})]}),d.jsx("div",{className:"divider",style:{width:"1px",height:"24px",background:"var(--border-color)",margin:"0 0.5rem"}}),d.jsxs("button",{onClick:()=>u("claim-stakes"),className:"tool-button "+("claim-stakes"===n?"active":""),children:[d.jsx("span",{className:"tool-icon",children:"🏭"}),d.jsx("span",{children:"Claim Stakes"})]}),d.jsxs("button",{onClick:()=>u("crafting-hab"),className:"tool-button "+("crafting-hab"===n?"active":""),children:[d.jsx("span",{className:"tool-icon",children:"🔧"}),d.jsx("span",{children:"Crafting Hab"})]}),d.jsxs("button",{onClick:()=>u("recipes"),className:"tool-button "+("recipes"===n?"active":""),children:[d.jsx("span",{className:"tool-icon",children:"📋"}),d.jsx("span",{children:"Recipes"})]})]}),d.jsxs("div",{className:"global-actions",children:[d.jsx("button",{className:"btn btn-secondary",onClick:()=>c(!0),title:"Open Full Resource Management",children:"🌐 Global Resources"}),d.jsx(W,{}),d.jsx(Q,{onNotification:s}),d.jsx("button",{className:"btn btn-secondary",onClick:()=>l(!0),children:"⚙️ Settings"})]})]}),i&&d.jsx(Y,{onClose:()=>l(!1)}),o&&d.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999},onClick:()=>c(!1),children:d.jsxs("div",{className:"modal-content large",style:{background:"var(--primary-light, #1a1a1a)",border:"2px solid var(--primary-orange, #ff6b35)",borderRadius:"8px",padding:"2rem",width:"90vw",maxWidth:"1200px",maxHeight:"90vh",overflow:"auto",position:"relative"},onClick:e=>e.stopPropagation(),children:[d.jsx("button",{style:{position:"absolute",top:"10px",right:"10px",background:"transparent",border:"none",color:"var(--primary-orange, #ff6b35)",fontSize:"2rem",cursor:"pointer"},onClick:()=>c(!1),children:"×"}),d.jsx(X,{claimStakes:t,onClose:()=>c(!1)})]})}),d.jsx(J,{notifications:r,onDismiss:a})]})}function te({claimStakes:e,starbaseInventory:t,onTransfer:n,onMagicResources:r}){var s,a;const[i,l]=p.useState(null),[o,c]=p.useState(null),[u,f]=p.useState({}),[h,m]=p.useState("individual"),[g,v]=p.useState(null),[b,x]=p.useState(null),y=(e,t)=>{if(t<=0){const t={...u};delete t[e],f(t)}else f({...u,[e]:t})},j=()=>{if(!i)return{};if("starbase"===i)return t;const n=e.find(e=>e.id===i);return n&&n.resources||{}},N=e=>{if(0===e)return"0/s";const t=Math.abs(e),n=e>0?"+":"";return t<.001?`${n}${e.toFixed(4)}/s`:t<.01?`${n}${e.toFixed(3)}/s`:t<1?`${n}${e.toFixed(2)}/s`:t<100?`${n}${e.toFixed(1)}/s`:`${n}${Math.floor(e)}/s`},S=(e,t)=>0===t?"0/s":e===t?N(e):d.jsxs("span",{className:"rate-display",children:[d.jsx("span",{className:"actual-rate",children:N(e)}),d.jsxs("span",{className:"potential-rate",children:[" (",N(t),")"]})]}),w=e=>e>0?"#00c896":e<0?"#ff6b35":"#999",k=e=>e.isActive?null:d.jsxs("div",{className:"stop-indicator",onMouseEnter:()=>x(`${e.resource}_stop`),onMouseLeave:()=>x(null),children:[d.jsx("span",{className:"stop-icon",children:"⚠️"}),b===`${e.resource}_stop`&&e.stopReasons&&e.stopReasons.length>0&&d.jsxs("div",{className:"stop-tooltip",children:[d.jsx("strong",{children:"Production Stopped:"}),d.jsx("ul",{children:e.stopReasons.map((e,t)=>d.jsx("li",{children:e},t))})]})]});return d.jsxs("div",{className:"resource-manager",children:[d.jsxs("div",{className:"manager-header",children:[d.jsx("h3",{children:"Resource Management"}),d.jsxs("div",{className:"view-toggle",children:[d.jsx("button",{className:"btn-toggle "+("individual"===h?"active":""),onClick:()=>m("individual"),children:"By Claim Stake"}),d.jsx("button",{className:"btn-toggle "+("aggregate"===h?"active":""),onClick:()=>m("aggregate"),children:"Aggregate View"})]})]}),"individual"===h?d.jsx("div",{className:"claim-stakes-list",children:e.map(e=>d.jsxs("div",{className:"claim-stake-card",children:[d.jsxs("div",{className:"stake-header",onClick:()=>v(g===e.id?null:e.id),children:[d.jsx("h4",{children:e.name}),d.jsxs("div",{className:"stake-stats",children:[d.jsxs("span",{className:"storage-indicator",children:[e.currentStorage.toFixed(2),"/",e.maxStorage||1e3]}),d.jsx("span",{className:"chevron",children:g===e.id?"▼":"▶"})]})]}),g===e.id&&d.jsxs("div",{className:"stake-details",children:[d.jsxs("table",{className:"flow-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Resource"}),d.jsx("th",{children:"Extract"}),d.jsx("th",{children:"Process"}),d.jsx("th",{children:"Consume"}),d.jsx("th",{children:"Net"}),d.jsx("th",{children:"Storage"}),d.jsx("th",{children:"Status"})]})}),d.jsx("tbody",{children:e.flows.map(e=>d.jsxs("tr",{className:e.isActive?"":"inactive-flow",children:[d.jsx("td",{className:"resource-name",children:e.resource}),d.jsx("td",{className:"extraction",children:S(e.extraction,e.potentialExtraction||e.extraction)}),d.jsx("td",{className:"production",children:S(e.production,e.potentialProduction||e.production)}),d.jsx("td",{className:"consumption",children:N(-e.consumption)}),d.jsx("td",{className:"net",style:{color:w(e.net)},children:N(e.net)}),d.jsx("td",{className:"storage",children:Math.floor(e.storage)}),d.jsx("td",{className:"status",children:k(e)})]},e.resource))})]}),d.jsxs("div",{className:"stake-actions",children:[d.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>{l(e.id),c("starbase")},children:"SET AS SOURCE"}),d.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>c(e.id),children:"SET AS TARGET"}),d.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>r(e.id),title:"Add 100 fuel for testing (mainly for keeping claim stake running)",children:"ADD FUEL 🪄"})]})]})]},e.id))}):d.jsxs("div",{className:"aggregate-view",children:[d.jsxs("div",{className:"aggregate-summary",children:[d.jsx("h4",{children:"Total Production Across All Claim Stakes"}),d.jsxs("table",{className:"flow-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Resource"}),d.jsx("th",{children:"Total Extraction"}),d.jsx("th",{children:"Total Production"}),d.jsx("th",{children:"Total Consumption"}),d.jsx("th",{children:"Net Rate"}),d.jsx("th",{children:"Total Storage"}),d.jsx("th",{children:"Status"})]})}),d.jsx("tbody",{children:(()=>{const t={};return e.forEach(e=>{e.flows.forEach(e=>{t[e.resource]||(t[e.resource]={resource:e.resource,extraction:0,production:0,consumption:0,net:0,storage:0,potentialExtraction:0,potentialProduction:0,isActive:!1,stopReasons:[]}),t[e.resource].extraction+=e.extraction,t[e.resource].production+=e.production,t[e.resource].consumption+=e.consumption,t[e.resource].net+=e.net,t[e.resource].storage+=e.storage,t[e.resource].potentialExtraction+=e.potentialExtraction||0,t[e.resource].potentialProduction+=e.potentialProduction||0,e.isActive&&(t[e.resource].isActive=!0)})}),Object.values(t)})().map(e=>d.jsxs("tr",{className:e.isActive?"":"inactive-flow",children:[d.jsx("td",{className:"resource-name",children:e.resource}),d.jsx("td",{className:"extraction",children:S(e.extraction,e.potentialExtraction||e.extraction)}),d.jsx("td",{className:"production",children:S(e.production,e.potentialProduction||e.production)}),d.jsx("td",{className:"consumption",children:N(-e.consumption)}),d.jsx("td",{className:"net",style:{color:w(e.net)},children:N(e.net)}),d.jsx("td",{className:"storage",children:Math.floor(e.storage)}),d.jsx("td",{className:"status",children:!e.isActive&&d.jsx("span",{className:"stop-icon",title:"Some or all stakes stopped",children:"⚠️"})})]},e.resource))})]})]}),d.jsx("div",{className:"aggregate-actions",children:d.jsx("button",{className:"btn btn-primary",onClick:()=>m("individual"),children:"View Individual Stakes"})})]}),(i||o)&&d.jsxs("div",{className:"transfer-panel",children:[d.jsx("h4",{children:"Resource Transfer"}),d.jsxs("div",{className:"transfer-info",children:[d.jsxs("div",{children:["Source: ","starbase"===i?"Starbase":(null==(s=e.find(e=>e.id===i))?void 0:s.name)||"Not selected"]}),d.jsxs("div",{children:["Target: ","starbase"===o?"Starbase":(null==(a=e.find(e=>e.id===o))?void 0:a.name)||"Not selected"]})]}),i&&o&&d.jsxs("div",{className:"transfer-controls",children:[d.jsx("p",{className:"info-text",children:"Select resources to transfer:"}),d.jsxs("div",{className:"transfer-quick-actions",children:[d.jsx("button",{className:"btn btn-quick-action",onClick:()=>{const e=j(),t={};Object.entries(e).forEach(([e,n])=>{n>0&&(t[e]=Math.floor(n))}),f(t)},title:"Transfer all available resources",children:"Transfer All"}),d.jsx("button",{className:"btn btn-quick-action",onClick:()=>{const e=j(),t={};Object.entries(e).forEach(([e,n])=>{n>0&&"fuel"!==e&&(t[e]=Math.floor(n))}),f(t)},title:"Transfer all except fuel",children:"All Except Fuel"}),d.jsx("button",{className:"btn btn-quick-action",onClick:()=>f({}),title:"Clear all selections",children:"Clear All"})]}),d.jsx("div",{className:"resource-transfer-list",children:Object.entries(j()).map(([e,t])=>{if(t<=0)return null;const n=u[e]&&u[e]>0;return d.jsxs("div",{className:"transfer-resource-item "+(n?"selected":""),children:[d.jsx("span",{className:"resource-label",children:e}),d.jsxs("span",{className:"available-amount",children:["Available: ",Math.floor(t)]}),d.jsx("input",{type:"number",min:"0",max:t,value:u[e]||"",onChange:n=>{const r=parseInt(n.target.value)||0;y(e,Math.min(r,t))},placeholder:"0",className:"transfer-input"}),d.jsx("button",{className:"btn-transfer-max",onClick:()=>y(e,Math.floor(t)),title:"Transfer all of this resource",children:"MAX"}),n&&d.jsx("button",{className:"btn-transfer-clear",onClick:()=>y(e,0),title:"Remove from transfer",children:"✖"})]},e)}).filter(Boolean)}),Object.keys(u).length>0&&d.jsxs("div",{className:"transfer-summary",children:[d.jsx("strong",{children:"Transfer Summary:"}),d.jsx("div",{className:"summary-items",children:Object.entries(u).map(([e,t])=>t>0&&d.jsxs("div",{className:"summary-item",children:[d.jsxs("span",{className:"summary-resource",children:[e,":"]}),d.jsx("span",{className:"summary-amount",children:t}),d.jsx("button",{className:"summary-remove",onClick:()=>y(e,0),title:"Remove from transfer",children:"✖"})]},e))})]}),d.jsxs("div",{className:"transfer-actions",children:[d.jsx("button",{className:"btn btn-secondary",onClick:()=>{l(null),c(null),f({})},children:"Cancel"}),d.jsx("button",{className:"btn btn-primary",onClick:()=>{i&&o&&0!==Object.keys(u).length&&(n(i,o,u),f({}),l(null),c(null))},disabled:0===Object.keys(u).length,children:"Execute Transfer"})]})]})]})]})}function ne({show:e,from:t,to:n,resources:r,onComplete:s}){const[a,i]=p.useState("loading"),[l,o]=p.useState(0),[c,u]=p.useState(!1),[f,h]=p.useState(0),m=p.useRef(s);p.useEffect(()=>{m.current=s},[s]);const g=p.useMemo(()=>[{phase:"loading",duration:1500},{phase:"traveling",duration:2e3},{phase:"unloading",duration:1500},{phase:"complete",duration:500}],[]);if(p.useEffect(()=>{if(!e)return i("loading"),o(0),h(0),void u(!1);if(f>=g.length){const e=setTimeout(()=>{m.current(),h(0)},500);return()=>clearTimeout(e)}const t=g[f];i(t.phase),o(0);const n=100/(t.duration/50);let r=0;const s=setInterval(()=>{r=Math.min(r+n,100),o(r),r>=100&&(clearInterval(s),setTimeout(()=>{h(e=>e+1)},200))},50);return()=>{clearInterval(s)}},[e,f,g]),!e)return null;const v=e=>"starbase"===e?"🛸 Starbase":"all-stakes"===e?"🏭 All Claim Stakes":e.includes("claim")?`⛏️ ${e}`:e,b=Object.entries(r).reduce((e,[t,n])=>e+n,0);return c?d.jsxs("div",{className:"ship-transfer-minimized",children:[d.jsxs("div",{className:"minimized-content",children:[d.jsx("span",{className:"minimized-icon",children:"🚀"}),d.jsx("span",{className:"minimized-text",children:"Transfer in progress..."}),d.jsxs("span",{className:"minimized-progress",children:[Math.round(l),"%"]}),d.jsx("button",{onClick:()=>u(!1),className:"expand-btn",children:"↑"})]}),d.jsx("div",{className:"minimized-progress-bar",children:d.jsx("div",{className:"progress-fill",style:{width:`${l}%`}})})]}):d.jsx("div",{className:"ship-transfer-overlay",children:d.jsxs("div",{className:"ship-transfer-modal",children:[d.jsxs("div",{className:"ship-transfer-header",children:[d.jsx("h2",{children:"🚀 Cargo Transfer in Progress"}),d.jsxs("div",{className:"modal-controls",children:[d.jsx("button",{onClick:()=>u(!0),className:"minimize-btn",title:"Minimize",children:"_"}),d.jsx("button",{onClick:()=>{m.current(),h(0)},className:"skip-btn",title:"Skip Animation",children:"⏩"})]})]}),d.jsx("div",{className:"ship-animation-container",children:d.jsxs("div",{className:"ship-path",children:[d.jsxs("div",{className:"location-marker start",children:[d.jsx("span",{className:"location-icon",children:"starbase"===t?"🛸":"⛏️"}),d.jsx("span",{className:"location-label",children:v(t)})]}),d.jsxs("div",{className:"ship-track",children:[d.jsx("div",{className:`ship-icon ${a}`,style:{left:"loading"===a?"0%":"traveling"===a?`${l}%`:"100%"},children:"🚀"}),d.jsx("div",{className:"ship-trail",style:{width:`${"traveling"===a?l:"loading"===a?0:100}%`}})]}),d.jsxs("div",{className:"location-marker end",children:[d.jsx("span",{className:"location-icon",children:"starbase"===n?"🛸":"⛏️"}),d.jsx("span",{className:"location-label",children:v(n)})]})]})}),d.jsxs("div",{className:"transfer-phase",children:[d.jsx("div",{className:"phase-icon",children:(()=>{switch(a){case"loading":return"📦";case"traveling":default:return"🚀";case"unloading":return"📥";case"complete":return"✅"}})()}),d.jsx("div",{className:"phase-message",children:(()=>{switch(a){case"loading":return`Loading cargo at ${v(t)}...`;case"traveling":return`Ship traveling to ${v(n)}...`;case"unloading":return`Unloading cargo at ${v(n)}...`;case"complete":return"Transfer complete!";default:return"Processing..."}})()})]}),d.jsxs("div",{className:"progress-container",children:[d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-fill",style:{width:`${l}%`}})}),d.jsxs("div",{className:"progress-text",children:[Math.round(l),"%"]})]}),d.jsxs("div",{className:"cargo-manifest",children:[d.jsx("h3",{children:"📋 Cargo Manifest"}),d.jsx("div",{className:"manifest-items",children:Object.entries(r).map(([e,t])=>d.jsxs("div",{className:"manifest-item",children:[d.jsx("span",{className:"resource-name",children:e.replace(/-/g," ")}),d.jsxs("span",{className:"resource-amount",children:[t.toLocaleString()," units"]})]},e))}),d.jsxs("div",{className:"manifest-total",children:[d.jsx("strong",{children:"Total Cargo:"})," ",b.toLocaleString()," units"]})]}),d.jsxs("div",{className:"ship-info",children:[d.jsxs("div",{className:"ship-stat",children:[d.jsx("span",{className:"stat-label",children:"Ship Class:"}),d.jsx("span",{className:"stat-value",children:"Hauler MK-II"})]}),d.jsxs("div",{className:"ship-stat",children:[d.jsx("span",{className:"stat-label",children:"Cargo Capacity:"}),d.jsx("span",{className:"stat-value",children:"10,000 units"})]}),d.jsxs("div",{className:"ship-stat",children:[d.jsx("span",{className:"stat-label",children:"Fuel Usage:"}),d.jsx("span",{className:"stat-value",children:"5 fuel/transfer"})]})]})]})})}function re(){var e,t;const{gameData:n,loading:r}=A(),{state:s,dispatch:a,updateStatistic:i,unlockAchievement:l,updateAchievementProgress:o,addToInventory:c,consumeFromInventory:u}=$(),{notifications:h,showNotification:m,dismissNotification:g}=K();f.useEffect(()=>{if(n&&!r&&n.claimStakeDefinitions){n.claimStakeDefinitions.filter(e=>{var t;return null==(t=e.addedTags)?void 0:t.includes("cultivation-stake-only")}).length}},[n,r]);const[v,b]=p.useState(null),[x,y]=p.useState(1),[j,N]=p.useState({show:!1,from:"",to:"",resources:{}}),[S,w]=p.useState(()=>{const e=localStorage.getItem("claimStakeInstances");localStorage.getItem("sageC4SharedState");if(e)try{const t=JSON.parse(e);if(!Array.isArray(t))return[];if(0===t.length)return[];const r=t.map(e=>{var t;const r=((null==n?void 0:n.planets)||[]).find(t=>t.id===e.planetId);if(!r)return e;const s=[];if(null==r?void 0:r.archetype){const e=null==(t=null==n?void 0:n.planetArchetypes)?void 0:t.find(e=>e.id===r.archetype);(null==e?void 0:e.tags)&&s.push(...e.tags)}const a=[...(null==r?void 0:r.tags)||[],...s],i=((null==n?void 0:n.claimStakeDefinitions)||[]).find(t=>t.tier===e.tier&&(!(t.requiredTags&&t.requiredTags.length>0)||t.requiredTags.every(e=>a.includes(e)))),l=(null==i?void 0:i.slots)||100*e.tier;return e.maxSlots!==l?{...e,maxSlots:l}:e});return r.forEach(e=>{}),r}catch(t){return[]}return[]}),[k,C]=p.useState(null),[E,T]=p.useState(!1),[_,I]=p.useState([]),[P,R]=p.useState(!1),[O,L]=p.useState("all"),[D,M]=p.useState("all"),[F,z]=p.useState(!1),[q,B]=p.useState(""),[H,W]=p.useState("all"),[V,Q]=p.useState(!0),G=p.useRef(null);p.useEffect(()=>()=>{G.current&&(clearInterval(G.current),G.current=null)},[]);const Y=S.find(e=>e.id===k),X=e=>e.name.replace(/ T\d+$/,""),re=(null==n?void 0:n.planets)||[],se=(null==n?void 0:n.buildings)||[],ae=p.useMemo(()=>{const e=[],t=new Map;return!v||(Array.isArray(v.resources)?v.resources:Object.keys(v.resources||{})),se.forEach(n=>{const r=n.id.toLowerCase().replace(/[-_]t[1-5]$/i,"").replace(/[-_]tier[-_][1-5]$/i,"");let s=n.category;if(!s){const e=[...n.addedTags||[],...n.providedTags||[]],t=n.name.toLowerCase();n.id.toLowerCase(),s=t.includes("central hub")||t.includes("crew quarters")||e.includes("central-hub")?"infrastructure":t.includes("power plant")||t.includes("solar array")||t.includes("power")?"power":t.includes("extraction hub")||t.includes("extractor")||e.includes("extraction-hub")||e.includes("enables-extractors")?"extraction":t.includes("processing hub")||t.includes("processor")||e.includes("processing-hub")||e.includes("enables-processors")?"processing":t.includes("farm")||t.includes("cultivation hub")||e.includes("farm-hub")||e.includes("enables-farm-hub")?"farm":t.includes("storage hub")||t.includes("storage")||e.includes("storage-hub")||e.includes("enables-storage-hub")?"storage":"general"}const a={...n,category:s,upgradeFamily:n.upgradeFamily||r,crew:n.crew||n.neededCrew||0,tier:n.tier||1};e.push(a),t.has(a.upgradeFamily)||t.set(a.upgradeFamily,[]),t.get(a.upgradeFamily).push(a)}),t.forEach((t,n)=>{if(n.includes("hub")||n.includes("quarters"))return;const r=new Set(t.map(e=>e.tier||1)),s=t.find(e=>1===e.tier)||t[0];for(let a=2;a<=5;a++)if(!r.has(a)&&"infrastructure"!==s.category){let t=s.name;t=/T1|Tier 1/i.test(t)?t.replace(/T1|Tier 1/i,`T${a}`):/T\d+|Tier \d+/i.test(t)?t.replace(/T\d+|Tier \d+/i,`T${a}`):`${t} T${a}`;let r=s.id;r=/t1|tier1/i.test(r)?r.replace(/t1|tier1/i,`t${a}`):/t\d+|tier\d+/i.test(r)?r.replace(/t\d+|tier\d+/i,`t${a}`):`${r}-t${a}`;const i={...s,id:r,name:t,tier:a,category:s.category,upgradeFamily:n,slots:Math.ceil(s.slots*(1+.5*(a-1))),power:Math.floor(s.power*(1+.3*(a-1))),crew:Math.ceil((s.crew||s.neededCrew||0)*(1+.2*(a-1))),constructionCost:Object.entries(s.constructionCost||{}).reduce((e,[t,n])=>(e[t]=Math.ceil(n*Math.pow(1.5,a-1)),e),{}),...s.resourceRate&&{resourceRate:Object.entries(s.resourceRate).reduce((e,[t,n])=>(e[t]=n*(1+.5*(a-1)),e),{})},...s.extractionRate&&{extractionRate:Object.entries(s.extractionRate).reduce((e,[t,n])=>(e[t]=n*(1+.5*(a-1)),e),{})},...s.resourceExtractionRate&&{resourceExtractionRate:Object.entries(s.resourceExtractionRate).reduce((e,[t,n])=>(e[t]=n*(1+.5*(a-1)),e),{})},...s.resourceProduction&&{resourceProduction:Object.entries(s.resourceProduction).reduce((e,[t,n])=>(e[t]=n*(1+.5*(a-1)),e),{})}};e.push(i)}}),e},[se,v,re]),ie=(e,t)=>{if(!e.upgradeFamily)return e.addedTags||[];const n=t.filter(t=>t.upgradeFamily===e.upgradeFamily),r=new Set;for(let s=1;s<=e.tier;s++){const e=n.find(e=>e.tier===s);(null==e?void 0:e.addedTags)&&e.addedTags.forEach(e=>r.add(e))}return Array.from(r)},le=s.starbaseInventory;p.useEffect(()=>{if(n&&(re.length,ae.length>0)){ae.filter(e=>e.name.toLowerCase().includes("central hub")&&"infrastructure"===e.category),ae.filter(e=>e.id.toLowerCase().includes("iron-ore-extractor"))}},[n,ae]),[1,2,3,4,5].filter(e=>U(s.starbaseLevel,e));const oe=p.useRef(!0),ce=p.useRef(!0);p.useEffect(()=>(ce.current=!0,()=>{ce.current=!1}),[]),p.useEffect(()=>{if(!ce.current)return;if(oe.current)return void(oe.current=!1);if(window.isClearing)return;if(!localStorage.getItem("claimStakeInstances")&&S.length>0){localStorage.getItem("sageC4SharedState");return}localStorage.setItem("claimStakeInstances",JSON.stringify(S));const e=localStorage.getItem("claimStakeInstances");if(e){JSON.parse(e)}},[S]);const ue=p.useRef(new Set);p.useEffect(()=>(G.current&&(clearInterval(G.current),G.current=null),S.length>0&&ae&&re?(G.current=setInterval(()=>{const e=ae,t=re;w(r=>r.map(r=>{if(!r.isFinalized)return r;const a=Date.now(),c=Math.min((a-r.lastUpdate)/1e3,1),u={...r.resources};let d=0;r.buildings.forEach(t=>{const n=e.find(e=>e.id===t.buildingId);n&&(d+=n.power||0)});const p=r.maxStorage||1e3,f=Object.values(u).reduce((e,t)=>e+t,0)/p;let h=!1,g="";d<0&&(h=!0,g="Insufficient power");const v=r.buildings.some(t=>{const n=e.find(e=>e.id===t.buildingId);return(null==n?void 0:n.resourceUsage)&&n.resourceUsage.fuel>0});if(v&&(u.fuel||0)<=0&&(h=!0,g="No fuel available"),f>=1){let t=!1;r.buildings.forEach(n=>{const r=e.find(e=>e.id===n.buildingId);r&&(r.extractionRate||r.resourceProduction)&&(t=!0)}),t&&(h=!0,g="Storage full (100%)")}const b=r.buildings.map(e=>{if(!e.isActive){let t=!0;return d<0&&(t=!1),v&&(u.fuel||0)<=5&&(t=!1),f>=.9&&(t=!1),t?{...e,isActive:!0,inactiveSince:void 0}:e}return h?{...e,isActive:!1,inactiveSince:a,stopReason:g}:e});if(b.some(e=>e.isActive)){const a={};b.forEach(d=>{var p;if(!d.isActive)return;const f=e.find(e=>e.id===d.buildingId);if(!f)return;let h=!0;if(f.resourceRate){for(const[e,t]of Object.entries(f.resourceRate))if(t<0){const n=Math.abs(t)*c;if((u[e]||0)<n){h=!1,d.isActive=!1,d.stopReason=`Missing ${e}`,d.inactiveSince=Date.now();break}}h?(d.stopReason=void 0,d.inactiveSince=void 0,Object.entries(f.resourceRate).forEach(([e,t])=>{const n=t*c;u[e]=(u[e]||0)+n,a[e]||(a[e]={production:0,consumption:0}),t>0?a[e].production+=t:a[e].consumption+=Math.abs(t)})):Object.entries(f.resourceRate).forEach(([e,t])=>{a[e]||(a[e]={production:0,consumption:0}),t>0?a[e].production+=t:a[e].consumption+=Math.abs(t)})}else if(f.resourceUsage){for(const[e,t]of Object.entries(f.resourceUsage)){const n=t*c;if((u[e]||0)<n){h=!1,d.isActive=!1,d.stopReason=`Missing ${e}`,d.inactiveSince=Date.now();break}}h?(d.stopReason=void 0,d.inactiveSince=void 0,Object.entries(f.resourceUsage).forEach(([e,t])=>{const n=t*c;u[e]=(u[e]||0)-n,a[e]||(a[e]={production:0,consumption:0}),a[e].consumption+=t})):Object.entries(f.resourceUsage).forEach(([e,t])=>{a[e]||(a[e]={production:0,consumption:0}),a[e].consumption+=t})}const g=f.extractionRate||f.resourceExtractionRate;if(g&&h){const e=t.find(e=>e.id===r.planetId),d=null==(p=null==n?void 0:n.planetArchetypes)?void 0:p.find(t=>t.id===(null==e?void 0:e.archetype));Object.entries(g).forEach(([t,n])=>{var r,p,f;const h=(null==(r=null==d?void 0:d.richness)?void 0:r[t])||(null==(f=null==(p=null==e?void 0:e.resources)?void 0:p[t])?void 0:f.richness)||1,g=n*h*c;u[t]=(u[t]||0)+g,i("totalResourcesExtracted",g),!s.achievements.first_extraction&&!ue.current.has("first_extraction")&&g>0&&(ue.current.add("first_extraction"),l("first_extraction"),m("🏆 First Extraction! You've extracted your first resource!","success",5e3));const v=(s.statistics.totalResourcesExtracted||0)+g;v<1e6?o("million_units",Math.floor(v),1e6):v>=1e6&&!s.achievements.million_units&&!ue.current.has("million_units")&&(ue.current.add("million_units"),l("million_units"),m("🏆 Million Unit Club! You've produced over 1,000,000 units!","success",5e3)),a[t]||(a[t]={production:0,consumption:0}),a[t].production+=n*h})}f.resourceProduction&&h&&Object.entries(f.resourceProduction).forEach(([e,t])=>{const n=t*c;u[e]=(u[e]||0)+n,a[e]||(a[e]={production:0,consumption:0}),a[e].production+=t})})}const x=Object.values(u).reduce((e,t)=>e+t,0);if(x>p){const e=p/x;Object.keys(u).forEach(t=>{u[t]*=e})}const y=Object.entries(u).filter(([e,t])=>t>=1e4).length;return y>=5&&!s.achievements.resource_mogul&&!ue.current.has("resource_mogul")?(ue.current.add("resource_mogul"),l("resource_mogul"),m("🏆 Resource Mogul! You have 10,000+ units of 5 different resources!","success",5e3)):y>0&&y<5&&o("resource_mogul",y,5),{...r,buildings:b,resources:u,lastUpdate:a,currentStorage:Object.values(u).reduce((e,t)=>e+t,0)}}))},1e3),()=>{G.current&&(clearInterval(G.current),G.current=null)}):()=>{G.current&&(clearInterval(G.current),G.current=null)}),[S.length,ae.length,re.length]);const de=e=>{var t;let r=0,s=0,a=0,i=0,l=1e3*x;const o={},c=v||(Y?re.find(e=>e.id===Y.planetId):null);e.forEach(e=>{var t,u,d,p,f,h;const m=ae.find(t=>t.id===e.buildingId);if(!m)return;if(r+=m.slots||0,s+=m.power||0,a+=m.crewSlots||0,i+=m.neededCrew||m.crew||0,(null==(t=m.resourceStorage)?void 0:t.capacity)&&(l+=m.resourceStorage.capacity),m.storage&&(l+=m.storage),m.resourceRate)for(const[n,r]of Object.entries(m.resourceRate))o[n]||(o[n]={production:0,consumption:0}),r>0?o[n].production+=r:o[n].consumption+=Math.abs(r);if(m.resourceProduction)for(const[n,r]of Object.entries(m.resourceProduction))o[n]||(o[n]={production:0,consumption:0}),o[n].production+=r;if(m.resourceUsage)for(const[n,r]of Object.entries(m.resourceUsage))o[n]||(o[n]={production:0,consumption:0}),o[n].consumption+=r;const g=m.extractionRate||m.resourceExtractionRate;if(g&&c){const e=null==(u=null==n?void 0:n.planetArchetypes)?void 0:u.find(e=>e.id===c.archetype);for(const[t,n]of Object.entries(g)){const r=(null==(d=null==e?void 0:e.richness)?void 0:d[t])||(null==(f=null==(p=c.resources)?void 0:p[t])?void 0:f.richness)||1;(Array.isArray(c.resources)?c.resources.includes(t):void 0!==(null==(h=c.resources)?void 0:h[t]))&&(o[t]||(o[t]={production:0,consumption:0}),o[t].production+=n*r)}}});const u=(null==n?void 0:n.claimStakeDefinitions)||[],d=[];if(null==v?void 0:v.archetype){const e=null==(t=null==n?void 0:n.planetArchetypes)?void 0:t.find(e=>e.id===v.archetype);(null==e?void 0:e.tags)&&d.push(...e.tags)}const p=[...(null==v?void 0:v.tags)||[],...d],f=u.find(e=>{var t,n;if(e.tier!==x)return!1;if(e.requiredTags&&e.requiredTags.length>0&&!e.requiredTags.every(e=>p.includes(e)))return!1;const r=null==(t=e.addedTags)?void 0:t.includes("cultivation-stake-only"),s=null==(n=e.addedTags)?void 0:n.includes("standard-stake-only");return F?r:s||!r&&!s}),h=(null==f?void 0:f.slots)||100*x;let m=100;if(r>0){s<0&&(m-=30);r/h*100<50&&(m-=20);let e=!1;for(const[t,n]of Object.entries(o))if(n.production-n.consumption<0&&"fuel"!==t){e=!0;break}e&&(m-=10)}else m=0;return{totalSlots:r,maxSlots:h,totalPower:s,totalCrew:i,totalCrewSlots:a,totalCrewNeeded:i,totalStorage:l,resourceFlow:o,efficiency:Math.max(0,Math.min(100,m))}},pe=de(E?_:Y?Y.buildings:[]),fe=ae.filter(e=>{var t,r,s;if((null==(t=e.name)?void 0:t.toLowerCase().includes("processing hub"))&&e.tier,"all"!==H&&e.category!==H)return!1;if("infrastructure"===e.category&&e.tier>x)return!1;if(pe.totalSlots+e.slots>pe.maxSlots)return!1;if(e.upgradeFamily){if((E?_:(null==Y?void 0:Y.buildings)||[]).some(t=>{const n=ae.find(e=>e.id===t.buildingId);return(null==n?void 0:n.upgradeFamily)===e.upgradeFamily}))return!1;const t=ae.filter(t=>t.upgradeFamily===e.upgradeFamily),n=Math.min(...t.map(e=>e.tier));if(e.tier!==n)return!1}if(e.requiredTags&&e.requiredTags.length>0){const t=(null==v?void 0:v.tags)||[],a=[];if(null==v?void 0:v.archetype){const e=null==(r=null==n?void 0:n.planetArchetypes)?void 0:r.find(e=>e.id===v.archetype);(null==e?void 0:e.tags)&&a.push(...e.tags)}const i=[];if(Y||E){const e=(null==Y?void 0:Y.tier)||x,r=((null==n?void 0:n.claimStakeDefinitions)||[]).find(n=>{if(n.tier!==e)return!1;if(n.requiredTags&&n.requiredTags.length>0){const e=[...t,...a];return n.requiredTags.every(t=>e.includes(t))}return!0});(null==r?void 0:r.addedTags)&&i.push(...r.addedTags)}const l=new Set;(E?_:(null==Y?void 0:Y.buildings)||[]).forEach(e=>{const t=ae.find(t=>t.id===e.buildingId);if(t){ie(t,ae).forEach(e=>l.add(e))}});const o=[...t,...a,...i,...Array.from(l)];if(!e.requiredTags.every(e=>o.includes(e)))return"processing"===e.category&&(null==(s=e.name)||s.toLowerCase().includes("processing hub")),!1}if(e.requiredResources&&e.requiredResources.length>0){const t=(null==v?void 0:v.resources)||[];if(!e.requiredResources.every(e=>t.includes(e)))return!1}return!(e.comesWithStake&&_.length>0)}),he=e=>{if(0===e)return"0/s";const t=Math.abs(e),n=e>0?"+":"";return t<.001?`${n}${e.toFixed(4)}/s`:t<.01?`${n}${e.toFixed(3)}/s`:t<1?`${n}${e.toFixed(2)}/s`:t<100?`${n}${e.toFixed(1)}/s`:`${n}${Math.floor(e)}/s`},me=p.useMemo(()=>S.map(e=>{const t=re.find(t=>t.id===e.planetId),n=(e=>{const t={},n=re.find(t=>t.id===e.planetId),r=(()=>{const t=[];let n=0;e.buildings.forEach(e=>{const t=ae.find(t=>t.id===e.buildingId);t&&(n+=t.power||0)}),n<0&&t.push(`Insufficient power (${n} MW)`),e.buildings.some(e=>{const t=ae.find(t=>t.id===e.buildingId);return(null==t?void 0:t.resourceUsage)&&t.resourceUsage.fuel>0})&&(e.resources.fuel||0)<1&&t.push("No fuel available");const r=Object.values(e.resources||{}).reduce((e,t)=>e+t,0);return r>=e.maxStorage?t.push("Storage full (100%)"):r>=.95*e.maxStorage&&t.push("Storage nearly full (95%+)"),e.buildings.some(e=>!!e.inactiveSince&&Date.now()-e.inactiveSince<5e3)&&t.push("Buildings in cooldown period"),t})(),s=e.buildings.some(e=>e.isActive);e.buildings.forEach(s=>{const a=ae.find(e=>e.id===s.buildingId);if(!a)return;const i=a.extractionRate||a.resourceExtractionRate;i&&Object.entries(i).forEach(([a,i])=>{var l,o;t[a]||(t[a]={resource:a,extraction:0,potentialExtraction:0,production:0,potentialProduction:0,consumption:0,net:0,storage:e.resources[a]||0,isActive:s.isActive,stopReasons:s.isActive?[]:r});const c=i*((null==(o=null==(l=null==n?void 0:n.resources)?void 0:l[a])?void 0:o.richness)||1);t[a].potentialExtraction+=c,s.isActive&&(t[a].extraction+=c)}),a.resourceRate&&Object.entries(a.resourceRate).forEach(([n,a])=>{t[n]||(t[n]={resource:n,extraction:0,potentialExtraction:0,production:0,potentialProduction:0,consumption:0,net:0,storage:e.resources[n]||0,isActive:s.isActive,stopReasons:s.isActive?[]:r}),a>0?(t[n].potentialProduction+=a,s.isActive&&(t[n].production+=a)):t[n].consumption+=Math.abs(a)}),a.resourceProduction&&Object.entries(a.resourceProduction).forEach(([n,a])=>{t[n]||(t[n]={resource:n,extraction:0,potentialExtraction:0,production:0,potentialProduction:0,consumption:0,net:0,storage:e.resources[n]||0,isActive:s.isActive,stopReasons:s.isActive?[]:r}),t[n].potentialProduction+=a,s.isActive&&(t[n].production+=a)}),a.resourceUsage&&Object.entries(a.resourceUsage).forEach(([n,a])=>{t[n]||(t[n]={resource:n,extraction:0,potentialExtraction:0,production:0,potentialProduction:0,consumption:0,net:0,storage:e.resources[n]||0,isActive:s.isActive,stopReasons:s.isActive?[]:r}),t[n].consumption+=a})}),Object.entries(e.resources||{}).forEach(([e,n])=>{!t[e]&&n>0&&(t[e]={resource:e,extraction:0,potentialExtraction:0,production:0,potentialProduction:0,consumption:0,net:0,storage:n,isActive:s,stopReasons:s?[]:r})});const a=[];return Object.values(t).forEach(e=>{e.net=e.extraction+e.production-e.consumption,e.isActive=s,a.push(e)}),a})(e);return{id:e.id,name:`${(null==t?void 0:t.name)||"Unknown"} - T${e.tier}`,planetName:(null==t?void 0:t.name)||"Unknown",tier:e.tier,resources:e.resources||{},flows:n,totalStorage:e.currentStorage||Object.values(e.resources||{}).reduce((e,t)=>e+t,0),currentStorage:e.currentStorage||Object.values(e.resources||{}).reduce((e,t)=>e+t,0),maxStorage:e.maxStorage}}),[S]);p.useEffect(()=>{a({type:"UPDATE_CLAIM_STAKES_DATA",payload:me})},[me,a]);return r?d.jsx("div",{className:"loading-screen",children:"Loading game data..."}):d.jsxs("div",{className:"claim-stakes-app",children:["undefined"!=typeof window&&window.__STANDALONE_BUILD__?d.jsx(ee,{currentRoute:"claim-stakes",claimStakes:me}):d.jsx(Z,{claimStakes:me}),d.jsx(J,{notifications:h,onDismiss:g}),d.jsxs("div",{className:"claim-stakes-content",children:[d.jsxs("aside",{className:"sidebar",children:[d.jsx("div",{className:"sidebar-header",children:d.jsx("h2",{children:"Select Planet"})}),d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"filters",children:[d.jsxs("select",{value:O,onChange:e=>L(e.target.value),className:"filter-select",children:[d.jsx("option",{value:"all",children:"All Factions"}),d.jsx("option",{value:"MUD",children:"MUD"}),d.jsx("option",{value:"ONI",children:"ONI"}),d.jsx("option",{value:"UST",children:"UST"})]}),d.jsxs("select",{value:D,onChange:e=>M(e.target.value),className:"filter-select",children:[d.jsx("option",{value:"all",children:"All Planet Types"}),d.jsx("option",{value:"terrestrial",children:"Terrestrial"}),d.jsx("option",{value:"volcanic",children:"Volcanic"}),d.jsx("option",{value:"oceanic",children:"Oceanic"}),d.jsx("option",{value:"barren",children:"Barren"}),d.jsx("option",{value:"ice-giant",children:"Ice Giant"}),d.jsx("option",{value:"gas-giant",children:"Gas Giant"}),d.jsx("option",{value:"dark",children:"Dark"}),d.jsx("option",{value:"asteroid-belt",children:"Asteroid Belt"})]}),d.jsx("div",{className:"cultivation-filter",children:d.jsxs("label",{className:"cultivation-filter-label",children:[d.jsx("input",{type:"checkbox",checked:F,onChange:e=>{z(e.target.checked)},className:"cultivation-checkbox"}),d.jsx("span",{className:"checkmark",children:"🌱"}),d.jsx("span",{className:"filter-text",children:"Cultivation Stakes Only"})]})}),d.jsx("input",{type:"text",placeholder:"Search planets...",value:q,onChange:e=>B(e.target.value),className:"search-input"})]}),d.jsx("div",{className:"planet-list",children:re.filter(e=>{var t,r,s;const a="all"===O||e.faction===O;let i=!0;if("all"!==D){const s=null==(t=null==n?void 0:n.planetArchetypes)?void 0:t.find(t=>t.id===e.archetype),a=(null==(r=null==s?void 0:s.name)?void 0:r.toLowerCase().replace(" planet","").replace("system ",""))||"",l=D.toLowerCase().replace("-"," ");i=a.includes(l)}let l=!0;if(F){const t=(null==n?void 0:n.claimStakeDefinitions)||[],r=[];if(null==e?void 0:e.archetype){const t=null==(s=null==n?void 0:n.planetArchetypes)?void 0:s.find(t=>t.id===e.archetype);(null==t?void 0:t.tags)&&r.push(...t.tags)}const a=[...(null==e?void 0:e.tags)||[],...r];l=t.some(e=>{var t;const n=!e.requiredTags||0===e.requiredTags.length||e.requiredTags.every(e=>a.includes(e)),r=null==(t=e.addedTags)?void 0:t.includes("cultivation-stake-only");return n&&r})}const o=e.name.toLowerCase().includes(q.toLowerCase()),c=!S.some(t=>t.planetId===e.id);return a&&i&&l&&o&&c}).map(e=>{var t;const r=(null==n?void 0:n.claimStakeDefinitions)||[],a=[];if(null==e?void 0:e.archetype){const r=null==(t=null==n?void 0:n.planetArchetypes)?void 0:t.find(t=>t.id===e.archetype);(null==r?void 0:r.tags)&&a.push(...r.tags)}const i=[...(null==e?void 0:e.tags)||[],...a],l=r.some(e=>{var t;const n=!e.requiredTags||0===e.requiredTags.length||e.requiredTags.every(e=>i.includes(e)),r=null==(t=e.addedTags)?void 0:t.includes("cultivation-stake-only");return n&&r});return d.jsxs("div",{className:`planet-card ${(null==v?void 0:v.id)===e.id?"selected":""} ${l?"has-cultivation-stakes":""}`,onClick:()=>{b(e),C(null);const t=[1,2,3,4,5].filter(e=>U(s.starbaseLevel,e));t.length>0&&!t.includes(x)&&y(t[0])},children:[d.jsxs("div",{className:"planet-icon-container",children:[d.jsx("div",{className:"planet-icon",children:"🌍"}),l&&d.jsx("div",{className:"cultivation-planet-indicator",children:"🌱"})]}),d.jsxs("div",{className:"planet-info",children:[d.jsxs("h4",{children:[e.name,l&&d.jsx("span",{className:"cultivation-available-label",children:"Cultivation Available"})]}),d.jsxs("div",{className:"planet-stats",children:[d.jsx("span",{className:`faction-badge faction-${e.faction.toLowerCase()}`,children:e.faction}),d.jsxs("span",{className:"rent-cost",children:["💰 ",e.rentCost,"/day"]})]}),d.jsxs("div",{className:"resource-badges",children:[(Array.isArray(e.resources)?e.resources:Object.keys(e.resources||{})).slice(0,3).map(e=>{var t,r,s;return d.jsx("span",{className:"resource-badge",children:(null==(s=null==(r=null==(t=null==n?void 0:n.resources)?void 0:t.find)?void 0:r.call(t,t=>t.id===e))?void 0:s.name)||e},e)}),e.resources&&(Array.isArray(e.resources)?e.resources.length:Object.keys(e.resources).length)>3&&d.jsxs("span",{className:"resource-badge",children:["+",(Array.isArray(e.resources)?e.resources.length:Object.keys(e.resources).length)-3]})]})]})]},e.id)})}),S.length>0&&d.jsxs("div",{className:"instances-section",children:[d.jsxs("h3",{children:["Your Claim Stakes (",S.length,")"]}),d.jsx("div",{className:"instances-list",children:S.map(e=>{const t=re.find(t=>t.id===e.planetId),n=de(e.buildings);return d.jsxs("div",{className:"instance-card "+(k===e.id?"active":""),onClick:()=>{C(e.id),T(!1)},children:[d.jsxs("h5",{children:[null==t?void 0:t.name," - T",e.tier]}),d.jsxs("div",{className:"instance-stats",children:[d.jsxs("span",{children:["⚡ ",n.totalPower]}),d.jsxs("span",{children:["👥 ",n.totalCrew]}),d.jsx("span",{className:e.isFinalized?"status-active":"status-design",children:e.isFinalized?"🟢 Active":"🟡 Design"})]})]},e.id)})})]})]})]}),d.jsx("main",{className:"main-content",children:Y?d.jsxs("div",{className:"claim-stake-manager",children:[d.jsxs("div",{className:"manager-header",children:[d.jsxs("h2",{children:[null==(e=re.find(e=>e.id===Y.planetId))?void 0:e.name," - Tier ",Y.tier," Claim Stake"]}),d.jsx("div",{className:"header-actions",children:E?d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"btn btn-secondary",onClick:()=>T(!1),children:"Cancel"}),d.jsx("button",{className:"btn btn-primary",onClick:()=>{var e;if(!Y)return;const t=new Set(Y.buildings.map(e=>e.id)),r=_.filter(e=>!t.has(e.id)),a={};if(0===Y.buildings.length){const e=((null==n?void 0:n.claimStakeDefinitions)||[]).find(e=>e.id===Y.stakeDefinitionId),t=null==e?void 0:e.defaultBuilding;_.forEach(e=>{const n=ae.find(t=>t.id===e.buildingId),r=(null==n?void 0:n.id)===t;n&&!n.comesWithStake&&!r&&n.constructionCost?Object.entries(n.constructionCost||{}).forEach(([e,t])=>{a[e]=(a[e]||0)+t}):n&&n.comesWithStake})}else r.forEach(e=>{const t=ae.find(t=>t.id===e.buildingId);(null==t?void 0:t.constructionCost)&&Object.entries(t.constructionCost).forEach(([e,t])=>{a[e]=(a[e]||0)+t})});if(Object.keys(a).length>0){if(!u(a))return void m("Insufficient materials in starbase inventory!","error")}w(e=>e.map(e=>{if(e.id===Y.id){const t=de(_),n={...e,isFinalized:!0,maxStorage:t.totalStorage,buildings:_.map(t=>{const n=e.buildings.find(e=>e.id===t.id);return n||{...t,constructionStarted:Date.now(),constructionComplete:Date.now()+1e3,isActive:!0}})};return n.resources.fuel||(n.resources.fuel=10),n}return e})),T(!1),I([]),Y.buildings.length>=5&&!(null==(e=s.achievements)?void 0:e.efficient_builder)&&!ue.current.has("efficient_builder")?(ue.current.add("efficient_builder"),l("efficient_builder"),m("🏆 Efficient Builder! You've placed 5+ buildings in a single claim stake!","success",5e3)):Y.buildings.length>0&&o("efficient_builder",Y.buildings.length,5)},disabled:0===_.length||(()=>{if(de(_).totalPower<0)return!0;const e=new Set(Y.buildings.map(e=>e.id)),t=_.filter(t=>!e.has(t.id)),n={};t.forEach(e=>{const t=ae.find(t=>t.id===e.buildingId);(null==t?void 0:t.constructionCost)&&Object.entries(t.constructionCost).forEach(([e,t])=>{n[e]=(n[e]||0)+t})});for(const[r,s]of Object.entries(n)){if((le[r]||0)<s)return!0}return!1})(),title:0===_.length?"Add buildings to design":(()=>{const e=de(_);if(e.totalPower<0)return`Insufficient power! Need ${Math.abs(e.totalPower)} more MW`;const t=new Set(Y.buildings.map(e=>e.id)),n=_.filter(e=>!t.has(e.id));if(0===n.length&&_.length!==Y.buildings.length)return"Update construction (no new buildings)";const r={};n.forEach(e=>{const t=ae.find(t=>t.id===e.buildingId);(null==t?void 0:t.constructionCost)&&Object.entries(t.constructionCost).forEach(([e,t])=>{r[e]=(r[e]||0)+t})});for(const[s,a]of Object.entries(r)){const e=le[s]||0;if(e<a){return`Need ${a-e} more ${s.replace(/-/g," ")}`}}return n.length>0?`Finalize and add ${n.length} new building${n.length>1?"s":""}`:"Finalize and start construction"})(),children:"Finalize Design"})]}):d.jsx("button",{className:"btn btn-secondary",onClick:()=>{T(!0),I([...Y.buildings])},children:"Continue Construction"})})]}),d.jsxs("div",{className:"building-management",children:[d.jsxs("div",{className:"buildings-section",children:[d.jsx("h3",{children:"Buildings"}),d.jsx("div",{className:"current-buildings",children:(E?_:Y.buildings).map(e=>{const t=ae.find(t=>t.id===e.buildingId);if(!t)return null;const r=(()=>{if(!t.upgradeFamily)return null;const e=ae.find(e=>e.upgradeFamily===t.upgradeFamily&&e.tier===t.tier+1);if(!e)return null;const n={};return Object.entries(e.constructionCost||{}).forEach(([e,r])=>{var s;const a=r-((null==(s=t.constructionCost)?void 0:s[e])||0);a>0&&(n[e]=a)}),{nextTier:e,upgradeCost:n,slotIncrease:e.slots-t.slots,powerChange:e.power-t.power,crewSlotsIncrease:(e.crewSlots||0)-(t.crewSlots||0),crewNeededIncrease:(e.neededCrew||e.crew||0)-(t.neededCrew||t.crew||0)}})();return"infrastructure"===t.category&&t.name.toLowerCase().includes("central hub"),d.jsxs("div",{className:`placed-building-card ${e.isActive?"":"inactive"} tier-${t.tier}`,children:[d.jsxs("div",{className:"building-header",children:[d.jsx("span",{className:"building-icon",children:"extraction"===t.category?"⛏️":"processing"===t.category?"🏭":"power"===t.category?"⚡":"storage"===t.category?"📦":"farm"===t.category?"🌾":"infrastructure"===t.category?"🏛️":"🏗️"}),d.jsxs("div",{children:[d.jsxs("h4",{children:[X(t)," T",t.tier]}),d.jsx("span",{className:"building-description",children:t.description})]}),E&&d.jsx("button",{className:"remove-button",onClick:()=>{return t=e.id,void I(_.filter(e=>e.id!==t));var t},title:"Remove building",children:"✕"})]}),d.jsxs("div",{className:"building-stats",children:[d.jsxs("span",{title:"Slots used",children:["📦 ",t.slots]}),d.jsxs("span",{title:"Power",className:t.power>0?"positive":"negative",children:["⚡ ",t.power>0?"+":"",t.power]}),t.crewSlots&&t.crewSlots>0?d.jsxs("span",{title:"Crew slots provided",children:["👥 +",t.crewSlots," slots"]}):d.jsxs("span",{title:"Crew required",children:["👥 ",t.neededCrew||t.crew||0]})]}),(t.extractionRate||t.resourceProduction||t.resourceUsage)&&d.jsxs("div",{className:"resource-info",children:[t.extractionRate&&d.jsxs("div",{className:"extraction-info",children:[d.jsx("strong",{children:"Extracts:"}),Object.entries(t.extractionRate).map(([e,t])=>{var r,s,a,i;const l=re.find(e=>e.id===(null==Y?void 0:Y.planetId)),o=null==(r=null==n?void 0:n.planetArchetypes)?void 0:r.find(e=>e.id===(null==l?void 0:l.archetype)),c=(null==(s=null==o?void 0:o.richness)?void 0:s[e])||(null==(i=null==(a=null==l?void 0:l.resources)?void 0:a[e])?void 0:i.richness)||1,u=t*c;return d.jsxs("span",{className:"resource-rate",children:[e,": ",u.toFixed(1),"/s",1!==c&&d.jsxs("span",{className:"richness-info",title:`Base: ${t.toFixed(1)}/s × ${c.toFixed(1)}x richness`,children:[" ","(×",c.toFixed(1),")"]})]},e)})]}),t.resourceUsage&&d.jsxs("div",{className:"consumption-info",children:[d.jsx("strong",{children:"Consumes:"}),Object.entries(t.resourceUsage).map(([e,t])=>d.jsxs("span",{className:"resource-rate negative",children:[e,": -",t,"/s"]},e))]}),t.resourceProduction&&d.jsxs("div",{className:"production-info",children:[d.jsx("strong",{children:"Produces:"}),Object.entries(t.resourceProduction).map(([e,t])=>d.jsxs("span",{className:"resource-rate positive",children:[e,": +",t,"/s"]},e))]})]}),E&&d.jsxs("div",{className:"construction-cost",children:[d.jsx("strong",{children:"Cost:"}),(()=>{const e=((null==n?void 0:n.claimStakeDefinitions)||[]).find(e=>e.id===(null==Y?void 0:Y.stakeDefinitionId)),r=null==e?void 0:e.defaultBuilding,s=t.id===r;return t.comesWithStake||s?d.jsx("span",{className:"cost-item free",children:"FREE (comes with stake)"}):t.constructionCost&&0!==Object.keys(t.constructionCost).length?Object.entries(t.constructionCost).map(([e,t])=>d.jsxs("span",{className:"cost-item",children:[e,": ",t]},e)):d.jsx("span",{className:"cost-item free",children:"FREE"})})()]}),E&&(()=>{if(!t.upgradeFamily)return!1;if("infrastructure"===t.category)return t.tier<x;if(t.tier>=5)return!1;const e=ae.find(e=>e.upgradeFamily===t.upgradeFamily&&e.tier===t.tier+1);return!!e&&(e.slots,t.slots,null==Y||Y.maxSlots,!0)})()&&r&&d.jsxs("div",{className:"upgrade-section",children:[d.jsxs("button",{className:"btn btn-sm btn-upgrade",onClick:()=>{const t={...e,buildingId:r.nextTier.id};E?I(n=>n.map(n=>n.id===e.id?t:n)):w(n=>n.map(n=>n.id===k?{...n,buildings:n.buildings.map(n=>n.id===e.id?t:n)}:n))},title:`Upgrade to T${t.tier+1}`,children:["⬆️ Upgrade to T",t.tier+1]}),d.jsxs("div",{className:"upgrade-info",children:[d.jsxs("div",{className:"upgrade-changes",children:[d.jsxs("span",{children:["+",r.slotIncrease," slots"]}),d.jsxs("span",{children:[r.powerChange>0?"+":"",r.powerChange," power"]}),0!==r.crewSlotsIncrease&&d.jsxs("span",{children:[r.crewSlotsIncrease>0?"+":"",r.crewSlotsIncrease," crew slots"]}),0!==r.crewNeededIncrease&&d.jsxs("span",{children:[r.crewNeededIncrease>0?"+":"",r.crewNeededIncrease," crew needed"]})]}),d.jsxs("div",{className:"upgrade-cost",children:[d.jsx("strong",{children:"Upgrade cost:"}),Object.entries(r.upgradeCost).map(([e,t])=>d.jsxs("span",{children:[e,": ",t]},e))]})]})]}),!E&&!e.isActive&&d.jsxs("div",{className:"inactive-indicator",title:e.stopReason?e.stopReason:((null==Y?void 0:Y.resources.fuel)||0)<=0?"Central hub needs fuel to operate":pe.totalPower<0?"Power deficit - add generators":"Building stopped",children:[d.jsx("span",{className:"status-dot status-inactive"}),d.jsx("span",{className:"status-text",children:e.stopReason?e.stopReason:((null==Y?void 0:Y.resources.fuel)||0)<=0?"No Fuel":pe.totalPower<0?"No Power":"Stopped"})]})]},e.id)})}),E&&d.jsxs("div",{className:"available-buildings",children:[d.jsx("h4",{children:"Available Buildings"}),d.jsxs("div",{className:"available-tags-compact",children:[d.jsxs("div",{className:"tags-header",onClick:()=>Q(!V),children:[d.jsx("span",{className:"tags-label",children:"Tags:"}),d.jsx("button",{className:"collapse-toggle",children:V?"▶":"▼"})]}),!V&&d.jsxs("div",{className:"tag-list-inline",children:[null==(t=null==v?void 0:v.tags)?void 0:t.map(e=>d.jsx("span",{className:"tag-compact planet-tag",title:"From planet",children:e},e)),(()=>{var e,t;if(null==v?void 0:v.archetype){const r=null==(e=null==n?void 0:n.planetArchetypes)?void 0:e.find(e=>e.id===v.archetype);return null==(t=null==r?void 0:r.tags)?void 0:t.map(e=>d.jsx("span",{className:"tag-compact archetype-tag",title:"From archetype",children:e},`archetype-${e}`))}return null})(),(()=>{var e;const t=(null==n?void 0:n.claimStakeDefinitions)||[];let r;if((null==Y?void 0:Y.stakeDefinitionId)&&(r=t.find(e=>e.id===Y.stakeDefinitionId)),!r){const e=(null==Y?void 0:Y.tier)||x,s=[...(null==v?void 0:v.tags)||[],...(()=>{var e;const t=null==(e=null==n?void 0:n.planetArchetypes)?void 0:e.find(e=>e.id===(null==v?void 0:v.archetype));return(null==t?void 0:t.tags)||[]})()];r=t.find(t=>{var n,r;if(t.tier!==e)return!1;if(t.requiredTags&&t.requiredTags.length>0&&!t.requiredTags.every(e=>s.includes(e)))return!1;const a=null==(n=t.addedTags)?void 0:n.includes("cultivation-stake-only"),i=null==(r=t.addedTags)?void 0:r.includes("standard-stake-only");return F?a:i||!a&&!i})}return null==(e=null==r?void 0:r.addedTags)?void 0:e.map(e=>d.jsx("span",{className:"tag-compact stake-tag",title:"From claim stake",children:e},`stake-${e}`))})(),(()=>{const e=new Set;return _.forEach(t=>{const n=ae.find(e=>e.id===t.buildingId);if(n){ie(n,ae).forEach(t=>e.add(t))}}),Array.from(e).map(e=>d.jsx("span",{className:"tag-compact building-tag",title:"From buildings",children:e},e))})(),d.jsx("span",{className:"inline-tip",children:"💡 Build hubs to unlock modules"})]})]}),d.jsxs("div",{className:"building-categories",children:[d.jsx("button",{className:"category-btn "+("all"===H?"active":""),onClick:()=>W("all"),children:"All"}),d.jsx("button",{className:"category-btn "+("infrastructure"===H?"active":""),onClick:()=>W("infrastructure"),children:"🏛️ Infrastructure"}),d.jsx("button",{className:"category-btn "+("extraction"===H?"active":""),onClick:()=>W("extraction"),children:"⛏️ Extraction"}),d.jsx("button",{className:"category-btn "+("processing"===H?"active":""),onClick:()=>W("processing"),children:"🏭 Processing"}),d.jsx("button",{className:"category-btn "+("power"===H?"active":""),onClick:()=>W("power"),children:"⚡ Power"}),d.jsx("button",{className:"category-btn "+("storage"===H?"active":""),onClick:()=>W("storage"),children:"📦 Storage"}),d.jsx("button",{className:"category-btn "+("farm"===H?"active":""),onClick:()=>W("farm"),children:"🌾 Farm"})]}),d.jsx("div",{className:"building-grid",children:0===fe.length?d.jsx("div",{className:"no-buildings",children:"No buildings available in this category"}):fe.map(e=>d.jsxs("div",{className:`building-card available tier-${e.tier}`,onClick:()=>(e=>{if(!Y||!E)return;const t=ae.find(t=>t.id===e);if(!t)return;const n=_.reduce((e,t)=>{const n=ae.find(e=>e.id===t.buildingId);return e+((null==n?void 0:n.slots)||0)},0);if(n+t.slots>Y.maxSlots)return void alert(`Not enough slots available! Current: ${n}, Building needs: ${t.slots}, Max: ${Y.maxSlots}`);const r={id:`${e}_${Date.now()}`,buildingId:e,isActive:!1};I(e=>[...e,r])})(e.id),children:[d.jsxs("div",{className:"building-header",children:[d.jsx("div",{className:"building-icon",children:"extraction"===e.category?"⛏️":"processing"===e.category?"🏭":"power"===e.category?"⚡":"storage"===e.category?"📦":"farm"===e.category?"🌾":"infrastructure"===e.category?"🏛️":"🏗️"}),d.jsxs("h5",{children:[X(e)," T",e.tier]})]}),d.jsxs("div",{className:"building-requirements",children:[d.jsxs("span",{title:"Slots",children:["📦 ",e.slots]}),d.jsxs("span",{title:"Power",className:e.power>0?"positive":"negative",children:["⚡ ",e.power>0?"+":"",e.power]}),d.jsxs("span",{title:"Crew",children:["👥 ",e.crew||e.neededCrew||0]})]}),(e.extractionRate||e.resourceProduction)&&d.jsxs("div",{className:"production-preview",children:[e.extractionRate&&d.jsxs("div",{className:"mini-info",children:[d.jsx("strong",{children:"Extracts:"}),Object.entries(e.extractionRate).slice(0,2).map(([e,t])=>d.jsxs("span",{children:[e,": ",t,"/s"]},e)),Object.keys(e.extractionRate).length>2&&d.jsx("span",{children:"..."})]}),e.resourceProduction&&d.jsxs("div",{className:"mini-info",children:[d.jsx("strong",{children:"Produces:"}),Object.entries(e.resourceProduction).map(([e,t])=>d.jsxs("span",{children:[e,": ",t,"/s"]},e))]})]}),e.constructionCost&&Object.keys(e.constructionCost).length>0&&d.jsxs("div",{className:"construction-cost-preview",children:[d.jsx("strong",{children:"Cost:"}),d.jsxs("div",{className:"cost-items-row",children:[Object.entries(e.constructionCost).slice(0,3).map(([e,t])=>d.jsxs("span",{className:"cost-item",children:[e.replace(/-/g," "),": ",t.toLocaleString()]},e)),Object.keys(e.constructionCost).length>3&&d.jsxs("span",{className:"cost-item more",children:["+",Object.keys(e.constructionCost).length-3," more"]})]})]}),e.description&&d.jsx("div",{className:"building-description-mini",children:e.description})]},e.id))})]})]}),Y.isFinalized&&d.jsxs("div",{className:"resource-storage",children:[d.jsx("h3",{children:"Resource Storage"}),d.jsx("div",{className:"claim-stakes-resource-grid",children:Object.entries(Y.resources).map(([e,t])=>{const n=e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return d.jsxs("div",{className:"resource-item",children:[d.jsx("span",{className:"resource-name",children:n}),d.jsx("span",{className:"resource-amount",children:t<.001?t.toFixed(4):t<.01?t.toFixed(3):t<1?t.toFixed(2):t<100?t.toFixed(1):Math.floor(t).toString()})]},e)})}),d.jsx("button",{className:"btn btn-secondary",onClick:()=>{var e;k&&(e=k,w(t=>t.map(t=>{var r;if(t.id===e){const e={...t.resources};return((null==(r=null==n?void 0:n.resources)?void 0:r.filter(e=>"raw"===e.category))||[]).forEach(t=>{e[t.id]=(e[t.id]||0)+100}),m("✨ Raw materials added to claim stake!","success"),{...t,resources:e,currentStorage:Object.values(e).reduce((e,t)=>e+t,0)}}return t})))},children:"🪄 Add Raw Materials"})]})]})]}):v?d.jsxs("div",{className:"planet-purchase-container",children:[d.jsxs("div",{className:"planet-purchase-header",children:[d.jsxs("div",{className:"planet-visual",children:[d.jsxs("div",{className:"planet-sphere",children:[d.jsx("div",{className:"planet-surface","data-type":(()=>{var e,t;const n=(null==(e=v.archetype)?void 0:e.toLowerCase())||(null==(t=v.type)?void 0:t.toLowerCase())||"terrestrial";return n.includes("oceanic")?"oceanic":n.includes("volcanic")?"volcanic":n.includes("terrestrial")?"terrestrial":n.includes("barren")?"barren":n.includes("dark")?"dark":n.includes("ice")?"ice":n.includes("gas")?"gas":n.includes("asteroid")?"asteroid-belt":"terrestrial"})()}),d.jsx("div",{className:"planet-atmosphere"})]}),d.jsx("div",{className:"planet-glow"})]}),d.jsxs("div",{className:"planet-title-section",children:[d.jsx("h1",{className:"planet-name",children:v.name||"Unknown Planet"}),d.jsxs("div",{className:"planet-subtitle",children:[d.jsx("span",{className:`faction-indicator faction-${(v.faction||"neutral").toLowerCase()}`,children:v.faction||"Neutral"}),d.jsx("span",{className:"separator",children:"•"}),d.jsx("span",{className:"planet-type",children:(()=>{var e;const t=null==(e=null==n?void 0:n.planetArchetypes)?void 0:e.find(e=>e.id===v.archetype);return((null==t?void 0:t.name)||v.type||"Unknown").replace(" Planet","").replace("System ","")})()})]})]})]}),d.jsxs("div",{className:"purchase-content",children:[d.jsxs("div",{className:"info-section",children:[d.jsxs("div",{className:"info-card planet-details",children:[d.jsxs("div",{className:"card-header",children:[d.jsx("i",{className:"icon-planet",children:"🌍"}),d.jsx("h3",{children:"Planet Information"})]}),d.jsxs("div",{className:"card-content",children:[d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"detail-label",children:"Faction Control"}),d.jsx("span",{className:`detail-value faction-${(v.faction||"neutral").toLowerCase()}`,children:v.faction||"Neutral"})]}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"detail-label",children:"Environment Type"}),d.jsx("span",{className:"detail-value",children:(()=>{var e;const t=null==(e=null==n?void 0:n.planetArchetypes)?void 0:e.find(e=>e.id===v.archetype);return((null==t?void 0:t.name)||v.type||"Unknown").replace(" Planet","").replace("System ","")})()})]}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"detail-label",children:"Daily Rent"}),d.jsxs("span",{className:"detail-value rent-cost",children:[d.jsx("span",{className:"atlas-icon",children:"💎"}),(()=>{var e,t,r,a,i;const l=null==(e=null==n?void 0:n.planetArchetypes)?void 0:e.find(e=>e.id===v.archetype);return(null==(a=null==(r=null==(t=null==l?void 0:l.rent)?void 0:t[s.starbaseLevel])?void 0:r[x])?void 0:a.toFixed(2))||(null==(i=v.rentCost)?void 0:i.toFixed(2))||"0.5"})()," ATLAS"]})]}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"detail-label",children:"Starbase Level"}),d.jsxs("span",{className:"detail-value tier-indicator",children:["Level ",s.starbaseLevel]})]})]})]}),d.jsxs("div",{className:"info-card resource-details",children:[d.jsxs("div",{className:"card-header",children:[d.jsx("i",{className:"icon-resources",children:"⛏️"}),d.jsx("h3",{children:"Natural Resources"})]}),d.jsxs("div",{className:"card-content",children:[d.jsx("div",{className:"resources-vertical-list",children:(()=>{var e,t;const r=null==(e=null==n?void 0:n.planetArchetypes)?void 0:e.find(e=>e.id===v.archetype);if(!(null==r?void 0:r.richness))return d.jsx("p",{className:"no-resources",children:"No archetype data available"});const s=((null==(t=null==n?void 0:n.resources)?void 0:t.filter(e=>"raw"===e.category))||[]).filter(e=>{if(!r.richness[e.id])return!1;const t=e.tier||1;return t<=2||(3===t&&x>=3||(4===t&&x>=4||5===t&&x>=5))});return 0===s.length?d.jsxs("p",{className:"no-resources",children:["No raw resources available at Tier ",x]}):(s.sort((e,t)=>e.tier!==t.tier?(e.tier||1)-(t.tier||1):e.name.localeCompare(t.name)),s.map(e=>{const t=r.richness[e.id]||1,n=e.id.includes("ore")?"ore":e.id.includes("crystal")||e.id.includes("crystals")?"crystal":e.tier>=4?"rare":"common";return d.jsxs("div",{className:`resource-list-item ${n} tier-${e.tier}`,children:[d.jsx("div",{className:"resource-icon",children:"ore"===n?"🪨":"crystal"===n?"💎":"rare"===n?"💠":"📦"}),d.jsxs("span",{className:"resource-name",children:[e.name,d.jsxs("span",{className:"resource-richness",children:["(",t.toFixed(2),"x)"]}),e.tier>=3&&d.jsxs("span",{className:"resource-tier-badge",children:["T",e.tier]})]})]},e.id)}))})()}),d.jsx("div",{className:"resource-summary",children:d.jsx("p",{className:"summary-text",children:(()=>{var e,t;const r=null==(e=null==n?void 0:n.planetArchetypes)?void 0:e.find(e=>e.id===v.archetype);return`${((null==(t=null==n?void 0:n.resources)?void 0:t.filter(e=>"raw"===e.category))||[]).filter(e=>{var t;if(!(null==(t=null==r?void 0:r.richness)?void 0:t[e.id]))return!1;const n=e.tier||1;return n<=2||(3===n&&x>=3||(4===n&&x>=4||5===n&&x>=5))}).length} resources available at Tier ${x}`})()})})]})]})]}),d.jsxs("div",{className:"tier-selection",children:[d.jsx("h3",{children:"Select Claim Stake Tier"}),d.jsxs("p",{className:"tier-subtitle",children:["Available tiers based on your Starbase Level ",s.starbaseLevel]}),d.jsx("div",{className:"tier-options",children:[1,2,3,4,5].map(e=>{var t,r;const a=U(s.starbaseLevel,e),i=(null==n?void 0:n.claimStakeDefinitions)||[],l=[];if(null==v?void 0:v.archetype){const e=null==(t=null==n?void 0:n.planetArchetypes)?void 0:t.find(e=>e.id===v.archetype);(null==e?void 0:e.tags)&&l.push(...e.tags)}const o=[...(null==v?void 0:v.tags)||[],...l],c=i.find(t=>t.tier===e&&(!(t.requiredTags&&t.requiredTags.length>0)||t.requiredTags.every(e=>o.includes(e))));null==(r=null==c?void 0:c.addedTags)||r.includes("cultivation-stake-only");const u=(()=>{var t;const r=(null==n?void 0:n.claimStakeDefinitions)||[],s=[];if(null==v?void 0:v.archetype){const e=null==(t=null==n?void 0:n.planetArchetypes)?void 0:t.find(e=>e.id===v.archetype);(null==e?void 0:e.tags)&&s.push(...e.tags)}const a=[...(null==v?void 0:v.tags)||[],...s];return!!r.find(t=>{var n;const r=t.tier===e,s=!t.requiredTags||0===t.requiredTags.length||t.requiredTags.every(e=>a.includes(e)),i=null==(n=t.addedTags)?void 0:n.includes("cultivation-stake-only");return r&&s&&i})})();return d.jsxs("button",{className:`tier-option ${x===e?"selected":""} ${a?"":"locked"} ${u?"cultivation-stake":""}`,onClick:()=>a&&y(e),disabled:!a,title:a?u?"Cultivation Claim Stake - Specialized for organic production":"":"Requires higher Starbase Level",children:[d.jsxs("div",{className:"tier-number",children:["T",e,u&&d.jsx("span",{className:"cultivation-indicator",children:"🌱"})]}),d.jsxs("div",{className:"tier-info",children:[d.jsxs("span",{className:"slots",children:[(()=>{var t;const r=(null==n?void 0:n.claimStakeDefinitions)||[],s=[];if(null==v?void 0:v.archetype){const e=null==(t=null==n?void 0:n.planetArchetypes)?void 0:t.find(e=>e.id===v.archetype);(null==e?void 0:e.tags)&&s.push(...e.tags)}const a=[...(null==v?void 0:v.tags)||[],...s],i=r.find(t=>{var n,r;if(t.tier!==e)return!1;if(t.requiredTags&&t.requiredTags.length>0&&!t.requiredTags.every(e=>a.includes(e)))return!1;const s=null==(n=t.addedTags)?void 0:n.includes("cultivation-stake-only"),i=null==(r=t.addedTags)?void 0:r.includes("standard-stake-only");return F?s:i||!s&&!i});return(null==i?void 0:i.slots)||100*e})()," slots"]}),d.jsxs("span",{className:"storage",children:[1e3*e," storage"]}),u&&d.jsx("span",{className:"cultivation-label",children:"Cultivation"})]}),!a&&d.jsx("div",{className:"lock-overlay",children:"🔒"})]},e)})})]}),d.jsxs("div",{className:"purchase-action",children:[d.jsxs("div",{className:"purchase-summary",children:[d.jsxs("div",{className:"summary-row",children:[d.jsx("span",{children:"Claim Stake Tier"}),d.jsxs("strong",{children:["Tier ",x,(()=>{var e,t;const r=(null==n?void 0:n.claimStakeDefinitions)||[],s=[];if(null==v?void 0:v.archetype){const t=null==(e=null==n?void 0:n.planetArchetypes)?void 0:e.find(e=>e.id===v.archetype);(null==t?void 0:t.tags)&&s.push(...t.tags)}const a=[...(null==v?void 0:v.tags)||[],...s],i=r.find(e=>e.tier===x&&(!(e.requiredTags&&e.requiredTags.length>0)||e.requiredTags.every(e=>a.includes(e))));return(null==(t=null==i?void 0:i.addedTags)?void 0:t.includes("cultivation-stake-only"))?" 🌱 Cultivation":""})()]})]}),d.jsxs("div",{className:"summary-row",children:[d.jsx("span",{children:"Building Slots"}),d.jsxs("strong",{children:[(()=>{var e;const t=(null==n?void 0:n.claimStakeDefinitions)||[],r=[];if(null==v?void 0:v.archetype){const t=null==(e=null==n?void 0:n.planetArchetypes)?void 0:e.find(e=>e.id===v.archetype);(null==t?void 0:t.tags)&&r.push(...t.tags)}const s=[...(null==v?void 0:v.tags)||[],...r],a=t.find(e=>e.tier===x&&(!(e.requiredTags&&e.requiredTags.length>0)||e.requiredTags.every(e=>s.includes(e))));return(null==a?void 0:a.slots)||100*x})()," slots"]})]}),d.jsxs("div",{className:"summary-row",children:[d.jsx("span",{children:"Storage Capacity"}),d.jsxs("strong",{children:[1e3*x," units"]})]}),d.jsxs("div",{className:"summary-row total",children:[d.jsx("span",{children:"Daily Rent"}),d.jsxs("strong",{className:"rent-cost",children:[d.jsx("span",{className:"atlas-icon",children:"💎"}),(()=>{var e,t,r,a,i;const l=null==(e=null==n?void 0:n.planetArchetypes)?void 0:e.find(e=>e.id===v.archetype);return(null==(a=null==(r=null==(t=null==l?void 0:l.rent)?void 0:t[s.starbaseLevel])?void 0:r[x])?void 0:a.toFixed(2))||(null==(i=v.rentCost)?void 0:i.toFixed(2))||"0.5"})()," ATLAS"]})]})]}),d.jsxs("button",{className:"btn btn-purchase",onClick:()=>{var e,t;if(!v)return;if(!U(s.starbaseLevel,x))return void m(`Cannot place Tier ${x} claim stake with Starbase Level ${s.starbaseLevel}`,"error");const r=(null==n?void 0:n.claimStakeDefinitions)||[],a=[];if(null==v?void 0:v.archetype){const t=null==(e=null==n?void 0:n.planetArchetypes)?void 0:e.find(e=>e.id===v.archetype);(null==t?void 0:t.tags)&&a.push(...t.tags)}const c=[...(null==v?void 0:v.tags)||[],...a],u=r.filter(e=>e.tier===x&&!(e.requiredTags&&e.requiredTags.length>0&&!e.requiredTags.every(e=>c.includes(e)))),d=u.some(e=>{var t;return null==(t=e.addedTags)?void 0:t.includes("cultivation-stake-only")}),p=u.find(e=>{var t,n;const r=null==(t=e.addedTags)?void 0:t.includes("cultivation-stake-only"),s=null==(n=e.addedTags)?void 0:n.includes("standard-stake-only");return d?r:s||!r&&!s}),f=(null==p?void 0:p.slots)||100*x,h={id:`cs_${Date.now()}`,planetId:v.id,planetName:v.name,tier:x,buildings:[],resources:{fuel:100},isFinalized:!1,rent:0,lastUpdate:Date.now(),maxStorage:1e3*x,currentStorage:100,maxSlots:f,stakeDefinitionId:null==p?void 0:p.id};w([...S,h]),C(h.id),T(!0);let g=null==p?void 0:p.defaultBuilding;const b=g?ae.find(e=>e.id===g):ae.find(e=>!(!e.comesWithStake||e.tier!==x)&&(!(e.requiredTags&&e.requiredTags.length>0)||e.requiredTags.every(e=>c.includes(e))));if(b){const e={id:`pb_${Date.now()}`,buildingId:b.id,isActive:!1};I([e])}else I([]);0!==S.length||(null==(t=s.achievements)?void 0:t.first_stake)||ue.current.has("first_stake")||(ue.current.add("first_stake"),l("first_stake"),m("🏆 First Claim Stake! You've placed your first claim stake. Welcome to the frontier!","success",5e3));const y=new Set([...S.map(e=>e.planetId),v.id]);o("multi_planet",y.size,5),i("totalClaimStakes",S.length+1)},disabled:!U(s.starbaseLevel,x),children:[d.jsx("span",{className:"btn-icon",children:"🚀"}),d.jsx("span",{className:"btn-text",children:U(s.starbaseLevel,x)?`Purchase Tier ${x} Claim Stake`:`Tier ${x} Unavailable`}),d.jsx("span",{className:"btn-arrow",children:"→"})]})]})]})]}):d.jsxs("div",{className:"empty-state",children:[d.jsx("h2",{children:"Welcome to Claim Stakes Simulator"}),d.jsx("p",{children:"Select a planet from the left to begin building your resource empire!"})]})}),d.jsxs("aside",{className:"sidebar right",children:[(E||Y&&Y.buildings.length>0)&&Y&&(()=>{const e=E?_:Y.buildings;let t=0,r=0,a=0,i=0;const l={};let o=!0;const u={};e.forEach(e=>{const s=ae.find(t=>t.id===e.buildingId);if(s&&(t+=s.slots||0,r+=s.power||0,a+=s.crewSlots||0,i+=s.neededCrew||s.crew||0,E&&s.constructionCost)){const e=((null==n?void 0:n.claimStakeDefinitions)||[]).find(e=>e.id===Y.stakeDefinitionId),t=null==e?void 0:e.defaultBuilding,r=s.id===t;s.comesWithStake||r||Object.entries(s.constructionCost).forEach(([e,t])=>{l[e]=(l[e]||0)+t})}});const p=s.starbaseInventory;return Object.entries(l).forEach(([e,t])=>{const n=p[e]||0;n<t&&(u[e]={needed:t,available:n},o=!1)}),d.jsxs("div",{className:"design-summary-panel",children:[d.jsx("h3",{children:"Design Overview"}),d.jsxs("div",{className:"compact-stats",children:[d.jsxs("div",{className:"stat-row",children:[d.jsx("span",{children:"Slots:"}),d.jsxs("span",{className:t>Y.maxSlots?"error":t===Y.maxSlots||t>.8*Y.maxSlots?"warning":"good",children:[t,"/",Y.maxSlots]})]}),d.jsxs("div",{className:"stat-row",children:[d.jsx("span",{children:"Power:"}),d.jsxs("span",{className:r<0?"error":0===r?"warning":r>50?"positive":"good",children:[r>0?"+":"",r," MW"]})]}),d.jsxs("div",{className:"stat-row",children:[d.jsx("span",{children:"Crew:"}),d.jsxs("span",{className:pe.totalCrewNeeded>pe.totalCrewSlots?"warning":"neutral",children:[pe.totalCrewNeeded," / ",pe.totalCrewSlots]})]}),d.jsxs("div",{className:"stat-row",children:[d.jsx("span",{children:"Storage:"}),d.jsx("span",{className:"neutral",children:pe.totalStorage.toLocaleString()})]}),E&&d.jsxs("div",{className:"stat-row",children:[d.jsx("span",{children:"Efficiency:"}),d.jsxs("span",{className:pe.efficiency>=90?"positive":pe.efficiency>=70?"good":pe.efficiency>=50?"warning":"error",children:[pe.efficiency,"%"]})]})]}),E&&Object.keys(l).length>0&&d.jsxs("div",{className:"compact-requirements",children:[d.jsx("h4",{children:"Construction Cost"}),d.jsx("div",{className:"resource-list-compact",children:Object.entries(l).map(([e,t])=>{const n=p[e]||0,r=n>=t,s=e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return d.jsxs("div",{className:"resource-req-compact "+(r?"ok":"missing"),children:[d.jsxs("span",{className:"res-name",children:[s,":"]}),d.jsxs("span",{className:"res-amounts",children:[n,"/",t]})]},e)})}),!o&&d.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>{const e={};Object.entries(u).forEach(([t,n])=>{e[t]=n.needed-n.available}),c(e),m("Added missing resources","success")},children:"🪄 Add Missing"})]})]})})(),d.jsx("h3",{children:"Production Overview"}),d.jsxs("div",{className:"resource-flow-section",children:[d.jsx("h4",{children:"Resource Flow"}),d.jsx("div",{className:"flow-list",children:Object.entries(pe.resourceFlow).map(([e,t])=>{const n=t.production-t.consumption,r=e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return d.jsxs("div",{className:"flow-item",children:[d.jsx("span",{className:"resource-name",children:r}),d.jsxs("div",{className:"flow-values",children:[d.jsx("span",{className:"production",children:he(t.production)}),d.jsx("span",{className:"consumption",children:he(-t.consumption)}),d.jsx("span",{className:"net "+(n>=0?"positive":"negative"),children:he(n)})]})]},e)})})]}),S.length>1&&d.jsxs("div",{className:"aggregate-section",children:[d.jsx("h4",{children:"All Claim Stakes Total"}),d.jsx("div",{className:"aggregate-stats",children:Object.entries((()=>{const e={};return S.forEach(t=>{if(!t.isFinalized)return;const n=de(t.buildings);for(const[r,s]of Object.entries(n.resourceFlow)){const t=s.production-s.consumption;e[r]=(e[r]||0)+t}}),e})()).map(([e,t])=>{const n=e.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return d.jsxs("div",{className:"aggregate-item",children:[d.jsx("span",{children:n}),d.jsx("span",{className:t>=0?"positive":"negative",children:he(t)})]},e)})})]}),d.jsxs("div",{className:"tips-section-compact",children:[Y&&Y.buildings.some(e=>!e.isActive)&&d.jsxs("div",{className:"warning critical",children:["🛑 Buildings stopped - ",(Y.resources.fuel||0)<=0?"add fuel":pe.totalPower<0?"fix power":"check resources"]}),Y&&Y.currentStorage/Y.maxStorage>=.95&&d.jsxs("div",{className:"warning critical",children:["📦 Storage ",Math.floor(Y.currentStorage/Y.maxStorage*100),"% full"]}),pe.totalPower<0&&d.jsx("div",{className:"warning",children:"⚠️ Power deficit"}),Y&&(Y.resources.fuel||0)<=0&&d.jsx("div",{className:"warning critical",children:"🚫 No fuel"})]})]})]}),S.length>0&&k&&d.jsx(te,{claimStakes:me,starbaseInventory:s.starbaseInventory,onTransfer:(e,t,n)=>{N({show:!0,from:e,to:t,resources:n})},onMagicResources:e=>{w(t=>t.map(t=>{if(t.id===e){const e={...t.resources};return e.fuel=(e.fuel||0)+100,m(`Added 100 fuel to ${t.planetName||"claim stake"}`,"success"),{...t,resources:e,currentStorage:Object.values(e).reduce((e,t)=>e+t,0)}}return t}))}}),d.jsx(ne,{show:j.show,from:j.from,to:j.to,resources:j.resources,onComplete:()=>{const{from:e,to:t,resources:n}=j;if("all-stakes"===e){const e={};S.forEach(t=>{e[t.id]={},Object.entries(n).forEach(([n,r])=>{var s;const a=(null==(s=t.resources)?void 0:s[n])||0;a>0&&(e[t.id][n]=Math.min(a,r))})}),w(t=>t.map(t=>{const n=e[t.id];if(n&&Object.keys(n).length>0){const e={...t.resources};return Object.entries(n).forEach(([t,n])=>{e[t]=Math.max(0,(e[t]||0)-n),e[t]<=0&&delete e[t]}),{...t,resources:e}}return t}))}else"starbase"!==e&&w(t=>t.map(t=>{if(t.id===e){const e={...t.resources};return Object.entries(n).forEach(([t,n])=>{e[t]=Math.max(0,(e[t]||0)-n),e[t]<=0&&delete e[t]}),{...t,resources:e}}return t}));if("starbase"!==t&&"all-stakes"!==t&&w(e=>e.map(e=>{if(e.id===t){const t={...e.resources};return Object.entries(n).forEach(([e,n])=>{t[e]=(t[e]||0)+n}),{...e,resources:t}}return e})),"starbase"===t){const e={};Object.entries(n).forEach(([t,n])=>{n>0&&(e[t]=n)}),Object.keys(e).length>0&&(c(e),m(`Resources transferred to starbase: ${Object.entries(e).map(([e,t])=>`${Math.floor(t)} ${e}`).join(", ")}`,"success"))}else if("starbase"===e){const e={};Object.entries(n).forEach(([t,n])=>{n>0&&(e[t]=n)}),Object.keys(e).length>0&&(u(e),m(`Resources transferred from starbase: ${Object.entries(e).map(([e,t])=>`${Math.floor(t)} ${e}`).join(", ")}`,"success"))}N({show:!1,from:"",to:"",resources:{}})}})]})}function se(){var e,t,n,r;const{gameData:s,loading:a}=A(),{state:i,dispatch:l,updateStatistic:o,unlockAchievement:c,updateAchievementProgress:u,addToInventory:f,consumeFromInventory:h}=$(),{notifications:m,showNotification:g,dismissNotification:v}=K(),[b,x]=p.useState(null),[y,j]=p.useState(()=>{var e;return(null==(e=i.craftingHabState)?void 0:e.habPlots)||[]}),[N,S]=p.useState(()=>{var e;return(null==(e=i.craftingHabState)?void 0:e.selectedPlotId)||null}),[w,k]=p.useState(!1),[C,E]=p.useState([]),[T,_]=p.useState(()=>{var e;return(null==(e=i.craftingHabState)?void 0:e.craftingJobs)||[]}),[I,P]=p.useState(null),[R,O]=p.useState(1),[L,M]=p.useState("all"),[F,z]=p.useState(""),[U,q]=p.useState(null),[B,H]=p.useState(()=>{var e;return(null==(e=i.craftingHabState)?void 0:e.viewMode)||"overview"}),[W,V]=p.useState(()=>{var e;return(null==(e=i.craftingHabState)?void 0:e.favoriteRecipes)||[]}),[Q,G]=p.useState(()=>{var e;return(null==(e=i.craftingHabState)?void 0:e.recentRecipes)||[]}),[Y,X]=p.useState([]),[te,ne]=p.useState({}),re=p.useRef(B),se=p.useRef({}),ae=p.useRef(null),ie=p.useRef(!1),[le,oe]=p.useState(null),[ce,ue]=p.useState(!1),[de,pe]=p.useState(!1),[fe,he]=p.useState(""),[me,ge]=p.useState("normal");p.useEffect(()=>{},[]),p.useEffect(()=>{},[y]),p.useEffect(()=>{y.find(e=>e.id===N)},[N,y,B]),p.useEffect(()=>{if(!ie.current)return ie.current=!0,void(se.current={habPlots:JSON.stringify(y),craftingJobs:JSON.stringify(T),selectedStarbaseId:b,selectedPlotId:N,viewMode:B,favoriteRecipes:JSON.stringify(W),recentRecipes:JSON.stringify(Q)});const e={habPlots:JSON.stringify(y),craftingJobs:JSON.stringify(T),selectedStarbaseId:b,selectedPlotId:N,viewMode:B,favoriteRecipes:JSON.stringify(W),recentRecipes:JSON.stringify(Q)};if(!Object.keys(e).some(t=>e[t]!==se.current[t]))return;y.filter(e=>e.habDesign).length,se.current.habPlots&&JSON.parse(se.current.habPlots).filter(e=>e.habDesign).length;l({type:"UPDATE_CRAFTING_HAB_STATE",payload:{habPlots:y,craftingJobs:T,selectedStarbaseId:b||void 0,selectedPlotId:N||void 0,viewMode:B,favoriteRecipes:W,recentRecipes:Q}}),se.current=e},[y,T,b,N,B,W,Q,l]),p.useEffect(()=>{const e=y.find(e=>e.id===N);"construction"===B&&"construction"!==re.current&&(null==e?void 0:e.habDesign)&&!w&&E([...e.habDesign.buildings||[]]),re.current=B},[B,N,y,w]),p.useEffect(()=>{if(i.craftingQueue&&i.craftingQueue.length>0){i.craftingQueue.filter(e=>{if(e.habPlotId){const t=y.find(t=>t.id===e.habPlotId);if(null==t?void 0:t.habDesign){const e=T.filter(e=>e.habPlotId===t.id&&"completed"!==e.status),n=t.habDesign.totalSlots||5;return e.length<n}}return!1}).forEach(e=>{var t,n,r,s;const a=y.find(t=>t.id===e.habPlotId);if(null==a?void 0:a.habDesign){const o={id:e.id||`job_${Date.now()}`,recipeId:e.recipeId,habPlotId:a.id,quantity:e.quantity,progress:0,totalTime:(e.totalTime||60)*e.quantity/(a.habDesign.craftingSpeed||1),startTime:Date.now(),crewAssigned:10,status:"queued",priority:e.priority||"normal",output:{resource:(null==(n=null==(t=e.recipe)?void 0:t.output)?void 0:n.resource)||"unknown",quantity:((null==(s=null==(r=e.recipe)?void 0:r.output)?void 0:s.quantity)||1)*e.quantity}};_(e=>[...e,o]),l({type:"UPDATE_CRAFTING_QUEUE",payload:(i.craftingQueue||[]).filter(t=>t.id!==e.id)})}})}},[i.craftingQueue,y,T]);const ve=p.useMemo(()=>[{id:"sb_001",name:"Unity Station",faction:"MUD",level:i.starbaseLevel,inventory:i.starbaseInventory},{id:"sb_002",name:"Phoenix Hub",faction:"ONI",level:i.starbaseLevel,inventory:i.starbaseInventory},{id:"sb_003",name:"Liberty Complex",faction:"UST",level:i.starbaseLevel,inventory:i.starbaseInventory}],[i.starbaseLevel,i.starbaseInventory]),be=b&&ve.find(e=>e.id===b)||null;p.useEffect(()=>{var e;const t=null==(e=i.craftingHabState)?void 0:e.selectedStarbaseId;t&&!b&&x(t)},[null==(e=i.craftingHabState)?void 0:e.selectedStarbaseId]);const xe=p.useMemo(()=>{const e=((null==s?void 0:s.recipes)||[]).filter(e=>{var t;if(!e.ingredients||!Array.isArray(e.ingredients)||0===e.ingredients.length)return!1;const n=(e.outputType||"").toUpperCase().replace(/[_\s]+/g,"");if("BUILDING"===n||"BUILDINGS"===n||"HABASSET"===n||"HABASSETS"===n||"BASICRESOURCE"===n||"BASICORGANICRESOURCE"===n)return!1;const r=(e.type||"").toLowerCase().replace(/[_\s]+/g,"");if("building"===r||"buildings"===r||"habasset"===r||"habassets"===r)return!1;const s=(e.outputName||e.outputId||"").toLowerCase();if(s.includes("central hub")||s.includes("central-hub")||s.includes("cultivation hub")||s.includes("extraction hub")||s.includes("processing hub")||s.includes("storage hub")||s.includes("power plant")||s.includes("extractor")||s.includes("processor"))return!1;if(1===e.ingredients.length){if((e.ingredients[0].resource||e.ingredients[0].name)===(e.outputName||e.outputId||(null==(t=e.output)?void 0:t.resource)))return!1}return!0});if(0===e.length)return[{id:"comp_001",name:"Iron Plate",type:"component",tier:1,constructionTime:60,ingredients:[{resource:"iron-ore",quantity:10},{resource:"fuel",quantity:2}],output:{resource:"iron-plate",quantity:5}},{id:"comp_002",name:"Circuit Board",type:"component",tier:2,constructionTime:120,ingredients:[{resource:"copper",quantity:5},{resource:"silica",quantity:3}],output:{resource:"circuit-board",quantity:2}}];return e.map(e=>({id:e.outputId||e.id,name:e.outputName||e.name||e.id,type:e.type||"component",outputType:e.outputType,tier:e.outputTier||e.tier||1,constructionTime:e.constructionTime||60,ingredients:(e.ingredients||[]).map(e=>({resource:e.name||e.resource,quantity:e.quantity||1})),output:{resource:e.outputId||e.id,quantity:e.outputQuantity||1}}))},[null==s?void 0:s.recipes]),ye=p.useMemo(()=>{var e;if(null==s?void 0:s.craftingHabBuildings){const t=s.craftingHabBuildings;return{habs:(null==(e=t.habs)?void 0:e.filter(e=>{const t=e.id.toLowerCase();return t.startsWith("hab-t")&&!t.includes("landing")&&!t.includes("paint")&&!t.includes("pet")}))||[],craftingStations:t.craftingStations||[],cargoStorage:t.cargoStorage||[]}}return{habs:[],craftingStations:[],cargoStorage:[]}},[s]),je=y.find(e=>e.id===N);p.useEffect(()=>{if(be&&0===y.length){const e=D[be.level],t=[];Object.entries(e.habPlotsByTier).forEach(([e,n])=>{for(let r=0;r<n;r++)t.push({id:`plot_${be.id}_t${e}_${r}`,starbaseId:be.id,tier:parseInt(e),rentCost:100*parseInt(e),isOwned:!1})}),j(t)}else be&&y.length},[be,y.length]),p.useEffect(()=>{const e=()=>{const e=localStorage.getItem("craftingQueue");if(e){JSON.parse(e).length}};e();const t=setInterval(e,5e3);return()=>clearInterval(t)},[]),p.useEffect(()=>(T.filter(e=>"active"===e.status).length>0&&(ae.current=setInterval(()=>{const e=[];_(t=>t.map(t=>{if("active"!==t.status)return t;const n=(Date.now()-t.startTime)/1e3,r=Math.min(100,n/t.totalTime*100);return r>=100?(e.push(t),{...t,progress:100,status:"completed"}):{...t,progress:r}})),e.length>0&&setTimeout(()=>{e.forEach(e=>{var t,n;if(e.output){const r=e.output.resource,a=e.output.quantity;f({[r]:a});const l=null==(t=null==s?void 0:s.resources)?void 0:t.find(e=>e.id===r),u=(null==l?void 0:l.name)||r.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");g(`✅ Crafting Complete: ${a}x ${u}`,"success"),i.achievements.first_craft||(c("first_craft"),g("🏆 First Creation! You've completed your first crafting job!","success",5e3));const d=null==(n=null==s?void 0:s.recipes)?void 0:n.find(t=>t.outputId===e.recipeId||t.id===e.recipeId);5===((null==d?void 0:d.outputTier)||1)&&(c("master_crafter"),g("🏆 Master Crafter! You've crafted a Tier 5 component!","success",5e3)),o("totalItemsCrafted",1)}})},0)},100)),()=>{ae.current&&clearInterval(ae.current)}),[T,xe,f,c,u,o,g]);const Ne=e=>{let t=0,n=0,r=1,s=0,a=0;e.forEach(e=>{if("hab"===e.type){const n=ye.habs.find(t=>t.id===e.buildingId);n&&(t=n.slots||0,a=n.jobSlots||0)}else if("crafting-station"===e.type){const t=ye.craftingStations.find(t=>t.id===e.buildingId);t&&(r*=t.speedBonus||1,n+=t.slots||1,a+=t.jobSlots||0)}else if("cargo-storage"===e.type){const t=ye.cargoStorage.find(t=>t.id===e.buildingId);t&&(s+=t.storageBonus||t.storage||0,n+=t.slots||1,a+=t.jobSlotBonus||t.jobSlots||0)}});return{totalSlots:t,usedSlots:n,availableSlots:t-n,craftingSpeed:r,jobSlots:a,storageBonus:s,unlockedRecipes:[]}},Se=w?Ne(C):(null==je?void 0:je.habDesign)?Ne(je.habDesign.buildings):null,we=(e,t,n)=>{const r={id:`hb_${Date.now()}`,buildingId:e,type:t,size:n};E("hab"===t?[r,...C.filter(e=>"hab"!==e.type)]:[...C,r])},ke=e=>{const t=T.find(t=>t.id===e);if(!t)return;const n=xe.find(e=>e.id===t.recipeId);if(n&&t.progress<100){const e=(100-t.progress)/100*.5,r={};n.ingredients&&Array.isArray(n.ingredients)&&n.ingredients.forEach(n=>{r[n.resource]=Math.floor(n.quantity*t.quantity*e)}),f(r)}_(t=>t.filter(t=>t.id!==e))},Ce=xe.filter(e=>{if("all"!==L){if((e.outputType||e.type)!==L)return!1}if(F&&!e.name.toLowerCase().includes(F.toLowerCase()))return!1;if(null!==le&&e.tier!==le)return!1;if(ce){if(!(e.ingredients&&Array.isArray(e.ingredients)&&e.ingredients.every(e=>(i.starbaseInventory[e.resource]||0)>=e.quantity)))return!1}if(de&&!W.includes(e.id))return!1;if(fe){if(!(e.ingredients&&Array.isArray(e.ingredients)&&e.ingredients.some(e=>e.resource.toLowerCase().includes(fe.toLowerCase()))))return!1}return!0}),Ee=I&&I.ingredients&&Array.isArray(I.ingredients)&&I.ingredients.every(e=>(i.starbaseInventory[e.resource]||0)>=e.quantity*R);return a?d.jsx("div",{className:"loading-screen",children:"Loading game data..."}):d.jsxs("div",{className:"crafting-hab-app",children:["undefined"!=typeof window&&window.__STANDALONE_BUILD__?d.jsx(ee,{currentRoute:"crafting-hab"}):d.jsx(Z,{}),d.jsx(J,{notifications:m,onDismiss:v}),d.jsxs("div",{className:"crafting-hab-content",children:[d.jsxs("aside",{className:"sidebar",children:[d.jsx("h2",{children:"Select Starbase"}),d.jsx("div",{className:"starbase-list",children:ve.map(e=>d.jsxs("div",{className:"starbase-card "+((null==be?void 0:be.id)===e.id?"selected":""),onClick:()=>x(e.id),children:[d.jsxs("div",{className:"starbase-header",children:[d.jsx("h3",{children:e.name}),d.jsx("span",{className:`faction-badge faction-${e.faction.toLowerCase()}`,children:e.faction})]}),d.jsxs("div",{className:"starbase-info",children:[d.jsxs("span",{children:["Level ",e.level]}),d.jsx("span",{children:D[e.level].name})]})]},e.id))}),be&&d.jsxs("div",{className:"starbase-inventory",children:[d.jsxs("div",{className:"inventory-header",children:[d.jsx("h3",{children:"📦 Inventory"}),d.jsxs("span",{className:"inventory-count",children:[Object.entries(be.inventory).filter(([e,t])=>t>0).length," types"]})]}),d.jsx("div",{className:"resource-grid",children:Object.entries(be.inventory).filter(([e,t])=>t>0).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>{var n;const r=null==(n=null==s?void 0:s.resources)?void 0:n.find(t=>t.id===e),a=((null==r?void 0:r.name)||e).split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");return d.jsxs("div",{className:"resource-card",children:[d.jsx("div",{className:"resource-icon",children:e.includes("ore")?"⛏️":e.includes("fuel")?"⚡":e.includes("electronics")?"🔌":e.includes("circuit")?"🔧":e.includes("steel")?"🔩":e.includes("copper")?"🟠":e.includes("iron")?"⚙️":e.includes("silica")?"💎":e.includes("hydrogen")?"💧":"📦"}),d.jsxs("div",{className:"resource-info",children:[d.jsx("div",{className:"resource-name",children:a}),d.jsx("div",{className:"resource-amount",children:t.toLocaleString()})]})]},e)})}),d.jsx("button",{className:"btn btn-magic",onClick:()=>{var e;const t={};((null==(e=null==s?void 0:s.resources)?void 0:e.filter(e=>"raw"===e.category))||[]).map(e=>e.id).forEach(e=>{t[e]=1e3}),f(t),g("✨ Raw materials added!","success")},children:"🪄 ADD RAW MATERIALS"})]})]}),d.jsx("main",{className:"main-content",children:be?d.jsxs("div",{className:"hab-management",children:[d.jsxs("div",{className:"management-header",children:[d.jsxs("h2",{children:[be.name," - Crafting Habs"]}),d.jsxs("div",{className:"view-mode-tabs",children:[d.jsx("button",{className:"view-tab "+("overview"===B?"active":""),onClick:()=>H("overview"),children:"📊 Overview"}),d.jsx("button",{className:"view-tab "+("construction"===B?"active":""),onClick:()=>H("construction"),disabled:!y.some(e=>e.isOwned),children:"🔨 Construction"}),d.jsx("button",{className:"view-tab "+("crafting"===B?"active":""),onClick:()=>H("crafting"),disabled:!y.some(e=>e.isOwned&&e.habDesign),children:"⚙️ Crafting"})]})]}),y.some(e=>e.isOwned)&&d.jsxs("div",{className:"plot-selector-bar",children:[d.jsx("label",{children:"Select Plot:"}),d.jsxs("div",{className:"plot-tabs",children:[y.filter(e=>e.isOwned).map(e=>{const t=e.habDesign?Ne(e.habDesign.buildings):null,n=T.filter(t=>t.habPlotId===e.id&&"completed"!==t.status).length;return d.jsxs("button",{className:"plot-tab "+(N===e.id?"active":""),onClick:()=>{S(e.id),e.habDesign?k(!1):(H("construction"),k(!0),E([]))},children:[d.jsxs("span",{className:"plot-tab-tier",children:["T",e.tier]}),d.jsx("span",{className:"plot-tab-status",children:e.habDesign?d.jsxs(d.Fragment,{children:["🏭 ",n,"/",(null==t?void 0:t.jobSlots)||0," jobs"]}):"🔨 Setup needed"})]},e.id)}),d.jsx("button",{className:"plot-tab new-plot",onClick:()=>H("overview"),children:"+ Add Plot"})]})]}),"overview"===B&&d.jsx("div",{className:"overview-view",children:d.jsxs("div",{className:"overview-sections",children:[d.jsxs("div",{className:"overview-section",children:[d.jsx("h3",{children:"Available Plots"}),d.jsx("div",{className:"plot-grid compact",children:y.map(e=>{const t=e.isOwned,n=e.habDesign?Ne(e.habDesign.buildings):null,r=T.filter(t=>t.habPlotId===e.id&&"completed"!==t.status).length;return d.jsxs("div",{className:"plot-overview-card "+(t?"owned":"available"),onClick:()=>{t&&(S(e.id),e.habDesign?(H("crafting"),k(!1)):(H("construction"),k(!0),E([])))},children:[d.jsxs("div",{className:"plot-overview-header",children:[d.jsxs("span",{className:"plot-tier-badge",children:["T",e.tier]}),t?d.jsx("span",{className:"plot-status-badge owned",children:"Owned"}):d.jsx("button",{className:"btn btn-xs btn-primary",onClick:t=>{var n;t.stopPropagation(),n=e.id,j(e=>e.map(e=>e.id===n?{...e,isOwned:!0}:e)),S(n),k(!0),E([]),H("construction"),0===y.length&&g("🏆 First Hab Plot! You've created your first crafting hab!","success",5e3)},children:"Build Here"})]}),t&&d.jsx("div",{className:"plot-overview-stats",children:e.habDesign?d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:["Jobs: ",r,"/",(null==n?void 0:n.jobSlots)||0]}),d.jsxs("div",{children:["Speed: ",(100*((null==n?void 0:n.craftingSpeed)||1)).toFixed(0),"%"]})]}):d.jsx("div",{className:"needs-setup",children:"Needs Setup"})})]},e.id)})})]}),T.filter(e=>"completed"!==e.status).length>0&&d.jsxs("div",{className:"overview-section",children:[d.jsx("h3",{children:"Active Crafting Jobs"}),d.jsx("div",{className:"jobs-summary",children:T.filter(e=>"completed"!==e.status).map(e=>{const t=y.find(t=>t.id===e.habPlotId),n=xe.find(t=>t.id===e.recipeId);return d.jsxs("div",{className:"job-summary-card",children:[d.jsxs("div",{className:"job-header",children:[d.jsx("span",{className:"job-recipe",children:(null==n?void 0:n.name)||e.recipeId}),d.jsxs("span",{className:"job-plot",children:["Plot T",null==t?void 0:t.tier]})]}),d.jsxs("div",{className:"job-progress",children:[d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-fill",style:{width:`${e.progress}%`}})}),d.jsxs("span",{className:"progress-text",children:[e.progress.toFixed(0),"%"]})]}),e.output&&d.jsxs("div",{className:"job-output",children:["Output: ",e.output.quantity,"x ",e.output.resource]})]},e.id)})})]}),d.jsxs("div",{className:"overview-section",children:[d.jsx("h3",{children:"Production Statistics"}),d.jsxs("div",{className:"stats-grid",children:[d.jsxs("div",{className:"stat-card",children:[d.jsx("span",{className:"stat-label",children:"Total Plots"}),d.jsx("span",{className:"stat-value",children:y.filter(e=>e.isOwned).length})]}),d.jsxs("div",{className:"stat-card",children:[d.jsx("span",{className:"stat-label",children:"Active Jobs"}),d.jsx("span",{className:"stat-value",children:T.filter(e=>"active"===e.status).length})]}),d.jsxs("div",{className:"stat-card",children:[d.jsx("span",{className:"stat-label",children:"Completed Jobs"}),d.jsx("span",{className:"stat-value",children:T.filter(e=>"completed"===e.status).length})]}),d.jsxs("div",{className:"stat-card",children:[d.jsx("span",{className:"stat-label",children:"Total Job Slots"}),d.jsx("span",{className:"stat-value",children:y.filter(e=>e.isOwned&&e.habDesign).reduce((e,t)=>e+(Ne(t.habDesign.buildings).jobSlots||0),0)})]})]})]})]})}),"construction"===B&&je&&d.jsxs("div",{className:"construction-view",children:[d.jsxs("div",{className:"construction-header",children:[d.jsxs("h3",{children:["Construction - Plot T",je.tier]}),d.jsx("div",{className:"header-actions",children:w?d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"btn btn-secondary",onClick:()=>{k(!1),E([])},children:"Cancel"}),d.jsx("button",{className:"btn btn-primary",onClick:()=>{var e,t;if(!je||!Se)return;const n=(null==(t=null==(e=C.find(e=>"hab"===e.type))?void 0:e.buildingId.match(/t(\d)/))?void 0:t[1])||1,r={};if(C.forEach(e=>{let t=null;"hab"===e.type?t=ye.habs.find(t=>t.id===e.buildingId):"crafting-station"===e.type?t=ye.craftingStations.find(t=>t.id===e.buildingId):"cargo-storage"===e.type&&(t=ye.cargoStorage.find(t=>t.id===e.buildingId)),(null==t?void 0:t.constructionCost)&&Object.entries(t.constructionCost).forEach(([e,t])=>{r[e]=(r[e]||0)+t})}),Object.keys(r).length>0){if(!h(r))return void g("Insufficient materials in starbase inventory!","error")}j(e=>e.map(e=>{if(e.id===N){return{...e,habDesign:{habTier:parseInt(n),buildings:C,totalSlots:Se.totalSlots,craftingSpeed:Se.craftingSpeed,storageBonus:0,unlockedRecipes:Se.unlockedRecipes,totalJobSlots:Se.jobSlots}}}return e})),k(!1),g("Hab construction completed! Resources consumed.","success")},disabled:!C.find(e=>"hab"===e.type)||(()=>{const e={};C.forEach(t=>{let n=null;"hab"===t.type?n=ye.habs.find(e=>e.id===t.buildingId):"crafting-station"===t.type?n=ye.craftingStations.find(e=>e.id===t.buildingId):"cargo-storage"===t.type&&(n=ye.cargoStorage.find(e=>e.id===t.buildingId)),(null==n?void 0:n.constructionCost)&&Object.entries(n.constructionCost).forEach(([t,n])=>{e[t]=(e[t]||0)+n})});for(const[t,n]of Object.entries(e)){if((i.starbaseInventory[t]||0)<n)return!0}return!1})(),title:C.find(e=>"hab"===e.type)?"Finalize and start operation":"Add a hab first",children:"Finalize Design"})]}):d.jsx("button",{className:"btn btn-secondary",onClick:()=>{var e;k(!0),je.habDesign?E([...(null==(e=je.habDesign)?void 0:e.buildings)||[]]):E([])},children:je.habDesign?"Continue Construction":"Start Construction"})})]}),w&&C.length>0&&(()=>{const e={},t={};let n=!0;C.forEach(t=>{let n=null;"hab"===t.type?n=ye.habs.find(e=>e.id===t.buildingId):"crafting-station"===t.type?n=ye.craftingStations.find(e=>e.id===t.buildingId):"cargo-storage"===t.type&&(n=ye.cargoStorage.find(e=>e.id===t.buildingId)),(null==n?void 0:n.constructionCost)&&Object.entries(n.constructionCost).forEach(([t,n])=>{e[t]=(e[t]||0)+n})}),Object.entries(e).forEach(([e,r])=>{const s=i.starbaseInventory[e]||0;s<r&&(t[e]={needed:r,available:s},n=!1)});const r=Ne(C);return d.jsxs("div",{className:"design-summary-top",children:[d.jsx("h3",{children:"Design Overview"}),d.jsxs("div",{className:"design-stats-row",children:[d.jsxs("div",{className:"stat-card",children:[d.jsx("span",{className:"stat-label",children:"Slots"}),d.jsxs("span",{className:"stat-value "+(r&&r.usedSlots>r.totalSlots?"error":""),children:[(null==r?void 0:r.usedSlots)||0,"/",(null==r?void 0:r.totalSlots)||0]})]}),d.jsxs("div",{className:"stat-card",children:[d.jsx("span",{className:"stat-label",children:"Job Slots"}),d.jsx("span",{className:"stat-value",children:(null==r?void 0:r.jobSlots)||0})]}),d.jsxs("div",{className:"stat-card",children:[d.jsx("span",{className:"stat-label",children:"Speed"}),d.jsxs("span",{className:"stat-value positive",children:[(100*((null==r?void 0:r.craftingSpeed)||1)).toFixed(0),"%"]})]})]}),Object.keys(e).length>0&&d.jsxs("div",{className:"construction-requirements",children:[d.jsx("h4",{children:"Construction Requirements"}),d.jsx("div",{className:"resource-requirements",children:Object.entries(e).map(([e,t])=>{const n=i.starbaseInventory[e]||0,r=n>=t;return d.jsxs("div",{className:"resource-requirement "+(r?"sufficient":"insufficient"),children:[d.jsx("span",{className:"resource-name",children:e}),d.jsxs("span",{className:"resource-amounts",children:[d.jsx("span",{className:r?"amount-ok":"amount-short",children:n}),d.jsx("span",{className:"separator",children:"/"}),d.jsx("span",{className:"amount-needed",children:t})]})]},e)})}),!n&&d.jsxs("div",{className:"missing-resources-actions",children:[d.jsx("div",{className:"warning-message",children:"⚠️ Insufficient resources to finalize construction"}),d.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>{const e={};Object.entries(t).forEach(([t,n])=>{e[t]=n.needed-n.available}),f(e),g("Added missing resources to starbase inventory")},children:"🪄 Add Missing Resources (Simulator)"})]})]})]})})(),d.jsxs("div",{className:"design-area",children:[d.jsxs("div",{className:"current-design",children:[d.jsx("h4",{children:"Current Setup"}),d.jsx("div",{className:"building-list",children:(w?C:(null==(t=je.habDesign)?void 0:t.buildings)||[]).map(e=>d.jsxs("div",{className:"hab-building-card",children:[d.jsx("span",{className:"building-type",children:e.type}),d.jsx("span",{className:"building-name",children:e.buildingId}),e.size&&d.jsx("span",{className:"building-size",children:e.size}),w&&d.jsx("button",{className:"remove-btn",onClick:()=>{return t=e.id,void E(C.filter(e=>e.id!==t));var t},children:"✕"})]},e.id))}),Se&&d.jsxs("div",{className:"design-stats",children:[d.jsxs("div",{className:"stat",children:[d.jsx("span",{children:"Slots:"}),d.jsxs("span",{children:[Se.usedSlots,"/",Se.totalSlots]})]}),d.jsxs("div",{className:"stat",children:[d.jsx("span",{children:"Job Slots:"}),d.jsx("span",{children:Se.jobSlots})]}),d.jsxs("div",{className:"stat",children:[d.jsx("span",{children:"Speed:"}),d.jsxs("span",{children:[(100*Se.craftingSpeed).toFixed(0),"%"]})]})]})]}),w&&d.jsxs("div",{className:"available-buildings",children:[d.jsx("h4",{children:"Add Buildings"}),!C.find(e=>"hab"===e.type)&&d.jsxs("div",{className:"building-category",children:[d.jsx("h5",{children:"🏠 Select Hab Tier (Required)"}),d.jsx("div",{className:"building-options",children:ye.habs.filter(e=>e.tier<=je.tier).map(e=>d.jsxs("button",{className:"building-option hab-option",onClick:()=>we(e.id,"hab"),children:[d.jsx("span",{className:"option-icon",children:"🏠"}),d.jsx("span",{className:"option-name",children:e.name}),d.jsxs("span",{className:"option-stats",children:[e.slots," slots | +",e.jobSlots||3," jobs"]})]},e.id))})]}),C.find(e=>"hab"===e.type)&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"building-category",children:[d.jsx("h5",{children:"⚙️ Crafting Stations"}),d.jsx("div",{className:"building-options",children:ye.craftingStations.map(e=>d.jsxs("button",{className:"building-option station-option",onClick:()=>we(e.id,"crafting-station",e.size),disabled:!!Se&&Se.usedSlots>=Se.totalSlots,children:[d.jsx("span",{className:"option-icon",children:"⚙️"}),d.jsx("span",{className:"option-name",children:e.name}),d.jsxs("span",{className:"option-stats",children:[e.speedBonus>1?`+${Math.round(100*(e.speedBonus-1))}% speed`:"Base speed"," | +",e.jobSlots," jobs"]})]},e.id))})]}),d.jsxs("div",{className:"building-category",children:[d.jsx("h5",{children:"📦 Cargo Storage"}),d.jsx("div",{className:"building-options",children:ye.cargoStorage.filter(e=>e.tier<=je.tier).map(e=>d.jsxs("button",{className:"building-option storage-option",onClick:()=>we(e.id,"cargo-storage"),disabled:!!Se&&Se.usedSlots>=Se.totalSlots,children:[d.jsx("span",{className:"option-icon",children:"📦"}),d.jsx("span",{className:"option-name",children:e.name}),d.jsxs("span",{className:"option-stats",children:["+",e.jobSlots," job slots"]})]},e.id))})]})]})]})]})]}),"crafting"===B&&(null==je?void 0:je.habDesign)&&d.jsxs("div",{className:"crafting-interface-enhanced",children:[d.jsxs("div",{className:"recipe-filters-panel",children:[d.jsx("h4",{children:"Filters"}),d.jsxs("div",{className:"filter-section",children:[d.jsx("label",{children:"Search"}),d.jsx("input",{type:"text",placeholder:"Recipe name...",value:F,onChange:e=>z(e.target.value),className:"filter-input"})]}),d.jsxs("div",{className:"filter-section",children:[d.jsx("label",{children:"Category"}),d.jsxs("select",{value:L,onChange:e=>M(e.target.value),className:"filter-select",children:[d.jsx("option",{value:"all",children:"All Categories"}),d.jsx("option",{value:"COMPONENT",children:"Component"}),d.jsx("option",{value:"INGREDIENT",children:"Ingredient"}),d.jsx("option",{value:"SHIP_COMPONENTS",children:"Ship Components"}),d.jsx("option",{value:"SHIP_MODULES",children:"Ship Modules"}),d.jsx("option",{value:"SHIP_WEAPONS",children:"Ship Weapons"}),d.jsx("option",{value:"COUNTERMEASURES",children:"Countermeasures"}),d.jsx("option",{value:"MISSILES",children:"Missiles"}),d.jsx("option",{value:"DRONE",children:"Drone"}),d.jsx("option",{value:"R4",children:"R4"})]})]}),d.jsxs("div",{className:"filter-section",children:[d.jsx("label",{children:"Tier"}),d.jsx("div",{className:"tier-filters",children:[1,2,3,4,5].map(e=>d.jsxs("button",{className:"tier-btn "+(le===e?"active":""),onClick:()=>oe(le===e?null:e),children:["T",e]},e))})]}),d.jsxs("div",{className:"filter-section",children:[d.jsx("label",{children:"Status"}),d.jsxs("div",{className:"status-filters",children:[d.jsxs("label",{className:"checkbox-label",children:[d.jsx("input",{type:"checkbox",checked:ce,onChange:e=>ue(e.target.checked)}),d.jsx("span",{children:"Craftable Only"})]}),d.jsxs("label",{className:"checkbox-label",children:[d.jsx("input",{type:"checkbox",checked:de,onChange:e=>pe(e.target.checked)}),d.jsx("span",{children:"Favorites ⭐"})]})]})]}),d.jsxs("div",{className:"filter-section",children:[d.jsx("label",{children:"Contains Resource"}),d.jsx("input",{type:"text",placeholder:"e.g., copper, iron...",value:fe,onChange:e=>he(e.target.value),className:"filter-input"})]}),d.jsx("div",{className:"filter-actions",children:d.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>{z(""),M("all"),oe(null),ue(!1),pe(!1),he("")},children:"Clear Filters"})}),d.jsx("div",{className:"filter-stats",children:d.jsxs("small",{children:[Ce.length," of ",xe.length," recipes"]})})]}),d.jsxs("div",{className:"recipe-list-panel",children:[d.jsxs("div",{className:"recipe-list-header",children:[d.jsx("h3",{children:"Recipes"}),d.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>{const e=localStorage.getItem("craftingQueue");if(e){const t=JSON.parse(e);if(t.length>0){const e=t[0];P(e.recipe),O(e.quantity),t.shift(),localStorage.setItem("craftingQueue",JSON.stringify(t)),g(`Loaded: ${e.recipe.name} x${e.quantity}`,"info")}else g("No recipes in queue","warning")}},children:"📥 Import Queue"})]}),Q.length>0&&d.jsxs("div",{className:"recent-recipes",children:[d.jsx("h5",{children:"Recently Used"}),d.jsx("div",{className:"recent-list",children:Q.slice(0,3).map(e=>{const t=xe.find(t=>t.id===e);return t?d.jsx("button",{className:"recent-chip",onClick:()=>P(t),children:t.name},t.id):null})})]}),d.jsx("div",{className:"recipe-list-scrollable",children:0===Ce.length?d.jsxs("div",{className:"no-results",children:[d.jsx("p",{children:"No recipes match your filters"}),d.jsx("button",{className:"btn btn-secondary btn-sm",onClick:()=>{z(""),M("all"),oe(null),ue(!1),pe(!1),he("")},children:"Clear Filters"})]}):Ce.map(e=>{var t,n;const r=e.ingredients&&Array.isArray(e.ingredients)&&e.ingredients.every(e=>(i.starbaseInventory[e.resource]||0)>=e.quantity),s=W.includes(e.id);return d.jsxs("div",{className:`recipe-list-item ${(null==I?void 0:I.id)===e.id?"selected":""} ${r?"":"cannot-craft"}`,onClick:()=>P(e),children:[d.jsxs("div",{className:"recipe-item-header",children:[d.jsx("span",{className:"recipe-name",children:e.name}),d.jsxs("div",{className:"recipe-badges",children:[d.jsxs("span",{className:"tier-badge",children:["T",e.tier]}),r&&d.jsx("span",{className:"craftable-badge",children:"✓"}),d.jsx("button",{className:"favorite-btn "+(s?"active":""),onClick:t=>{var n;t.stopPropagation(),n=e.id,V(e=>e.includes(n)?e.filter(e=>e!==n):[...e,n])},children:s?"⭐":"☆"})]})]}),d.jsxs("div",{className:"recipe-item-details",children:[d.jsxs("span",{className:"recipe-output",children:["→ ",(null==(t=e.output)?void 0:t.quantity)||0," ",(null==(n=e.output)?void 0:n.resource)||""]}),d.jsxs("span",{className:"recipe-time",children:[e.constructionTime,"s"]})]})]},e.id)})})]}),d.jsx("div",{className:"recipe-details-panel",children:I?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"recipe-details-header",children:[d.jsx("h3",{children:I.name}),d.jsxs("span",{className:"tier-badge large",children:["Tier ",I.tier]})]}),d.jsxs("div",{className:"recipe-details-content",children:[d.jsxs("div",{className:"ingredients-section",children:[d.jsx("h4",{children:"Ingredients Required"}),d.jsx("div",{className:"ingredients-list",children:I.ingredients&&Array.isArray(I.ingredients)&&I.ingredients.map(e=>{var t;const n=i.starbaseInventory[e.resource]||0,r=e.quantity*R,a=n>=r,l=null==(t=null==s?void 0:s.resources)?void 0:t.find(t=>t.id===e.resource),o="raw"===(null==l?void 0:l.category);return d.jsxs("div",{className:`ingredient-row ${a?"":"insufficient"} ${o?"raw-material":""}`,children:[d.jsx("span",{className:"ingredient-name",style:o?{color:"#4CAF50"}:{},children:e.resource}),d.jsxs("span",{className:"ingredient-amount",children:[d.jsx("span",{className:a?"has-enough":"not-enough",children:n}),"/ ",r]})]},e.resource)})})]}),d.jsxs("div",{className:"output-section",children:[d.jsx("h4",{children:"Output"}),d.jsxs("div",{className:"output-info",children:[d.jsxs("span",{className:"output-amount",children:[((null==(n=I.output)?void 0:n.quantity)||0)*R,"x"]}),d.jsx("span",{className:"output-resource",children:(null==(r=I.output)?void 0:r.resource)||""})]})]}),d.jsxs("div",{className:"craft-config",children:[d.jsxs("div",{className:"quantity-control",children:[d.jsx("label",{children:"Quantity"}),d.jsxs("div",{className:"quantity-input-group",children:[d.jsx("button",{className:"qty-btn",onClick:()=>O(Math.max(1,R-1)),children:"-"}),d.jsx("input",{type:"number",min:"1",max:"100",value:R,onChange:e=>O(Math.max(1,parseInt(e.target.value)||1)),className:"qty-input"}),d.jsx("button",{className:"qty-btn",onClick:()=>O(Math.min(100,R+1)),children:"+"})]}),d.jsxs("div",{className:"quick-qty-buttons",children:[d.jsx("button",{onClick:()=>O(1),className:"quick-qty",children:"1"}),d.jsx("button",{onClick:()=>O(5),className:"quick-qty",children:"5"}),d.jsx("button",{onClick:()=>O(10),className:"quick-qty",children:"10"}),d.jsx("button",{onClick:()=>O(25),className:"quick-qty",children:"25"}),d.jsx("button",{onClick:()=>{const e=I.ingredients?Math.min(...I.ingredients.map(e=>Math.floor((i.starbaseInventory[e.resource]||0)/e.quantity))):0;O(Math.min(100,Math.max(1,e)))},className:"quick-qty",children:"MAX"})]})]}),d.jsxs("div",{className:"time-section",children:[d.jsx("label",{children:"Crafting Time"}),d.jsxs("div",{className:"time-info",children:[d.jsxs("span",{className:"time-value",children:[Math.ceil(I.constructionTime*R/((null==Se?void 0:Se.craftingSpeed)||1)),"s"]}),(null==Se?void 0:Se.craftingSpeed)&&1!==Se.craftingSpeed&&d.jsxs("span",{className:"speed-bonus",children:["(",(100*Se.craftingSpeed).toFixed(0),"% speed)"]})]})]}),d.jsx("button",{className:"btn btn-primary btn-large",onClick:()=>{var e;((e="normal")=>{var t,n;if(!I||!(null==je?void 0:je.habDesign)||R<=0)return;const r=T.filter(e=>e.habPlotId===je.id&&("active"===e.status||"queued"===e.status)),s=je.habDesign.totalSlots||5;if(r.length>=s)return void g(`Job queue full! Max ${s} jobs for this hab. Complete or cancel existing jobs.`,"warning");if(!(I.ingredients&&Array.isArray(I.ingredients)&&I.ingredients.every(e=>(i.starbaseInventory[e.resource]||0)>=e.quantity*R)))return void g("Insufficient resources!","error");const a={};I.ingredients&&Array.isArray(I.ingredients)&&I.ingredients.forEach(e=>{a[e.resource]=e.quantity*R}),h(a);const l={id:`job_${Date.now()}`,recipeId:I.id,habPlotId:je.id,quantity:R,progress:0,totalTime:(I.constructionTime||60)*R/(je.habDesign.craftingSpeed||1),startTime:Date.now(),crewAssigned:10+("high"===e?5:"low"===e?-2:0),status:r.length<3?"active":"queued",priority:e,output:{resource:(null==(t=I.output)?void 0:t.resource)||I.id,quantity:((null==(n=I.output)?void 0:n.quantity)||1)*R}};_([...T,l]),P(null),O(1),r.length>=10?(c("production_line"),g("🏆 Production Line! You're running 10 crafting jobs simultaneously!","success",5e3)):r.length>0&&u("production_line",r.length,10)})(me),e=I.id,G(t=>[e,...t.filter(t=>t!==e)].slice(0,10))},disabled:!Ee,children:Ee?"Start Crafting":"Insufficient Resources"})]})]})]}):d.jsxs("div",{className:"no-recipe-selected",children:[d.jsx("h3",{children:"Select a Recipe"}),d.jsx("p",{children:"Choose a recipe from the list to view details and start crafting"}),0===Ce.length&&d.jsx("p",{className:"hint",children:"No recipes match your current filters. Try adjusting them."})]})})]})]}):d.jsxs("div",{className:"empty-state",children:[d.jsx("h2",{children:"Welcome to Crafting Hab"}),d.jsx("p",{children:"Select a starbase from the left to begin setting up your crafting operations!"})]})}),d.jsxs("aside",{className:"sidebar right",children:[y.filter(e=>e.isOwned).length>0&&d.jsxs("div",{className:"owned-plots-summary",children:[d.jsx("h3",{children:"Your Hab Plots"}),d.jsx("div",{className:"plots-list",children:y.filter(e=>e.isOwned).map(e=>{const t=e.habDesign?Ne(e.habDesign.buildings):null,n=T.filter(t=>t.habPlotId===e.id&&"completed"!==t.status).length;return d.jsxs("div",{className:"plot-summary "+(N===e.id?"selected":""),onClick:()=>S(e.id),children:[d.jsxs("div",{className:"plot-header",children:[d.jsxs("span",{className:"plot-name",children:["T",e.tier," Plot"]}),d.jsx("span",{className:"plot-status "+(e.habDesign?"active":"designing"),children:e.habDesign?"Active":"Not Configured"})]}),t&&d.jsxs("div",{className:"plot-stats",children:[d.jsxs("span",{title:"Slots",children:["📦 ",t.usedSlots,"/",t.totalSlots]}),d.jsxs("span",{title:"Jobs",children:["💼 ",n,"/",t.jobSlots]}),d.jsxs("span",{title:"Speed",children:["⚡ ",(100*t.craftingSpeed).toFixed(0),"%"]})]})]},e.id)})})]}),d.jsxs("div",{className:"sidebar-header",children:[d.jsxs("h3",{children:["Active Jobs (",T.length,")"]}),d.jsxs("div",{className:"job-actions-bar",children:[T.filter(e=>"completed"===e.status).length>0&&d.jsxs("button",{className:"btn btn-xs btn-success",onClick:()=>{const e=T.filter(e=>"completed"===e.status);_(e=>e.filter(e=>"completed"!==e.status)),g(`Cleared ${e.length} completed jobs!`,"info")},children:["Clear Completed (",T.filter(e=>"completed"===e.status).length,")"]}),T.length>0&&d.jsx("button",{className:"btn btn-xs btn-danger",onClick:()=>{confirm("Clear all jobs? This will cancel active jobs and remove completed ones.")&&(_([]),g("All jobs cleared","info"))},children:"Clear All"})]})]}),d.jsxs("div",{className:"job-queue compact",children:[T.map(e=>{const t=xe.find(t=>t.id===e.recipeId),n=y.find(t=>t.id===e.habPlotId);return d.jsxs("div",{className:`job-card-compact ${e.status} ${e.priority||"normal"}-priority`,children:[d.jsxs("div",{className:"job-main",children:[d.jsxs("div",{className:"job-info",children:[d.jsx("span",{className:"job-name",children:null==t?void 0:t.name}),d.jsxs("span",{className:"job-quantity",children:["×",e.quantity]}),"high"===e.priority&&d.jsx("span",{className:"priority-icon",children:"⚡"}),"low"===e.priority&&d.jsx("span",{className:"priority-icon",children:"🐢"})]}),d.jsxs("div",{className:"job-meta",children:[d.jsxs("span",{className:"job-plot",children:["T",null==n?void 0:n.tier]}),"active"===e.status&&d.jsxs("span",{className:"job-time",children:[Math.ceil((100-e.progress)/100*e.totalTime),"s"]}),"completed"===e.status&&d.jsx("span",{className:"job-done",children:"✓"})]})]}),d.jsxs("div",{className:"job-progress",children:[d.jsx("div",{className:"progress-bar-compact",children:d.jsx("div",{className:`progress-fill ${e.status}`,style:{width:`${e.progress}%`}})}),d.jsxs("span",{className:"progress-text",children:[e.progress.toFixed(0),"%"]})]}),d.jsxs("div",{className:"job-controls",children:["completed"===e.status&&d.jsx("button",{className:"btn-icon btn-success",onClick:()=>(e=>{const t=T.find(t=>t.id===e);t&&"completed"===t.status&&_(t=>{const n=t.filter(t=>t.id!==e),r=n.find(e=>"queued"===e.status);return r?n.map(e=>e.id===r.id?{...e,status:"active",startTime:Date.now()}:e):n})})(e.id),title:"Clear",children:"✓"}),("active"===e.status||"paused"===e.status)&&d.jsxs(d.Fragment,{children:[d.jsx("button",{className:"btn-icon",onClick:()=>{return t=e.id,void _(e=>e.map(e=>{if(e.id===t){if("active"===e.status)return{...e,status:"paused"};if("paused"===e.status)return{...e,status:"active",startTime:Date.now()-e.progress/100*e.totalTime*1e3}}return e}));var t},title:"active"===e.status?"Pause":"Resume",children:"active"===e.status?"⏸":"▶"}),d.jsx("button",{className:"btn-icon btn-danger",onClick:()=>{confirm("Cancel job? "+(e.progress<100?"You'll get 50% refund on remaining resources.":""))&&ke(e.id)},title:"Cancel",children:"✕"})]}),"queued"===e.status&&d.jsx("button",{className:"btn-icon btn-danger",onClick:()=>ke(e.id),title:"Cancel",children:"✕"})]})]},e.id)}),0===T.length&&d.jsx("div",{className:"empty-jobs",children:"No active crafting jobs"})]}),d.jsxs("div",{className:"output-summary",children:[d.jsx("h4",{children:"Recent Output"}),d.jsx("div",{className:"output-list",children:T.filter(e=>"completed"===e.status).slice(-5).map(e=>{const t=xe.find(t=>t.id===e.recipeId);return d.jsx("div",{className:"output-item",children:d.jsxs("span",{children:[((null==t?void 0:t.output.quantity)||0)*e.quantity," ",null==t?void 0:t.output.resource]})},e.id)})})]})]})]})]})}const ae=f.memo(function({recipe:e,recipes:t=[],planets:n=[],resources:r=[],quantity:s=1,viewMode:a="simple",onNodeClick:i,onResourceAnalysis:l,onControlsReady:o,maxDepth:c=10}){const u=p.useRef(null),[f,h]=p.useState(null),[m,g]=p.useState(null),[v,b]=p.useState(null),[x,y]=p.useState(!1);p.useRef(new Map),p.useRef();const[j,N]=p.useState({x:0,y:0,scale:1,isDragging:!1,dragStart:{x:0,y:0},lastPos:{x:0,y:0}}),S=p.useRef(j);p.useEffect(()=>{S.current=j},[j]),p.useRef(void 0);const w=p.useMemo(()=>{const e=new Map;return t&&0!==t.length?(t.forEach(t=>{var n;e.set(t.id,t),t.outputId&&e.set(t.outputId,t),t.outputName&&(e.set(t.outputName,t),e.set(t.outputName.toLowerCase(),t)),(null==(n=t.output)?void 0:n.resource)&&(e.set(t.output.resource,t),e.set(`recipe_${t.output.resource}`,t)),t.name&&(e.set(t.name,t),e.set(t.name.toLowerCase(),t))}),e):e},[t.length]),k=p.useCallback((e,n=0,r=new Set)=>{if(r.has(e)||n>=c)return null;r.add(e);const s=w.get(e);if(!s)return null;const a=[];return s.ingredients&&Array.isArray(s.ingredients)&&s.ingredients.forEach(e=>{const s=e.resource||e.name,i=s.replace(/\s+/g,"-").toLowerCase(),l=s.replace(/-/g," "),o=w.get(s)||w.get(s.toLowerCase())||w.get(i)||w.get(l)||w.get(l.toLowerCase())||w.get(`recipe_${s}`)||w.get(`cargo-${s}`)||t.find(e=>{var t;return e.outputName===s||(null==(t=e.outputName)?void 0:t.toLowerCase())===s.toLowerCase()||e.outputId===i});if(o){const e=k(o.id,n+1,new Set(r));e&&a.push(e)}else{const r=t.find(e=>{var t;return!(e.outputName!==s&&e.outputId!==(null==s?void 0:s.toLowerCase().replace(/\s+/g,"-"))&&(null==(t=e.output)?void 0:t.resource)!==s&&e.name!==s||e.ingredients&&0!==e.ingredients.length)}),i=(r||t.some(e=>{var t;return e.outputName===s||e.outputId===(null==s?void 0:s.toLowerCase().replace(/\s+/g,"-"))||(null==(t=e.output)?void 0:t.resource)===s||e.name===s}),t.filter(e=>{var t;return null==(t=e.ingredients)?void 0:t.some(e=>(e.resource||e.name)===s)})),l=s.replace("-ore","").replace("cargo-",""),o=t.filter(e=>{var t,n;const r=e.outputName||(null==(t=e.output)?void 0:t.resource)||"";return r===`cargo-${l}`||r===l||1===(null==(n=e.ingredients)?void 0:n.length)&&(e.ingredients[0].resource||e.ingredients[0].name)===s}),c=new Set,u=new Set;i.length>0||o.length,[...i,...o].forEach(e=>{e.planetTypes&&(Array.isArray(e.planetTypes)?e.planetTypes.forEach(e=>c.add(e)):"string"==typeof e.planetTypes&&e.planetTypes.split(";").forEach(e=>c.add(e.trim()))),e.factions&&"All"!==e.factions&&(Array.isArray(e.factions)?e.factions.forEach(e=>u.add(e)):"string"==typeof e.factions&&e.factions.split(";").forEach(e=>u.add(e.trim())))}),c.size;const d=r&&(r.outputTier||r.tier)||0;a.push({id:`raw_${s}`,recipe:{id:`raw_${s}`,name:s,tier:d,type:"raw",constructionTime:0,ingredients:[],output:{resource:s,quantity:1},requiredQuantity:e.quantity,planetTypes:c.size>0?Array.from(c).join(";"):void 0,factions:u.size>0&&u.size<3?Array.from(u).join(";"):void 0},x:0,y:0,children:[],depth:n+1})}}),{id:e,recipe:s,x:0,y:0,children:a,depth:n}},[w,t,c]),C=p.useCallback((e,t,n)=>{const r=120,s=e=>{if(0===e.children.length)return e.width=r,r;let t=0;return e.children.forEach(e=>{t+=s(e)}),e.width=Math.max(r,t),e.width};s(e);const a=(e,t,n)=>{if(e.x=t,e.y=n,e.children.length>0){let s=t-e.width/2;e.children.forEach(e=>{const t=e.width||r;a(e,s+t/2,n+150),s+=t})}};a(e,t/2,100)},[]),E=p.useCallback(()=>{const e=u.current;if(!e||!v)return;const t=e.getContext("2d");if(!t)return;t.clearRect(0,0,e.width,e.height),t.save(),t.translate(j.x,j.y),t.scale(j.scale,j.scale);const n=e=>{e.children.forEach(r=>{t.beginPath(),t.moveTo(e.x,e.y);const s=(e.y+r.y)/2;t.bezierCurveTo(e.x,s,r.x,s,r.x,r.y);const a=.3+.1*e.depth;"raw"===r.recipe.type?t.strokeStyle=`rgba(0, 200, 150, ${a})`:t.strokeStyle=`rgba(255, 107, 53, ${a})`,t.lineWidth=2/j.scale,t.stroke(),n(r)})};n(v);const r=e=>{var n;const s=(null==f?void 0:f.id)===e.id,i=(null==m?void 0:m.id)===e.id,l="raw"===e.recipe.type,o=45+(s?10:0)+(i?5:0);(s||i)&&(t.beginPath(),t.arc(e.x,e.y+3,o+5,0,2*Math.PI),t.fillStyle="rgba(0, 0, 0, 0.2)",t.fill()),t.beginPath(),t.arc(e.x,e.y,o,0,2*Math.PI);const c=t.createRadialGradient(e.x,e.y,0,e.x,e.y,o);if(l?(c.addColorStop(0,`rgba(0, 200, 150, ${s?.95:.8})`),c.addColorStop(1,`rgba(0, 150, 100, ${s?.7:.5})`)):(c.addColorStop(0,`rgba(255, 107, 53, ${s?.95:.8})`),c.addColorStop(1,`rgba(200, 70, 30, ${s?.7:.5})`)),t.fillStyle=c,t.fill(),t.strokeStyle=i?"#FFD700":l?"#00C896":"#FF6B35",t.lineWidth=(s?4:2)/j.scale,t.stroke(),t.fillStyle="#FFFFFF",t.font=`bold ${20/j.scale}px Orbitron`,t.textAlign="center",t.textBaseline="middle",l){const n=e.recipe.tier||0;t.fillText(n>0?`T${n}`:"RAW",e.x,e.y-15)}else t.fillText(`T${e.recipe.tier}`,e.x,e.y-15);t.font=12/j.scale+"px Exo 2";const u=1.8*o,d=e.recipe.name.split(" ");let p="",h=[];for(let r of d){const e=p+(p?" ":"")+r;t.measureText(e).width>u&&p?(h.push(p),p=r):p=e}h.push(p),h.forEach((n,r)=>{t.fillText(n,e.x,e.y+12*r)}),"detailed"!==a||l||(t.font=10/j.scale+"px Exo 2",t.fillStyle="rgba(255, 255, 255, 0.8)",t.fillText(`${e.recipe.constructionTime}s`,e.x,e.y+25),(null==(n=e.recipe.output)?void 0:n.quantity)&&e.recipe.output.quantity>1&&(t.fillStyle="#FFD700",t.fillText(`x${e.recipe.output.quantity}`,e.x,e.y+35))),e.children.forEach(r)};r(v),t.restore(),t.fillStyle="rgba(255, 255, 255, 0.5)",t.font="12px Exo 2",t.textAlign="left",t.fillText("Scroll: Zoom | Drag: Pan | Click: Select",10,e.height-10)},[v,f,m,j,a]),T=p.useCallback(e=>{e.preventDefault();const t=u.current;if(!t)return;const n=t.getBoundingClientRect(),r=e.clientX-n.left,s=e.clientY-n.top,a=e.deltaY>0?.9:1.1,i=Math.max(.1,Math.min(5,j.scale*a)),l=(r-j.x)/j.scale,o=(s-j.y)/j.scale,c=r-l*i,d=s-o*i;N(e=>({...e,scale:i,x:c,y:d}))},[j]),_=p.useCallback((e,t,n,r=45)=>Math.sqrt(Math.pow(e-n.x,2)+Math.pow(t-n.y,2))<=r,[]),I=p.useCallback(e=>{const r=t.filter(t=>{var n;return null==(n=t.ingredients)?void 0:n.some(t=>t.resource===e)}),s=t.filter(t=>{var n;return(null==(n=t.output)?void 0:n.resource)===e}),a=n.filter(t=>{var n;return null==(n=t.resources)?void 0:n.includes(e)}),i={id:e,name:e,usageCount:r.length,recipes:r.map(e=>e.name),planets:a.map(e=>e.name||e.id),accessibility:a.length/Math.max(1,n.length),value:100*r.length+50*s.length,tier:Math.max(...r.map(e=>e.tier||0),0)};return l&&l(i),i},[t,n,l]),P=p.useCallback(e=>{const t=u.current;if(!t||!v)return;const n=t.getBoundingClientRect(),r=e.clientX-n.left,s=e.clientY-n.top,a=(r-j.x)/j.scale,l=(s-j.y)/j.scale;let o=null,c=1/0;const d=e=>{const t=Math.sqrt(Math.pow(a-e.x,2)+Math.pow(l-e.y,2));t<=("raw"===e.recipe.type?50:45)&&t<c&&(c=t,o=e),e.children.forEach(d)};d(v),o?(g(o),"raw"===o.recipe.type&&I(o.recipe.name),i&&i(o)):N(e=>({...e,isDragging:!0,dragStart:{x:r,y:s},lastPos:{x:e.x,y:e.y}}))},[v,j,i,I]),R=p.useCallback(e=>{const t=u.current;if(!t||!v)return;const n=t.getBoundingClientRect(),r=e.clientX-n.left,s=e.clientY-n.top;if(j.isDragging){const e=r-j.dragStart.x,t=s-j.dragStart.y;N(n=>({...n,x:n.lastPos.x+e,y:n.lastPos.y+t}))}else{const e=(r-j.x)/j.scale,n=(s-j.y)/j.scale;let a=null;const i=t=>{_(e,n,t)&&(a=t),t.children.forEach(i)};i(v),h(a),t.style.cursor=a?"pointer":j.isDragging?"grabbing":"grab"}},[v,j,_]),O=p.useCallback(()=>{N(e=>({...e,isDragging:!1}))},[]),A=p.useCallback(()=>{N({x:0,y:0,scale:1,isDragging:!1,dragStart:{x:0,y:0},lastPos:{x:0,y:0}})},[]),L=p.useCallback(()=>{if(!v||!u.current)return;const e=u.current,t=e.width/2,n=e.height/2;let r=1/0,s=-1/0,a=1/0,i=-1/0;const l=e=>{r=Math.min(r,e.x-40),s=Math.max(s,e.x+40),a=Math.min(a,e.y-30),i=Math.max(i,e.y+30),e.children.forEach(l)};l(v);const o=(r+s)/2,c=(a+i)/2;N(e=>({...e,x:t-o*e.scale,y:n-c*e.scale}))},[v]),D=p.useCallback(()=>{if(!v||!u.current)return;const e=u.current;let t=1/0,n=-1/0,r=1/0,s=-1/0;const a=e=>{t=Math.min(t,e.x-40),n=Math.max(n,e.x+40),r=Math.min(r,e.y-30),s=Math.max(s,e.y+30),e.children.forEach(a)};a(v);const i=n-t,l=s-r,o=(e.width-100)/i,c=(e.height-100)/l,d=Math.min(o,c,2),p=(t+n)/2,f=(r+s)/2;N({x:e.width/2-p*d,y:e.height/2-f*d,scale:d,isDragging:!1,dragStart:{x:0,y:0},lastPos:{x:0,y:0}})},[v]),M=p.useCallback(e=>{const t=u.current;if(!t)return;const n=t.width/2,r=t.height/2,s=Math.max(.5,Math.min(3,e));N(e=>{const t=s-e.scale,a=-n*t/s,i=-r*t/s;return{...e,x:e.x+a,y:e.y+i,scale:s}})},[]),F=p.useCallback(()=>S.current.scale,[]),z=p.useCallback(()=>{const t=u.current;if(!t)return;const n=document.createElement("a");n.download=`${(null==e?void 0:e.name)||"recipe"}-tree.png`,n.href=t.toDataURL(),n.click()},[e]);return p.useEffect(()=>{o&&o({resetView:A,centerTree:L,fitToScreen:D,setZoom:M,getZoom:F,exportImage:z})},[]),p.useEffect(()=>{if((null==e?void 0:e.id)&&t.length>0){y(!0);const t=requestAnimationFrame(()=>{const t=k(e.id);t&&u.current&&(C(t,u.current.width,u.current.height),b(t),N(e=>({...e,x:0,y:0,scale:1}))),y(!1)});return()=>{cancelAnimationFrame(t),y(!1)}}b(null),y(!1)},[null==e?void 0:e.id,t.length]),p.useEffect(()=>{if(v){const e=requestAnimationFrame(()=>{E()});return()=>cancelAnimationFrame(e)}},[v,f,m,j.x,j.y,j.scale,s,a]),p.useEffect(()=>{const e=u.current;if(e)return e.addEventListener("wheel",T,{passive:!1}),()=>{e.removeEventListener("wheel",T)}},[T]),p.useEffect(()=>{const e=()=>{const e=u.current;if(!e)return;const t=e.parentElement;if(t&&(e.width=t.clientWidth,e.height=t.clientHeight,v)){requestAnimationFrame(()=>{C(v,e.width,e.height)})}};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[v]),d.jsxs("div",{className:"recipe-tree-canvas-container",children:[x&&d.jsx("div",{className:"tree-loading-indicator",children:d.jsx("span",{children:"Building recipe tree..."})}),d.jsx("canvas",{ref:u,className:"recipe-tree-canvas",onMouseDown:P,onMouseMove:R,onMouseUp:O,onMouseLeave:O}),d.jsxs("div",{className:"canvas-controls-overlay",children:[d.jsx("button",{className:"canvas-control",onClick:A,title:"Reset View",children:"⟲"}),d.jsx("button",{className:"canvas-control",onClick:L,title:"Center Tree",children:"⊕"}),d.jsx("button",{className:"canvas-control",onClick:D,title:"Fit to Screen",children:"⛶"}),d.jsx("button",{className:"canvas-control",onClick:z,title:"Export Image",children:"📷"})]}),m&&d.jsxs("div",{className:"node-info-panel",children:[d.jsx("h3",{children:m.recipe.name}),"raw"===m.recipe.type?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"resource-type",children:"Raw Material"}),m.recipe.requiredQuantity&&d.jsxs("p",{className:"required-amount",children:[d.jsx("strong",{children:"Amount needed:"})," ",m.recipe.requiredQuantity,"x"]}),m.recipe.planetTypes&&d.jsxs("div",{className:"planet-types-info",children:[d.jsx("strong",{children:"CAN BE EXTRACTED FROM:"}),d.jsx("div",{className:"planet-types-list",children:(Array.isArray(m.recipe.planetTypes)?m.recipe.planetTypes:m.recipe.planetTypes.split(";")).map((e,t)=>d.jsx("span",{className:"planet-type-tag",children:"string"==typeof e?e.trim():e},t))})]}),m.recipe.factions&&"All"!==m.recipe.factions&&d.jsxs("div",{className:"factions-info",children:[d.jsx("strong",{children:"FACTION REGIONS:"}),d.jsx("div",{className:"factions-list",children:(Array.isArray(m.recipe.factions)?m.recipe.factions:m.recipe.factions.split(";")).map((e,t)=>{const n="string"==typeof e?e.trim():e;return d.jsx("span",{className:`faction-tag faction-${n.toLowerCase()}`,children:n},t)})})]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("p",{children:["Tier ",m.recipe.tier]}),m.recipe.constructionTime>0&&d.jsxs("p",{children:["Time: ",m.recipe.constructionTime,"s"]}),m.recipe.planetTypes&&d.jsxs("div",{className:"planet-types-info",children:[d.jsx("strong",{children:"CAN BE CRAFTED ON:"}),d.jsx("div",{className:"planet-types-list",children:(Array.isArray(m.recipe.planetTypes)?m.recipe.planetTypes:m.recipe.planetTypes.split(";")).map((e,t)=>d.jsx("span",{className:"planet-type-tag",children:"string"==typeof e?e.trim():e},t))})]}),m.recipe.factions&&"All"!==m.recipe.factions&&"MUD;ONI;UST"!==m.recipe.factions&&d.jsxs("div",{className:"factions-info",children:[d.jsx("strong",{children:"LIMITED TO FACTIONS:"}),d.jsx("div",{className:"factions-list",children:(Array.isArray(m.recipe.factions)?m.recipe.factions:m.recipe.factions.split(";")).map((e,t)=>{const n="string"==typeof e?e.trim():e;return d.jsx("span",{className:`faction-tag faction-${n.toLowerCase()}`,children:n},t)})})]}),m.recipe.ingredients.length>0&&d.jsxs("div",{children:[d.jsx("h4",{children:"REQUIRES:"}),d.jsx("ul",{children:m.recipe.ingredients.map((e,t)=>d.jsxs("li",{children:[e.quantity,"x ",e.resource,d.jsx("button",{className:"btn-link",onClick:()=>I(e.resource),style:{marginLeft:"8px",fontSize:"0.85rem"},children:"(analyze)"})]},t))})]}),m.recipe.output&&d.jsxs("p",{children:["Produces: ",m.recipe.output.quantity,"x ",m.recipe.output.resource]})]})]})]})});function ie({recipes:e,resources:t,planets:n,onRecipeSelect:r,onIngredientSearch:s}){const[a,i]=p.useState("name"),[l,o]=p.useState(""),[c,u]=p.useState("all"),[f,h]=p.useState("all"),[m,g]=p.useState(new Set),[v,b]=p.useState(!1),x=p.useMemo(()=>{const t=new Set;return e.forEach(e=>{var n;null==(n=e.ingredients)||n.forEach(e=>{const n=e.name||e.resource;n&&t.add(n)})}),Array.from(t).sort()},[e]),y=p.useMemo(()=>{const r=new Map,s=(e,n)=>{const s=r.get(e)||{usageCount:0,recipeCount:0,planetCount:0,scarcity:0,demand:0,value:0};Object.assign(s,n),r.set(e,s);const a=null==t?void 0:t.find(t=>t.id===e);if(null==a?void 0:a.name){const e=r.get(a.name)||{usageCount:0,recipeCount:0,planetCount:0,scarcity:0,demand:0,value:0};Object.assign(e,n),r.set(a.name,e)}};return e.forEach(e=>{var t;null==(t=e.ingredients)||t.forEach(e=>{const t=e.resource||e.name;if(!t)return;const n=r.get(t)||{usageCount:0,recipeCount:0,planetCount:0,scarcity:0,demand:0,value:0};n.usageCount+=e.quantity,n.recipeCount++,s(t,n)})}),n.forEach(e=>{e.resources&&Object.keys(e.resources).forEach(e=>{const t=r.get(e);t&&(t.planetCount++,s(e,t))})}),r.forEach((e,t)=>{e.scarcity=Math.max(0,100-10*e.planetCount),e.demand=Math.min(100,10*e.recipeCount+e.usageCount),e.value=.6*e.scarcity+.4*e.demand}),r},[e,n]),j=p.useMemo(()=>{let n=e;if(l)switch(a){case"name":n=n.filter(e=>e.name.toLowerCase().includes(l.toLowerCase()));break;case"ingredient":n=n.filter(e=>{var n;return null==(n=e.ingredients)?void 0:n.some(e=>{const n=e.resource||e.name,r=null==t?void 0:t.find(e=>e.id===n),s=(null==r?void 0:r.name)||n||"",a=l.toLowerCase().trim(),i=(n||"").toLowerCase().includes(a),o=(s||"").toLowerCase().includes(a),c=(e.name||"").toLowerCase().includes(a);return i||o||c})})}return"all"!==c&&(n=n.filter(e=>e.tier===parseInt(c))),"all"!==f&&(n=n.filter(e=>{const t=e.outputType||e.type;return t===f})),n},[e,l,a,c,f]),N=t=>{const n=t.toLowerCase().replace(/-/g," "),r=t.toLowerCase().replace(/\s+/g,"-");return e.filter(e=>{var s;return null==(s=e.ingredients)?void 0:s.some(e=>{const s=e.name||e.resource||"",a=s.toLowerCase(),i=a.replace(/-/g," "),l=a.replace(/\s+/g,"-");return s===t||a===t.toLowerCase()||i===n||l===r||"Absorption Matrix"===s&&"absorption-matrix"===t})})};return d.jsxs("div",{className:"recipe-search",children:[d.jsxs("div",{className:"search-header",children:[d.jsx("h3",{children:"Recipe Search & Analysis"}),d.jsxs("div",{className:"search-mode-tabs",children:[d.jsx("button",{className:"name"===a?"active":"",onClick:()=>i("name"),children:"By Name"}),d.jsx("button",{className:"ingredient"===a?"active":"",onClick:()=>i("ingredient"),children:"By Ingredient"})]})]}),d.jsxs("div",{className:"search-controls",children:[d.jsx("input",{type:"text",placeholder:"name"===a?"Search recipe names...":"Search by ingredient (e.g., copper-ore)...",value:l,onChange:e=>o(e.target.value),className:"search-input"}),d.jsxs("div",{className:"filters",children:[d.jsxs("select",{value:c,onChange:e=>u(e.target.value),children:[d.jsx("option",{value:"all",children:"All Tiers"}),[1,2,3,4,5].map(e=>d.jsxs("option",{value:e,children:["Tier ",e]},e))]}),d.jsxs("select",{value:f,onChange:e=>h(e.target.value),children:[d.jsx("option",{value:"all",children:"All Types"}),d.jsx("option",{value:"BASIC RESOURCE",children:"Raw"}),d.jsx("option",{value:"BASIC ORGANIC RESOURCE",children:"Raw (Organic)"}),d.jsx("option",{value:"COMPONENT",children:"Component"}),d.jsx("option",{value:"INGREDIENT",children:"Ingredient"}),d.jsx("option",{value:"BUILDING",children:"Building"}),d.jsx("option",{value:"SHIP_COMPONENTS",children:"Ship Components"}),d.jsx("option",{value:"SHIP_MODULES",children:"Ship Modules"}),d.jsx("option",{value:"SHIP_WEAPONS",children:"Ship Weapons"}),d.jsx("option",{value:"COUNTERMEASURES",children:"Countermeasures"}),d.jsx("option",{value:"MISSILES",children:"Missiles"}),d.jsx("option",{value:"DRONE",children:"Drone"}),d.jsx("option",{value:"HAB_ASSETS",children:"Hab Assets"}),d.jsx("option",{value:"R4",children:"R4"})]})]})]}),"ingredient"===a&&l&&d.jsxs("div",{className:"ingredient-analysis",children:[d.jsxs("h4",{children:["Ingredient Analysis: ",l]}),y.has(l)?d.jsxs("div",{className:"resource-metrics",children:[d.jsxs("div",{className:"metric",children:[d.jsx("span",{className:"label",children:"Usage Count:"}),d.jsx("span",{className:"value",children:y.get(l).usageCount})]}),d.jsxs("div",{className:"metric",children:[d.jsx("span",{className:"label",children:"Used in Recipes:"}),d.jsx("span",{className:"value",children:y.get(l).recipeCount})]}),d.jsxs("div",{className:"metric",children:[d.jsx("span",{className:"label",children:"Available on Planets:"}),d.jsx("span",{className:"value",children:y.get(l).planetCount})]}),d.jsxs("div",{className:"metric-bar",children:[d.jsx("span",{className:"label",children:"Scarcity:"}),d.jsx("div",{className:"bar",children:d.jsx("div",{className:"fill scarcity",style:{width:`${y.get(l).scarcity}%`}})}),d.jsxs("span",{className:"percentage",children:[y.get(l).scarcity.toFixed(0),"%"]})]}),d.jsxs("div",{className:"metric-bar",children:[d.jsx("span",{className:"label",children:"Demand:"}),d.jsx("div",{className:"bar",children:d.jsx("div",{className:"fill demand",style:{width:`${y.get(l).demand}%`}})}),d.jsxs("span",{className:"percentage",children:[y.get(l).demand.toFixed(0),"%"]})]}),d.jsxs("div",{className:"metric-bar",children:[d.jsx("span",{className:"label",children:"Value Index:"}),d.jsx("div",{className:"bar",children:d.jsx("div",{className:"fill value",style:{width:`${y.get(l).value}%`}})}),d.jsxs("span",{className:"percentage",children:[y.get(l).value.toFixed(0),"%"]})]})]}):d.jsx("p",{children:"No metrics available for this resource"})]}),d.jsxs("div",{className:"recipe-results",children:[d.jsxs("h4",{children:["ingredient"===a&&l?`Recipes using ${l}`:"Recipe Results"," (",j.length,")"]}),d.jsx("div",{className:"recipe-list",children:j.map(e=>{var n,a,l;const c=m.has(e.id);return d.jsxs("div",{className:"recipe-item",children:[d.jsxs("div",{className:"recipe-card-quick-view",children:[d.jsx("button",{className:"quick-view-btn",onClick:t=>{t.stopPropagation(),r(e)},title:"Quick View Tree",children:"🌲"}),d.jsx("button",{className:"quick-view-btn",onClick:t=>{var n;t.stopPropagation();const r=e.outputName||(null==(n=e.output)?void 0:n.resource)||e.name,a=e.outputId;let i=N(r);0===i.length&&a&&(i=N(a)),s(r,i)},title:"What uses this?",children:"🔗"})]}),d.jsxs("div",{className:"recipe-header",onClick:()=>(e=>{const t=new Set(m);t.has(e)?t.delete(e):t.add(e),g(t)})(e.id),children:[d.jsx("span",{className:"expand-icon",children:c?"▼":"▶"}),d.jsxs("div",{className:"recipe-main-info",children:[d.jsxs("div",{className:"recipe-title-row",children:[d.jsx("h5",{children:e.name}),d.jsxs("span",{className:`tier-badge tier-${e.tier}`,children:["T",e.tier]})]}),d.jsxs("div",{className:"recipe-meta",children:[d.jsx("span",{className:"type",children:(()=>{const t=e.outputType||e.type;return"BASIC RESOURCE"===t||"BASIC ORGANIC RESOURCE"===t?"Raw":"COMPONENT"===t?"Component":"INGREDIENT"===t?"Ingredient":"BUILDING"===t?"Building":"SHIP_COMPONENTS"===t?"Ship Components":"SHIP_MODULES"===t?"Ship Modules":"SHIP_WEAPONS"===t?"Ship Weapons":"COUNTERMEASURES"===t?"Countermeasures":"MISSILES"===t?"Missiles":"DRONE"===t?"Drone":"HAB_ASSETS"===t?"Hab Assets":"R4"===t?"R4":t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():"Unknown"})()}),d.jsx("span",{className:"separator",children:"•"}),d.jsxs("span",{className:"time",children:["⏱ ",e.constructionTime,"s"]})]})]})]}),c&&d.jsxs("div",{className:"recipe-details",children:[d.jsxs("div",{className:"ingredients-section",children:[d.jsx("h6",{children:"Ingredients:"}),null==(n=e.ingredients)?void 0:n.map((e,n)=>{const r=e.resource||e.name,s=null==t?void 0:t.find(e=>e.id===r),a=(null==s?void 0:s.name)||r,l=y.get(a);return d.jsxs("div",{className:"ingredient-item",children:[d.jsxs("span",{className:"quantity",children:[e.quantity,"x"]}),d.jsx("span",{className:"resource-name",children:a}),l&&d.jsxs("span",{className:"resource-value",title:`Scarcity: ${l.scarcity.toFixed(0)}%, Demand: ${l.demand.toFixed(0)}%`,children:["V: ",l.value.toFixed(0)]}),d.jsx("button",{className:"search-ingredient-btn",onClick:e=>{e.stopPropagation(),i("ingredient"),o(a)},title:"Search recipes using this ingredient",children:"🔍"})]},n)})]}),d.jsxs("div",{className:"output-section",children:[d.jsx("h6",{children:"Output:"}),d.jsxs("div",{className:"output-item",children:[d.jsxs("span",{className:"quantity",children:[(null==(a=e.output)?void 0:a.quantity)||0,"x"]}),d.jsx("span",{className:"resource-name",children:(null==(l=e.output)?void 0:l.resource)||"Unknown"})]})]}),d.jsxs("div",{className:"recipe-actions",children:[d.jsx("button",{className:"btn btn-primary",onClick:t=>{t.stopPropagation(),r(e)},children:"View Tree"}),d.jsx("button",{className:"btn btn-secondary",onClick:t=>{var n;t.stopPropagation();const r=e.outputName||(null==(n=e.output)?void 0:n.resource)||e.name,a=e.outputId;let i=N(r);0===i.length&&a&&(i=N(a)),s(r,i)},children:"What uses this?"})]})]})]},e.id)})})]}),d.jsxs("div",{className:"ingredient-browser "+(v?"expanded":"collapsed"),children:[d.jsx("div",{className:"ingredient-browser-header",onClick:()=>b(!v),children:d.jsxs("h4",{children:[d.jsx("span",{className:"expand-icon",children:v?"▼":"▶"}),"Common Ingredients",d.jsxs("span",{className:"ingredient-count",children:["(",x.length," total)"]})]})}),d.jsxs("div",{className:"ingredient-chips",children:[x.slice(0,v?x.length:10).map(e=>{const n=null==t?void 0:t.find(t=>t.id===e),r=(null==n?void 0:n.name)||e,s=y.get(r);return d.jsxs("button",{className:"ingredient-chip",onClick:e=>{e.stopPropagation(),i("ingredient"),o(r)},style:{borderColor:s?`hsl(${120-s.value}, 70%, 50%)`:"var(--border-color)"},title:s?`Value: ${s.value.toFixed(0)}, Used in ${s.recipeCount} recipes`:"",children:[r,s&&d.jsx("span",{className:"chip-value",children:s.value.toFixed(0)})]},e)}),!v&&x.length>10&&d.jsxs("button",{className:"ingredient-chip more-chip",onClick:()=>b(!0),children:["+",x.length-10," more..."]})]})]})]})}function le({recipe:e,recipes:t,planets:n,quantity:r,starbaseInventory:s,resources:a=[]}){if(!e)return null;const i=p.useMemo(()=>{const n={},i=[],l=[];let o=0,c=0;const u=new Set,d=(e,r,s=0)=>{var p;const f=(null==(p=e.output)?void 0:p.quantity)||1,h=Math.ceil(r/f);o+=e.constructionTime*h,i.push(e),l.push(e.name),c+=s+1,e.ingredients&&Array.isArray(e.ingredients)&&e.ingredients.forEach(e=>{const r=e.quantity*h,i=t.find(t=>{var n;return(null==(n=t.output)?void 0:n.resource)===e.resource});if(i)d(i,r,s+1);else{n[e.resource]=(n[e.resource]||0)+r;const s=a.find(t=>t.id===e.resource);if(s&&"raw"===s.category){const n=t.filter(t=>{var n,r;return(null==(n=t.output)?void 0:n.resource)===e.resource||1===(null==(r=t.ingredients)?void 0:r.length)&&t.ingredients[0].resource===e.resource}),r=new Set;n.forEach(e=>{e.planetTypes&&(Array.isArray(e.planetTypes)?e.planetTypes.forEach(e=>r.add(e)):"string"==typeof e.planetTypes&&e.planetTypes.split(";").forEach(e=>r.add(e.trim())))}),r.size<3&&u.add(e.resource)}}})};d(e,r);const p=Array.from(u),f=i.length,h=Object.keys(n).length,m=c/f;let g=100;g-=5*f,g-=10*p.length,g-=2*h,g=Math.max(0,Math.min(100,g));const v=Math.min(...Object.entries(n).map(([e,t])=>{const n=s[e]||0;return Math.floor(n/t)})),b=o,x=o/Math.min(f,4);return{totalResources:n,productionChain:i,criticalPath:l,totalTime:o,efficiency:g,chainLength:f,uniqueResources:h,averageComplexity:m,bottlenecks:p,parallelPotential:v,serialTime:b,parallelTime:x,optimalTime:.8*x}},[e,t,n,r,s,a]),l=p.useMemo(()=>Object.entries(i.totalResources).map(([e,t])=>{const n=s[e]||0,r=n/t*100;return{resource:e,needed:t,available:n,sufficient:n>=t,percentage:Math.min(100,r)}}),[i.totalResources,s]);return d.jsxs("div",{className:"recipe-analysis",children:[d.jsxs("h3",{children:["Recipe Analysis: ",e.name]}),d.jsxs("div",{className:"efficiency-section",children:[d.jsx("h4",{children:"Efficiency Metrics"}),d.jsxs("div",{className:"efficiency-breakdown",children:[d.jsxs("div",{className:"efficiency-score",children:[d.jsx("div",{className:"score-circle",children:d.jsxs("svg",{viewBox:"0 0 100 100",children:[d.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"rgba(255, 107, 53, 0.2)",strokeWidth:"5"}),d.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:"var(--primary-orange)",strokeWidth:"5",strokeDasharray:2.83*i.efficiency+" 283",strokeDashoffset:"0",transform:"rotate(-90 50 50)"}),d.jsxs("text",{x:"50",y:"50",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"20",fontWeight:"600",children:[i.efficiency.toFixed(0),"%"]})]})}),d.jsx("div",{className:"score-label",children:"Overall Efficiency"})]}),d.jsxs("div",{className:"efficiency-details",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx("span",{className:"label",children:"Production Steps:"}),d.jsx("span",{className:"value",children:i.chainLength}),d.jsxs("span",{className:"impact negative",children:["-",5*i.chainLength,"%"]})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("span",{className:"label",children:"Unique Resources:"}),d.jsx("span",{className:"value",children:i.uniqueResources}),d.jsxs("span",{className:"impact negative",children:["-",2*i.uniqueResources,"%"]})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("span",{className:"label",children:"Bottlenecks:"}),d.jsx("span",{className:"value",children:i.bottlenecks.length}),d.jsxs("span",{className:"impact negative",children:["-",10*i.bottlenecks.length,"%"]})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("span",{className:"label",children:"Complexity:"}),d.jsx("span",{className:"value",children:i.averageComplexity.toFixed(1)}),d.jsx("span",{className:"complexity-bar",children:d.jsx("div",{className:"complexity-fill",style:{width:`${Math.min(100,20*i.averageComplexity)}%`}})})]})]})]}),d.jsxs("div",{className:"efficiency-explanation",children:[d.jsx("h5",{children:"What does efficiency mean?"}),d.jsx("p",{children:"Efficiency measures how streamlined this recipe's production chain is. Higher efficiency means fewer steps, fewer unique resources, and less complexity."}),d.jsxs("ul",{children:[d.jsxs("li",{children:[d.jsx("strong",{children:"100%:"})," Direct crafting, no dependencies"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"70-99%:"})," Simple chain, readily available resources"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"40-69%:"})," Complex chain, some bottlenecks"]}),d.jsxs("li",{children:[d.jsx("strong",{children:"0-39%:"})," Very complex, many scarce resources"]})]})]})]}),d.jsxs("div",{className:"time-section",children:[d.jsx("h4",{children:"Production Time Analysis"}),d.jsxs("div",{className:"time-strategies",children:[d.jsxs("div",{className:"strategy",children:[d.jsx("div",{className:"strategy-name",children:"Serial Production"}),d.jsxs("div",{className:"strategy-time",children:[Math.ceil(i.serialTime),"s"]}),d.jsx("div",{className:"strategy-desc",children:"One station, sequential crafting"})]}),d.jsxs("div",{className:"strategy recommended",children:[d.jsx("div",{className:"strategy-name",children:"Parallel Production"}),d.jsxs("div",{className:"strategy-time",children:[Math.ceil(i.parallelTime),"s"]}),d.jsx("div",{className:"strategy-desc",children:"Multiple stations working together"})]}),d.jsxs("div",{className:"strategy optimal",children:[d.jsx("div",{className:"strategy-name",children:"Optimized"}),d.jsxs("div",{className:"strategy-time",children:[Math.ceil(i.optimalTime),"s"]}),d.jsx("div",{className:"strategy-desc",children:"With bonuses and perfect timing"})]})]})]}),d.jsxs("div",{className:"resources-section",children:[d.jsx("h4",{children:"Resource Requirements"}),d.jsx("div",{className:"resource-list",children:l.map(e=>d.jsxs("div",{className:"resource-item "+(e.sufficient?"sufficient":"insufficient"),children:[d.jsxs("div",{className:"resource-header",children:[d.jsx("span",{className:"resource-name",children:e.resource}),d.jsx("span",{className:"resource-status",children:e.sufficient?"✓":"✗"})]}),d.jsxs("div",{className:"resource-amounts",children:[d.jsxs("span",{className:"needed",children:["Need: ",e.needed]}),d.jsxs("span",{className:"available",children:["Have: ",e.available]})]}),d.jsx("div",{className:"resource-bar",children:d.jsx("div",{className:"resource-fill",style:{width:`${e.percentage}%`,background:e.sufficient?"linear-gradient(90deg, #2ECC40, #00C896)":"linear-gradient(90deg, #FF4136, #FF851B)"}})})]},e.resource))}),i.parallelPotential>0&&d.jsxs("div",{className:"parallel-potential",children:[d.jsx("strong",{children:"Parallel Production Potential:"}),d.jsxs("span",{className:"potential-value",children:["Can craft ",i.parallelPotential,"x simultaneously with current resources"]})]})]}),i.bottlenecks.length>0&&d.jsxs("div",{className:"bottlenecks-section",children:[d.jsx("h4",{children:"⚠️ Resource Bottlenecks"}),d.jsx("p",{children:"These raw materials are scarce and may limit production:"}),d.jsx("div",{className:"bottleneck-list",children:i.bottlenecks.map(e=>{const n=t.filter(t=>{var n,r;return(null==(n=t.output)?void 0:n.resource)===e||1===(null==(r=t.ingredients)?void 0:r.length)&&t.ingredients[0].resource===e}),r=new Set;return n.forEach(e=>{e.planetTypes&&(Array.isArray(e.planetTypes)?e.planetTypes.forEach(e=>r.add(e)):"string"==typeof e.planetTypes&&e.planetTypes.split(";").forEach(e=>r.add(e.trim())))}),d.jsxs("div",{className:"bottleneck-item",children:[d.jsx("span",{className:"resource-name",children:e}),d.jsxs("span",{className:"scarcity-indicator",children:["Available on ",r.size," planet ",1===r.size?"type":"types"]})]},e)})})]}),d.jsxs("div",{className:"tips-section",children:[d.jsx("h4",{children:"💡 Optimization Tips"}),d.jsxs("ul",{children:[i.chainLength>3&&d.jsx("li",{children:"This recipe has a long production chain. Consider pre-crafting intermediate components."}),i.bottlenecks.length>0&&d.jsx("li",{children:"Focus on securing bottleneck resources first, as they limit production capacity."}),i.parallelPotential>1&&d.jsxs("li",{children:["You have resources for ",i.parallelPotential," parallel crafts. Use multiple stations!"]}),i.efficiency<50&&d.jsx("li",{children:"Low efficiency recipe. Consider alternative recipes or stockpile components."}),d.jsxs("li",{children:["Tier ",e.tier," crafting stations provide speed bonuses for this recipe."]})]})]})]})}function oe(){const{gameData:e,loading:t}=A(),{state:n,dispatch:r}=$(),{notifications:s,showNotification:a,dismissNotification:i}=K(),[l,o]=p.useState(""),[c,u]=p.useState("all"),[f,h]=p.useState("all"),[m,g]=p.useState(null),[v,b]=p.useState("simple"),[x,y]=p.useState(null),[j,N]=p.useState(null),[S,w]=p.useState(1),[k,C]=p.useState([]),[E,T]=p.useState(!1),[_,I]=p.useState(null),[P,R]=p.useState(1);p.useRef(void 0),p.useEffect(()=>{const e=localStorage.getItem("recipeBuildPlans");if(e)try{C(JSON.parse(e))}catch(t){}},[]);const O=(null==e?void 0:e.recipes)||[],L=O.length>0?O.map(e=>({id:e.outputId||e.id,name:e.outputName||e.name,type:e.outputType||e.type||"component",tier:e.outputTier||e.tier||1,constructionTime:e.constructionTime||60,ingredients:(e.ingredients||[]).map(e=>({resource:e.name||e.resource,quantity:e.quantity||1})),output:{resource:e.outputId||e.id,quantity:e.outputQuantity||1},outputId:e.outputId,outputName:e.outputName,outputType:e.outputType,outputTier:e.outputTier})):[{id:"comp_001",name:"Iron Plate",type:"component",tier:1,constructionTime:60,ingredients:[{resource:"iron-ore",quantity:10},{resource:"fuel",quantity:2}],output:{resource:"iron-plate",quantity:5}},{id:"comp_002",name:"Circuit Board",type:"component",tier:2,constructionTime:120,ingredients:[{resource:"copper-wire",quantity:5},{resource:"silica",quantity:3}],output:{resource:"circuit-board",quantity:2}},{id:"comp_003",name:"Copper Wire",type:"component",tier:1,constructionTime:30,ingredients:[{resource:"copper",quantity:4}],output:{resource:"copper-wire",quantity:8}},{id:"comp_004",name:"Steel Beam",type:"component",tier:2,constructionTime:180,ingredients:[{resource:"iron-plate",quantity:4},{resource:"carbon",quantity:2}],output:{resource:"steel-beam",quantity:2}},{id:"mod_001",name:"Engine Module",type:"module",tier:3,constructionTime:300,ingredients:[{resource:"steel-beam",quantity:3},{resource:"circuit-board",quantity:2},{resource:"fuel-cell",quantity:1}],output:{resource:"engine-module",quantity:1}}];L.filter(e=>!(l&&!e.name.toLowerCase().includes(l.toLowerCase()))&&(("all"===c||e.tier===parseInt(c))&&("all"===f||e.type===f)));return p.useEffect(()=>{if(!m)return;const e=((e,t)=>{const n={},r=[];let s=0,a=0;const i=(e,t,l=0)=>{var o;const c=t/((null==(o=e.output)?void 0:o.quantity)||1);s+=(e.constructionTime||0)*c,r.push(e.id),a=Math.max(a,l),e.ingredients&&Array.isArray(e.ingredients)&&e.ingredients.forEach(e=>{const t=e.quantity*c,r=L.find(t=>{var n;return(null==(n=t.output)?void 0:n.resource)===e.resource});r?i(r,t,l+1):n[e.resource]=(n[e.resource]||0)+t})};i(e,t);const l=Math.min(100,100-5*a);return{totalTime:s,totalResources:n,criticalPath:r,efficiency:l}})(m,S);N(e)},[m,S]),t?d.jsx("div",{className:"loading-screen",children:"Loading game data..."}):d.jsxs("div",{className:"recipes-app",children:["undefined"!=typeof window&&window.__STANDALONE_BUILD__?d.jsx(ee,{currentRoute:"recipes"}):d.jsx(Z,{}),d.jsx(J,{notifications:s,onDismiss:i}),d.jsxs("div",{className:"recipes-content",children:[d.jsx("aside",{className:"sidebar",children:d.jsx(ie,{recipes:L,resources:(null==e?void 0:e.resources)||[],planets:(null==e?void 0:e.planets)||[],onRecipeSelect:e=>{g(e),a(`Selected recipe: ${e.name}`,"info")},onIngredientSearch:(e,t)=>{a(`Found ${t.length} recipes using ${e}`,"info")}})}),d.jsx("main",{className:"main-content",children:m?d.jsxs("div",{className:"visualization-container",children:[d.jsxs("div",{className:"visualization-header",children:[d.jsxs("h2",{children:[m.name," - Recipe Tree"]}),d.jsxs("div",{className:"view-controls",children:[d.jsx("button",{className:"view-btn "+("simple"===v?"active":""),onClick:()=>b("simple"),children:"Simple"}),d.jsx("button",{className:"view-btn "+("detailed"===v?"active":""),onClick:()=>b("detailed"),children:"Detailed"})]})]}),d.jsx("div",{className:"tree-container",children:d.jsx(ae,{recipe:m,recipes:L,planets:(null==e?void 0:e.planets)||[],resources:(null==e?void 0:e.resources)||[],quantity:S,viewMode:v,onNodeClick:e=>{},onResourceAnalysis:e=>{},onControlsReady:e=>{I(e),e.getZoom&&R(e.getZoom())}})}),d.jsxs("div",{className:"control-panel",children:[d.jsxs("div",{className:"control-group",children:[d.jsx("label",{children:"Target Quantity"}),d.jsxs("div",{className:"control-input-group",children:[d.jsx("input",{type:"number",min:"1",max:"1000",value:S,onChange:e=>w(parseInt(e.target.value)||1)}),d.jsx("button",{className:"quick-btn",onClick:()=>w(10),children:"10"}),d.jsx("button",{className:"quick-btn",onClick:()=>w(100),children:"100"}),d.jsx("button",{className:"quick-btn",onClick:()=>w(2*S),children:"2x"})]})]}),d.jsxs("div",{className:"control-group",children:[d.jsx("label",{children:"Zoom Level"}),d.jsxs("div",{className:"control-slider",children:[d.jsx("input",{type:"range",className:"slider",min:"0.5",max:"2",step:"0.1",value:P,onChange:e=>{const t=parseFloat(e.target.value);R(t),(null==_?void 0:_.setZoom)&&_.setZoom(t)}}),d.jsxs("div",{className:"slider-value",children:[Math.round(100*P),"%"]})]})]}),d.jsxs("div",{className:"control-group",children:[d.jsx("label",{children:"Tree Controls"}),d.jsxs("div",{className:"tree-controls",children:[d.jsx("button",{className:"tree-control-btn",title:"Reset View",onClick:()=>{(null==_?void 0:_.resetView)&&(_.resetView(),R(1))},children:"⟲"}),d.jsx("button",{className:"tree-control-btn",title:"Center Tree",onClick:()=>{var e;return null==(e=null==_?void 0:_.centerTree)?void 0:e.call(_)},children:"⊕"}),d.jsx("button",{className:"tree-control-btn",title:"Fit to Screen",onClick:()=>{(null==_?void 0:_.fitToScreen)&&(_.fitToScreen(),_.getZoom&&R(_.getZoom()))},children:"⛶"}),d.jsx("button",{className:"tree-control-btn",title:"Export Image",onClick:()=>{var e;return null==(e=null==_?void 0:_.exportImage)?void 0:e.call(_)},children:"📷"})]})]})]}),j&&d.jsxs("div",{className:"resource-stats",children:[d.jsxs("div",{className:"stat-item",children:[d.jsx("span",{className:"stat-label",children:"Total Time"}),d.jsxs("span",{className:"stat-value",children:[Math.round(j.totalTime),"s"]})]}),d.jsxs("div",{className:"stat-item",children:[d.jsx("span",{className:"stat-label",children:"Efficiency"}),d.jsxs("span",{className:"stat-value",children:[Math.round(100*j.efficiency),"%"]})]}),d.jsxs("div",{className:"stat-item",children:[d.jsx("span",{className:"stat-label",children:"Resources"}),d.jsx("span",{className:"stat-value",children:Object.keys(j.totalResources).length})]}),d.jsxs("div",{className:"stat-item",children:[d.jsx("span",{className:"stat-label",children:"Complexity"}),d.jsxs("span",{className:"stat-value",children:[j.criticalPath.length," steps"]})]})]})]}):d.jsxs("div",{className:"empty-visualization",children:[d.jsx("h2",{children:"Select a Recipe"}),d.jsx("p",{children:"Choose a recipe from the browser to visualize its crafting tree"})]})}),d.jsx("aside",{className:"sidebar right",children:m?d.jsxs(d.Fragment,{children:[d.jsx(le,{recipe:m,recipes:L,planets:(null==e?void 0:e.planets)||[],quantity:S,starbaseInventory:n.starbaseInventory,resources:(null==e?void 0:e.resources)||[]}),d.jsxs("div",{className:"action-buttons",children:[d.jsx("button",{className:"btn btn-primary",onClick:()=>{if(m&&j){const e=n.craftingHabState;let t=null,s=-1;(null==e?void 0:e.habPlots)&&e.habPlots.forEach(n=>{if(n.isOwned&&n.habDesign){const r=(e.craftingJobs||[]).filter(e=>e.habPlotId===n.id&&"completed"!==e.status).length,a=(n.habDesign.totalJobSlots||1)-r;if(a>0){const e=a*(n.habDesign.craftingSpeed||1);e>s&&(s=e,t=n)}}});const i={id:`job_${Date.now()}`,recipe:m,recipeId:m.id,quantity:S,requirements:j.totalResources,totalTime:j.totalTime,timestamp:Date.now(),habPlotId:(null==t?void 0:t.id)||null,status:t?"queued":"pending",priority:"normal"};r({type:"ADD_TO_CRAFTING_QUEUE",payload:i}),t?a(`Recipe "${m.name}" x${S} added to Plot T${t.tier} queue!`,"success"):a(`Recipe "${m.name}" x${S} added to queue (no hab plots available)`,"warning")}},disabled:!m||!j,children:"Export to Queue"}),d.jsx("button",{className:"btn btn-secondary",onClick:()=>{const e=prompt("Enter build plan name:");if(e){((e,t)=>{if(!m||!j)return;const n={id:`plan_${Date.now()}`,name:e,recipe:m,quantity:S,analysis:j,created:Date.now(),notes:t},r=[...k,n];C(r),localStorage.setItem("recipeBuildPlans",JSON.stringify(r)),alert(`Build plan "${e}" saved!`)})(e,prompt("Enter notes (optional):")||void 0)}},disabled:!m||!j,children:"Save Build Plan"}),d.jsxs("button",{className:"btn btn-secondary",onClick:()=>T(!E),children:["📋 View Plans (",k.length,")"]})]})]}):d.jsx("div",{className:"empty-analysis",children:d.jsx("p",{children:"Select a recipe to see detailed analysis"})})})]}),E&&d.jsx("div",{className:"modal-overlay",onClick:()=>T(!1),children:d.jsxs("div",{className:"modal-content build-plans-modal",onClick:e=>e.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:"Saved Build Plans"}),d.jsx("button",{className:"close-button",onClick:()=>T(!1),children:"×"})]}),d.jsx("div",{className:"modal-body",children:0===k.length?d.jsx("p",{children:"No saved build plans yet."}):d.jsx("div",{className:"build-plans-list",children:k.map(e=>d.jsxs("div",{className:"build-plan-card",children:[d.jsxs("div",{className:"plan-header",children:[d.jsx("h3",{children:e.name}),d.jsx("span",{className:"plan-date",children:new Date(e.created).toLocaleDateString()})]}),d.jsxs("div",{className:"plan-details",children:[d.jsxs("div",{children:["Recipe: ",e.recipe.name]}),d.jsxs("div",{children:["Quantity: ",e.quantity]}),d.jsxs("div",{children:["Time: ",e.analysis.totalTime,"s"]}),e.notes&&d.jsxs("div",{className:"plan-notes",children:["Notes: ",e.notes]})]}),d.jsxs("div",{className:"plan-resources",children:[d.jsx("strong",{children:"Resources:"}),Object.entries(e.analysis.totalResources).map(([e,t])=>d.jsxs("span",{className:"resource-chip",children:[e,": ",t]},e))]}),d.jsxs("div",{className:"plan-actions",children:[d.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>(e=>{g(e.recipe),w(e.quantity),N(e.analysis),T(!1)})(e),children:"Load"}),d.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>{confirm("Delete this build plan?")&&(e=>{const t=k.filter(t=>t.id!==e);C(t),localStorage.setItem("recipeBuildPlans",JSON.stringify(t))})(e.id)},children:"Delete"})]})]},e.id))})})]})}),d.jsx(J,{notifications:s,onDismiss:i})]})}function ce(){const[e,t]=p.useState("claim-stakes");p.useEffect(()=>{window.__STANDALONE_BUILD__=!0},[]),p.useEffect(()=>{const e=()=>{const e=window.location.hash.replace("#/","").replace("#","")||"claim-stakes";t("crafting-hab"===e||"recipes"===e?e:"claim-stakes")};return e(),window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[]);return d.jsx(z,{children:d.jsx(O,{children:(()=>{switch(e){case"crafting-hab":return d.jsx(se,{});case"recipes":return d.jsx(oe,{});default:return d.jsx(re,{})}})()})})}C.createRoot(document.getElementById("root")).render(d.jsx(f.StrictMode,{children:d.jsx(ce,{})}));</script>
  <style rel="stylesheet" crossorigin>@layer theme,base,components,utilities;@layer theme{@theme default{ --font-sans: ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; --font-serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif; --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; --color-red-50: oklch(97.1% .013 17.38); --color-red-100: oklch(93.6% .032 17.717); --color-red-200: oklch(88.5% .062 18.334); --color-red-300: oklch(80.8% .114 19.571); --color-red-400: oklch(70.4% .191 22.216); --color-red-500: oklch(63.7% .237 25.331); --color-red-600: oklch(57.7% .245 27.325); --color-red-700: oklch(50.5% .213 27.518); --color-red-800: oklch(44.4% .177 26.899); --color-red-900: oklch(39.6% .141 25.723); --color-red-950: oklch(25.8% .092 26.042); --color-orange-50: oklch(98% .016 73.684); --color-orange-100: oklch(95.4% .038 75.164); --color-orange-200: oklch(90.1% .076 70.697); --color-orange-300: oklch(83.7% .128 66.29); --color-orange-400: oklch(75% .183 55.934); --color-orange-500: oklch(70.5% .213 47.604); --color-orange-600: oklch(64.6% .222 41.116); --color-orange-700: oklch(55.3% .195 38.402); --color-orange-800: oklch(47% .157 37.304); --color-orange-900: oklch(40.8% .123 38.172); --color-orange-950: oklch(26.6% .079 36.259); --color-amber-50: oklch(98.7% .022 95.277); --color-amber-100: oklch(96.2% .059 95.617); --color-amber-200: oklch(92.4% .12 95.746); --color-amber-300: oklch(87.9% .169 91.605); --color-amber-400: oklch(82.8% .189 84.429); --color-amber-500: oklch(76.9% .188 70.08); --color-amber-600: oklch(66.6% .179 58.318); --color-amber-700: oklch(55.5% .163 48.998); --color-amber-800: oklch(47.3% .137 46.201); --color-amber-900: oklch(41.4% .112 45.904); --color-amber-950: oklch(27.9% .077 45.635); --color-yellow-50: oklch(98.7% .026 102.212); --color-yellow-100: oklch(97.3% .071 103.193); --color-yellow-200: oklch(94.5% .129 101.54); --color-yellow-300: oklch(90.5% .182 98.111); --color-yellow-400: oklch(85.2% .199 91.936); --color-yellow-500: oklch(79.5% .184 86.047); --color-yellow-600: oklch(68.1% .162 75.834); --color-yellow-700: oklch(55.4% .135 66.442); --color-yellow-800: oklch(47.6% .114 61.907); --color-yellow-900: oklch(42.1% .095 57.708); --color-yellow-950: oklch(28.6% .066 53.813); --color-lime-50: oklch(98.6% .031 120.757); --color-lime-100: oklch(96.7% .067 122.328); --color-lime-200: oklch(93.8% .127 124.321); --color-lime-300: oklch(89.7% .196 126.665); --color-lime-400: oklch(84.1% .238 128.85); --color-lime-500: oklch(76.8% .233 130.85); --color-lime-600: oklch(64.8% .2 131.684); --color-lime-700: oklch(53.2% .157 131.589); --color-lime-800: oklch(45.3% .124 130.933); --color-lime-900: oklch(40.5% .101 131.063); --color-lime-950: oklch(27.4% .072 132.109); --color-green-50: oklch(98.2% .018 155.826); --color-green-100: oklch(96.2% .044 156.743); --color-green-200: oklch(92.5% .084 155.995); --color-green-300: oklch(87.1% .15 154.449); --color-green-400: oklch(79.2% .209 151.711); --color-green-500: oklch(72.3% .219 149.579); --color-green-600: oklch(62.7% .194 149.214); --color-green-700: oklch(52.7% .154 150.069); --color-green-800: oklch(44.8% .119 151.328); --color-green-900: oklch(39.3% .095 152.535); --color-green-950: oklch(26.6% .065 152.934); --color-emerald-50: oklch(97.9% .021 166.113); --color-emerald-100: oklch(95% .052 163.051); --color-emerald-200: oklch(90.5% .093 164.15); --color-emerald-300: oklch(84.5% .143 164.978); --color-emerald-400: oklch(76.5% .177 163.223); --color-emerald-500: oklch(69.6% .17 162.48); --color-emerald-600: oklch(59.6% .145 163.225); --color-emerald-700: oklch(50.8% .118 165.612); --color-emerald-800: oklch(43.2% .095 166.913); --color-emerald-900: oklch(37.8% .077 168.94); --color-emerald-950: oklch(26.2% .051 172.552); --color-teal-50: oklch(98.4% .014 180.72); --color-teal-100: oklch(95.3% .051 180.801); --color-teal-200: oklch(91% .096 180.426); --color-teal-300: oklch(85.5% .138 181.071); --color-teal-400: oklch(77.7% .152 181.912); --color-teal-500: oklch(70.4% .14 182.503); --color-teal-600: oklch(60% .118 184.704); --color-teal-700: oklch(51.1% .096 186.391); --color-teal-800: oklch(43.7% .078 188.216); --color-teal-900: oklch(38.6% .063 188.416); --color-teal-950: oklch(27.7% .046 192.524); --color-cyan-50: oklch(98.4% .019 200.873); --color-cyan-100: oklch(95.6% .045 203.388); --color-cyan-200: oklch(91.7% .08 205.041); --color-cyan-300: oklch(86.5% .127 207.078); --color-cyan-400: oklch(78.9% .154 211.53); --color-cyan-500: oklch(71.5% .143 215.221); --color-cyan-600: oklch(60.9% .126 221.723); --color-cyan-700: oklch(52% .105 223.128); --color-cyan-800: oklch(45% .085 224.283); --color-cyan-900: oklch(39.8% .07 227.392); --color-cyan-950: oklch(30.2% .056 229.695); --color-sky-50: oklch(97.7% .013 236.62); --color-sky-100: oklch(95.1% .026 236.824); --color-sky-200: oklch(90.1% .058 230.902); --color-sky-300: oklch(82.8% .111 230.318); --color-sky-400: oklch(74.6% .16 232.661); --color-sky-500: oklch(68.5% .169 237.323); --color-sky-600: oklch(58.8% .158 241.966); --color-sky-700: oklch(50% .134 242.749); --color-sky-800: oklch(44.3% .11 240.79); --color-sky-900: oklch(39.1% .09 240.876); --color-sky-950: oklch(29.3% .066 243.157); --color-blue-50: oklch(97% .014 254.604); --color-blue-100: oklch(93.2% .032 255.585); --color-blue-200: oklch(88.2% .059 254.128); --color-blue-300: oklch(80.9% .105 251.813); --color-blue-400: oklch(70.7% .165 254.624); --color-blue-500: oklch(62.3% .214 259.815); --color-blue-600: oklch(54.6% .245 262.881); --color-blue-700: oklch(48.8% .243 264.376); --color-blue-800: oklch(42.4% .199 265.638); --color-blue-900: oklch(37.9% .146 265.522); --color-blue-950: oklch(28.2% .091 267.935); --color-indigo-50: oklch(96.2% .018 272.314); --color-indigo-100: oklch(93% .034 272.788); --color-indigo-200: oklch(87% .065 274.039); --color-indigo-300: oklch(78.5% .115 274.713); --color-indigo-400: oklch(67.3% .182 276.935); --color-indigo-500: oklch(58.5% .233 277.117); --color-indigo-600: oklch(51.1% .262 276.966); --color-indigo-700: oklch(45.7% .24 277.023); --color-indigo-800: oklch(39.8% .195 277.366); --color-indigo-900: oklch(35.9% .144 278.697); --color-indigo-950: oklch(25.7% .09 281.288); --color-violet-50: oklch(96.9% .016 293.756); --color-violet-100: oklch(94.3% .029 294.588); --color-violet-200: oklch(89.4% .057 293.283); --color-violet-300: oklch(81.1% .111 293.571); --color-violet-400: oklch(70.2% .183 293.541); --color-violet-500: oklch(60.6% .25 292.717); --color-violet-600: oklch(54.1% .281 293.009); --color-violet-700: oklch(49.1% .27 292.581); --color-violet-800: oklch(43.2% .232 292.759); --color-violet-900: oklch(38% .189 293.745); --color-violet-950: oklch(28.3% .141 291.089); --color-purple-50: oklch(97.7% .014 308.299); --color-purple-100: oklch(94.6% .033 307.174); --color-purple-200: oklch(90.2% .063 306.703); --color-purple-300: oklch(82.7% .119 306.383); --color-purple-400: oklch(71.4% .203 305.504); --color-purple-500: oklch(62.7% .265 303.9); --color-purple-600: oklch(55.8% .288 302.321); --color-purple-700: oklch(49.6% .265 301.924); --color-purple-800: oklch(43.8% .218 303.724); --color-purple-900: oklch(38.1% .176 304.987); --color-purple-950: oklch(29.1% .149 302.717); --color-fuchsia-50: oklch(97.7% .017 320.058); --color-fuchsia-100: oklch(95.2% .037 318.852); --color-fuchsia-200: oklch(90.3% .076 319.62); --color-fuchsia-300: oklch(83.3% .145 321.434); --color-fuchsia-400: oklch(74% .238 322.16); --color-fuchsia-500: oklch(66.7% .295 322.15); --color-fuchsia-600: oklch(59.1% .293 322.896); --color-fuchsia-700: oklch(51.8% .253 323.949); --color-fuchsia-800: oklch(45.2% .211 324.591); --color-fuchsia-900: oklch(40.1% .17 325.612); --color-fuchsia-950: oklch(29.3% .136 325.661); --color-pink-50: oklch(97.1% .014 343.198); --color-pink-100: oklch(94.8% .028 342.258); --color-pink-200: oklch(89.9% .061 343.231); --color-pink-300: oklch(82.3% .12 346.018); --color-pink-400: oklch(71.8% .202 349.761); --color-pink-500: oklch(65.6% .241 354.308); --color-pink-600: oklch(59.2% .249 .584); --color-pink-700: oklch(52.5% .223 3.958); --color-pink-800: oklch(45.9% .187 3.815); --color-pink-900: oklch(40.8% .153 2.432); --color-pink-950: oklch(28.4% .109 3.907); --color-rose-50: oklch(96.9% .015 12.422); --color-rose-100: oklch(94.1% .03 12.58); --color-rose-200: oklch(89.2% .058 10.001); --color-rose-300: oklch(81% .117 11.638); --color-rose-400: oklch(71.2% .194 13.428); --color-rose-500: oklch(64.5% .246 16.439); --color-rose-600: oklch(58.6% .253 17.585); --color-rose-700: oklch(51.4% .222 16.935); --color-rose-800: oklch(45.5% .188 13.697); --color-rose-900: oklch(41% .159 10.272); --color-rose-950: oklch(27.1% .105 12.094); --color-slate-50: oklch(98.4% .003 247.858); --color-slate-100: oklch(96.8% .007 247.896); --color-slate-200: oklch(92.9% .013 255.508); --color-slate-300: oklch(86.9% .022 252.894); --color-slate-400: oklch(70.4% .04 256.788); --color-slate-500: oklch(55.4% .046 257.417); --color-slate-600: oklch(44.6% .043 257.281); --color-slate-700: oklch(37.2% .044 257.287); --color-slate-800: oklch(27.9% .041 260.031); --color-slate-900: oklch(20.8% .042 265.755); --color-slate-950: oklch(12.9% .042 264.695); --color-gray-50: oklch(98.5% .002 247.839); --color-gray-100: oklch(96.7% .003 264.542); --color-gray-200: oklch(92.8% .006 264.531); --color-gray-300: oklch(87.2% .01 258.338); --color-gray-400: oklch(70.7% .022 261.325); --color-gray-500: oklch(55.1% .027 264.364); --color-gray-600: oklch(44.6% .03 256.802); --color-gray-700: oklch(37.3% .034 259.733); --color-gray-800: oklch(27.8% .033 256.848); --color-gray-900: oklch(21% .034 264.665); --color-gray-950: oklch(13% .028 261.692); --color-zinc-50: oklch(98.5% 0 0); --color-zinc-100: oklch(96.7% .001 286.375); --color-zinc-200: oklch(92% .004 286.32); --color-zinc-300: oklch(87.1% .006 286.286); --color-zinc-400: oklch(70.5% .015 286.067); --color-zinc-500: oklch(55.2% .016 285.938); --color-zinc-600: oklch(44.2% .017 285.786); --color-zinc-700: oklch(37% .013 285.805); --color-zinc-800: oklch(27.4% .006 286.033); --color-zinc-900: oklch(21% .006 285.885); --color-zinc-950: oklch(14.1% .005 285.823); --color-neutral-50: oklch(98.5% 0 0); --color-neutral-100: oklch(97% 0 0); --color-neutral-200: oklch(92.2% 0 0); --color-neutral-300: oklch(87% 0 0); --color-neutral-400: oklch(70.8% 0 0); --color-neutral-500: oklch(55.6% 0 0); --color-neutral-600: oklch(43.9% 0 0); --color-neutral-700: oklch(37.1% 0 0); --color-neutral-800: oklch(26.9% 0 0); --color-neutral-900: oklch(20.5% 0 0); --color-neutral-950: oklch(14.5% 0 0); --color-stone-50: oklch(98.5% .001 106.423); --color-stone-100: oklch(97% .001 106.424); --color-stone-200: oklch(92.3% .003 48.717); --color-stone-300: oklch(86.9% .005 56.366); --color-stone-400: oklch(70.9% .01 56.259); --color-stone-500: oklch(55.3% .013 58.071); --color-stone-600: oklch(44.4% .011 73.639); --color-stone-700: oklch(37.4% .01 67.558); --color-stone-800: oklch(26.8% .007 34.298); --color-stone-900: oklch(21.6% .006 56.043); --color-stone-950: oklch(14.7% .004 49.25); --color-black: #000; --color-white: #fff; --spacing: .25rem; --breakpoint-sm: 40rem; --breakpoint-md: 48rem; --breakpoint-lg: 64rem; --breakpoint-xl: 80rem; --breakpoint-2xl: 96rem; --container-3xs: 16rem; --container-2xs: 18rem; --container-xs: 20rem; --container-sm: 24rem; --container-md: 28rem; --container-lg: 32rem; --container-xl: 36rem; --container-2xl: 42rem; --container-3xl: 48rem; --container-4xl: 56rem; --container-5xl: 64rem; --container-6xl: 72rem; --container-7xl: 80rem; --text-xs: .75rem; --text-xs--line-height: calc(1 / .75); --text-sm: .875rem; --text-sm--line-height: calc(1.25 / .875); --text-base: 1rem; --text-base--line-height: 1.5 ; --text-lg: 1.125rem; --text-lg--line-height: calc(1.75 / 1.125); --text-xl: 1.25rem; --text-xl--line-height: calc(1.75 / 1.25); --text-2xl: 1.5rem; --text-2xl--line-height: calc(2 / 1.5); --text-3xl: 1.875rem; --text-3xl--line-height: 1.2 ; --text-4xl: 2.25rem; --text-4xl--line-height: calc(2.5 / 2.25); --text-5xl: 3rem; --text-5xl--line-height: 1; --text-6xl: 3.75rem; --text-6xl--line-height: 1; --text-7xl: 4.5rem; --text-7xl--line-height: 1; --text-8xl: 6rem; --text-8xl--line-height: 1; --text-9xl: 8rem; --text-9xl--line-height: 1; --font-weight-thin: 100; --font-weight-extralight: 200; --font-weight-light: 300; --font-weight-normal: 400; --font-weight-medium: 500; --font-weight-semibold: 600; --font-weight-bold: 700; --font-weight-extrabold: 800; --font-weight-black: 900; --tracking-tighter: -.05em; --tracking-tight: -.025em; --tracking-normal: 0em; --tracking-wide: .025em; --tracking-wider: .05em; --tracking-widest: .1em; --leading-tight: 1.25; --leading-snug: 1.375; --leading-normal: 1.5; --leading-relaxed: 1.625; --leading-loose: 2; --radius-xs: .125rem; --radius-sm: .25rem; --radius-md: .375rem; --radius-lg: .5rem; --radius-xl: .75rem; --radius-2xl: 1rem; --radius-3xl: 1.5rem; --radius-4xl: 2rem; --shadow-2xs: 0 1px rgb(0 0 0 / .05); --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / .05); --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1); --shadow-md: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1); --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1); --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1); --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / .25); --inset-shadow-2xs: inset 0 1px rgb(0 0 0 / .05); --inset-shadow-xs: inset 0 1px 1px rgb(0 0 0 / .05); --inset-shadow-sm: inset 0 2px 4px rgb(0 0 0 / .05); --drop-shadow-xs: 0 1px 1px rgb(0 0 0 / .05); --drop-shadow-sm: 0 1px 2px rgb(0 0 0 / .15); --drop-shadow-md: 0 3px 3px rgb(0 0 0 / .12); --drop-shadow-lg: 0 4px 4px rgb(0 0 0 / .15); --drop-shadow-xl: 0 9px 7px rgb(0 0 0 / .1); --drop-shadow-2xl: 0 25px 25px rgb(0 0 0 / .15); --text-shadow-2xs: 0px 1px 0px rgb(0 0 0 / .15); --text-shadow-xs: 0px 1px 1px rgb(0 0 0 / .2); --text-shadow-sm: 0px 1px 0px rgb(0 0 0 / .075), 0px 1px 1px rgb(0 0 0 / .075), 0px 2px 2px rgb(0 0 0 / .075); --text-shadow-md: 0px 1px 1px rgb(0 0 0 / .1), 0px 1px 2px rgb(0 0 0 / .1), 0px 2px 4px rgb(0 0 0 / .1); --text-shadow-lg: 0px 1px 2px rgb(0 0 0 / .1), 0px 3px 2px rgb(0 0 0 / .1), 0px 4px 8px rgb(0 0 0 / .1); --ease-in: cubic-bezier(.4, 0, 1, 1); --ease-out: cubic-bezier(0, 0, .2, 1); --ease-in-out: cubic-bezier(.4, 0, .2, 1); --animate-spin: spin 1s linear infinite; --animate-ping: ping 1s cubic-bezier(0, 0, .2, 1) infinite; --animate-pulse: pulse 2s cubic-bezier(.4, 0, .6, 1) infinite; --animate-bounce: bounce 1s infinite; @keyframes spin { to { transform: rotate(360deg); } } @keyframes ping { 75%, 100% { transform: scale(2); opacity: 0; } } @keyframes pulse { 50% { opacity: .5; } } @keyframes bounce { 0%, 100% { transform: translateY(-25%); animation-timing-function: cubic-bezier(.8, 0, 1, 1); } 50% { transform: none; animation-timing-function: cubic-bezier(0, 0, .2, 1); } } --blur-xs: 4px; --blur-sm: 8px; --blur-md: 12px; --blur-lg: 16px; --blur-xl: 24px; --blur-2xl: 40px; --blur-3xl: 64px; --perspective-dramatic: 100px; --perspective-near: 300px; --perspective-normal: 500px; --perspective-midrange: 800px; --perspective-distant: 1200px; --aspect-video: 16 / 9; --default-transition-duration: .15s; --default-transition-timing-function: cubic-bezier(.4, 0, .2, 1); --default-font-family: --theme(--font-sans, initial); --default-font-feature-settings: --theme( --font-sans--font-feature-settings, initial ); --default-font-variation-settings: --theme( --font-sans--font-variation-settings, initial ); --default-mono-font-family: --theme(--font-mono, initial); --default-mono-font-feature-settings: --theme( --font-mono--font-feature-settings, initial ); --default-mono-font-variation-settings: --theme( --font-mono--font-variation-settings, initial ); }@theme default inline reference{ --blur: 8px; --shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1); --shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / .05); --drop-shadow: 0 1px 2px rgb(0 0 0 / .1), 0 1px 1px rgb(0 0 0 / .06); --radius: .25rem; --max-width-prose: 65ch; }}@layer base{*,:after,:before,::backdrop,::file-selector-button{box-sizing:border-box;margin:0;padding:0;border:0 solid}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:--theme(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:--theme(--default-font-feature-settings,normal);font-variation-settings:--theme(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:--theme(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:--theme(--default-mono-font-feature-settings,normal);font-variation-settings:--theme(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea,::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;border-radius:0;background-color:transparent;opacity:1}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not (-webkit-appearance: -apple-pay-button)) or (contain-intrinsic-size: 1px){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit,::-webkit-datetime-edit-year-field,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute-field,::-webkit-datetime-edit-second-field,::-webkit-datetime-edit-millisecond-field,::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]),::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer utilities{@tailwind utilities;}@theme{ --font-sans: "Inter", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; }html,body{@apply bg-white dark:bg-gray-950;}@media (prefers-color-scheme: dark){html,body{color-scheme:dark}}.planet-list{display:flex;flex-direction:column!important;gap:.75rem;max-height:400px;overflow-y:auto;overflow-x:hidden;padding-right:.5rem}.resource-item{display:flex;justify-content:space-between;padding:.5rem;background:var(--primary-dark);border-radius:4px;font-size:.75rem}.sidebar .planet-list{display:flex;flex-direction:column!important;gap:.75rem;max-height:400px;overflow-y:auto!important;overflow-x:hidden!important;padding-right:.5rem}.manager-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid var(--border-color)}.manager-header h2{margin:0;color:var(--primary-orange)}.header-actions{display:flex;gap:1rem}.planet-list{display:flex;flex-direction:column!important;gap:.75rem;max-height:400px;overflow-y:auto!important;overflow-x:hidden!important;padding-right:.5rem}.stat-row span.positive{color:var(--success-color, #4ade80)!important}.stat-row span.negative,.stat-row span.error{color:var(--error-color, #f87171)!important}.stat-row span.warning{color:var(--warning-color, #fbbf24)!important}.btn-primary:disabled{opacity:.5;cursor:not-allowed;background:var(--border-color)}.btn-primary:disabled:hover{background:var(--border-color);transform:none}:root{--primary-orange: #FF6B35;--primary-dark: #0A0A0A;--primary-light: #1A1A1A;--accent-blue: #00A8E8;--accent-green: #00C896;--accent-purple: #9B59B6;--accent-gold: #FFD700;--status-success: #2ECC40;--status-warning: #FF851B;--status-danger: #FF4136;--status-info: #0074D9;--faction-mud: #8B4513;--faction-oni: #FF1493;--faction-ust: #1E90FF;--border-color: #2A2A2A;--text-primary: #FFFFFF;--text-secondary: #999999;--text-dim: #666666;--spacing-xs: .25rem;--spacing-sm: .5rem;--spacing-md: 1rem;--spacing-lg: 1.5rem;--spacing-xl: 2rem;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--transition-fast: .15s ease;--transition-normal: .3s ease;--transition-slow: .5s ease}.cost-item{display:inline-block;padding:.1rem .3rem;margin:.1rem;background:#0000004d;border-radius:3px;font-size:.65rem;white-space:nowrap}.cost-items-row{display:flex;flex-wrap:wrap;gap:.25rem;margin-top:.25rem}.cost-item.more{background:#ff6b3533;font-style:italic}.resource-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:.75rem;margin-bottom:1rem}.resources-toolbar{display:flex;gap:1.5rem;padding:1.5rem 2rem;background:#0000004d;border-bottom:1px solid rgba(255,255,255,.05);flex-wrap:wrap;align-items:center}.filter-section{display:flex;gap:1rem;align-items:center}.rate-badge.neutral{background:#80808033;border:1px solid rgba(128,128,128,.3);padding:.25rem .5rem;border-radius:6px;font-family:Orbitron,monospace;font-weight:600}*{margin:0;padding:0;box-sizing:border-box}body{background-color:var(--primary-dark);color:var(--text-primary);font-family:"Exo 2",-apple-system,BlinkMacSystemFont,sans-serif;line-height:1.6;min-height:100vh;overflow-x:hidden}.heading-primary{font-family:Orbitron,monospace;font-weight:800;font-size:2rem;letter-spacing:.05em;text-transform:uppercase}.heading-secondary{font-family:Orbitron,monospace;font-weight:600;font-size:1.5rem;letter-spacing:.02em}.body-text{font-family:"Exo 2",sans-serif;font-weight:400;font-size:1rem;line-height:1.6}.stat-text{font-family:Orbitron,monospace;font-weight:400;font-size:.875rem;letter-spacing:.02em}.btn{font-family:"Exo 2",sans-serif;font-weight:600;padding:.75rem 1.5rem;border:2px solid transparent;border-radius:var(--radius-sm);cursor:pointer;transition:all var(--transition-normal);text-transform:uppercase;letter-spacing:.05em;background:transparent;outline:none}.btn-primary{background:var(--primary-orange);color:#fff;border-color:var(--primary-orange)}.btn-primary:hover{background:#ff8c5a;color:#fff;border-color:#ff8c5a;box-shadow:0 0 20px #ff6b3580;transform:translateY(-1px)}.btn-secondary{background:transparent;color:var(--primary-orange);border-color:var(--border-color)}.btn-secondary:hover{border-color:var(--primary-orange);box-shadow:0 0 10px #ff6b354d}.btn-secondary.active{background:var(--primary-orange);color:#fff;border-color:var(--primary-orange)}.card{background:var(--primary-light);border:1px solid var(--border-color);border-radius:var(--radius-md);padding:var(--spacing-lg);position:relative;overflow:hidden;transition:all var(--transition-normal)}.card:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--primary-orange) 0%,var(--accent-blue) 100%)}.card:hover{border-color:var(--primary-orange);box-shadow:0 4px 12px #ff6b3533}.panel{background:#1a1a1af2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid var(--border-color);border-radius:var(--radius-lg);box-shadow:0 8px 32px #00000080;padding:var(--spacing-lg)}.navigation{background:var(--primary-light);border-bottom:1px solid var(--border-color);padding:var(--spacing-md) var(--spacing-xl);display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:100;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.tool-selector{display:flex;gap:var(--spacing-sm);align-items:center}.tool-button{padding:var(--spacing-sm) var(--spacing-lg);background:transparent;border:2px solid transparent;border-radius:var(--radius-sm);color:var(--text-secondary);cursor:pointer;transition:all var(--transition-normal);font-family:"Exo 2",sans-serif;font-weight:600;text-transform:uppercase;letter-spacing:.05em;display:flex;align-items:center;gap:var(--spacing-sm);text-decoration:none}.tool-button:hover{color:var(--text-primary);border-color:var(--border-color)}.tool-button.active{color:var(--primary-orange);border-color:var(--primary-orange);background:#ff6b351a}.home-button{border-color:var(--border-color);background:#ffffff0d}.home-button:hover{color:var(--primary-orange);border-color:var(--primary-orange);background:#ff6b351a}.home-button .tool-icon{font-size:1.1rem}.divider{width:1px;height:24px;background:var(--border-color);margin:0 var(--spacing-sm)}.global-actions{display:flex;gap:var(--spacing-sm)}.global-actions .btn{padding:var(--spacing-sm) var(--spacing-md);font-size:.875rem}.loading-screen,.error-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;gap:var(--spacing-lg)}.loading-spinner{width:60px;height:60px;border:4px solid var(--border-color);border-top-color:var(--primary-orange);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}@keyframes slideIn{0%{transform:translate(-100%)}to{transform:translate(0)}}@keyframes pulseGlow{0%,to{box-shadow:0 0 5px var(--primary-orange)}50%{box-shadow:0 0 20px var(--primary-orange),0 0 40px var(--primary-orange)}}@keyframes resourceFlow{0%{transform:translate(0);opacity:0}50%{opacity:1}to{transform:translate(100%);opacity:0}}.container{max-width:1920px;margin:0 auto;padding:0 var(--spacing-xl)}.flex{display:flex}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-sm{gap:var(--spacing-sm)}.gap-md{gap:var(--spacing-md)}.gap-lg{gap:var(--spacing-lg)}.text-center{text-align:center}.text-dim{color:var(--text-dim)}.text-secondary{color:var(--text-secondary)}.text-success{color:var(--status-success)}.text-warning{color:var(--status-warning)}.text-danger{color:var(--status-danger)}.text-info{color:var(--status-info)}.grid{display:grid;gap:var(--spacing-md)}.grid-cols-1{grid-template-columns:repeat(1,1fr)}.grid-cols-2{grid-template-columns:repeat(2,1fr)}.grid-cols-3{grid-template-columns:repeat(3,1fr)}.grid-cols-4{grid-template-columns:repeat(4,1fr)}.tool-container{display:grid;grid-template-columns:250px 1fr 300px;gap:var(--spacing-lg);padding:var(--spacing-xl);max-width:1920px;margin:0 auto}.main-content{flex:1}@media (max-width: 1024px){.tool-container{grid-template-columns:1fr}.navigation{flex-direction:column;gap:var(--spacing-md)}.tool-selector{width:100%;justify-content:center;flex-wrap:wrap}.global-actions{width:100%;justify-content:center}}@media (max-width: 768px){.grid-cols-3,.grid-cols-4{grid-template-columns:repeat(2,1fr)}.heading-primary{font-size:1.5rem}.heading-secondary{font-size:1.25rem}.tool-button span:not(.tool-icon){display:none}.tool-button{padding:var(--spacing-sm)}}.starbase-control{max-width:400px;margin:0 auto;overflow:hidden}.starbase-info{text-align:center;margin-bottom:1.5rem}.level-display{margin-bottom:1rem}.level-number{display:inline-block;padding:.5rem 1rem;background:var(--primary-orange);color:#fff;border-radius:var(--radius-sm);font-family:Orbitron,monospace;font-weight:800;font-size:1.25rem;margin-bottom:.5rem}.level-name{font-family:Orbitron,monospace;font-weight:600;color:var(--text-primary);margin:.5rem 0}.progress-bar{width:100%;height:8px;background:var(--border-color);border-radius:4px;overflow:hidden;margin-top:1rem}.progress-fill{height:100%;background:linear-gradient(90deg,var(--primary-orange),var(--accent-blue));transition:width .5s ease}.capabilities-grid{display:grid;gap:1.5rem;margin-bottom:2rem}.capability-section h5{margin-bottom:.75rem;color:var(--text-secondary)}.tier-badges{display:flex;gap:.5rem}.tier-badge{padding:.25rem .75rem;border:2px solid var(--border-color);border-radius:var(--radius-sm);font-family:Orbitron,monospace;font-weight:600;font-size:.875rem;transition:all .3s ease}.tier-badge.unlocked{border-color:var(--accent-green);color:var(--accent-green);background:#00c8961a}.tier-badge.locked{color:var(--text-dim);opacity:.5}.plot-counts{display:grid;grid-template-columns:repeat(auto-fit,minmax(80px,1fr));gap:.5rem}.plot-count{display:flex;justify-content:space-between;padding:.5rem;background:#ffffff0d;border-radius:var(--radius-sm)}.tier-label{color:var(--text-secondary);font-family:Orbitron,monospace}.count{color:var(--primary-orange);font-family:Orbitron,monospace;font-weight:600}.feature-list{list-style:none;padding:0}.feature-item{display:flex;align-items:center;gap:.5rem;padding:.25rem 0}.feature-icon{color:var(--accent-green)}.upgrade-section{border-top:1px solid var(--border-color);padding-top:1.5rem;text-align:center}.upgrade-preview{margin:1rem 0;padding:1rem;background:#ff6b351a;border:1px solid var(--primary-orange);border-radius:var(--radius-md)}.new-features ul{list-style:none;padding:0;margin-top:.5rem}.max-level-badge{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:1rem;background:linear-gradient(135deg,#ffd7001a,#ff6b351a);border:2px solid var(--accent-gold);border-radius:var(--radius-md);margin-top:1rem}.badge-icon{font-size:1.5rem}.badge-text{font-family:Orbitron,monospace;font-weight:600;color:var(--accent-gold)}.claim-stakes-app{min-height:100vh;background:var(--primary-dark);color:var(--text-primary);display:flex;flex-direction:column}.claim-stakes-content{flex:1;display:grid;grid-template-columns:280px 1fr 320px;gap:1rem;padding:1rem;overflow:hidden;box-sizing:border-box;max-width:100vw}.sidebar{background:var(--primary-light);border-radius:8px;padding:1.5rem;overflow-y:auto;overflow-x:hidden;max-height:calc(100vh - 100px);box-sizing:border-box;position:relative}.sidebar.right{padding:1rem}.sidebar-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.sidebar-header h2{font-size:1.25rem;margin:0}.filters{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem}.filter-select,.search-input{width:100%;padding:.5rem;background:var(--primary-dark);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);font-size:.875rem;box-sizing:border-box}.search-input:focus{outline:none;border-color:var(--primary-orange);box-shadow:0 0 10px #ff6b3533}.tier-selector{margin-bottom:1.5rem}.tier-selector h3{font-size:1rem;margin-bottom:.5rem}.tier-buttons{display:grid;grid-template-columns:repeat(5,1fr);gap:.25rem}.tier-button{padding:.5rem;font-size:.75rem;background:var(--primary-dark);border:1px solid var(--border-color);border-radius:4px;color:var(--text-secondary);cursor:pointer;transition:all .2s}.tier-button.active{background:var(--primary-orange);color:#fff;border-color:var(--primary-orange)}.tier-button.locked{opacity:.5;cursor:not-allowed}.planet-list{display:flex;flex-direction:column!important;gap:.75rem;max-height:400px;overflow-y:auto;padding-right:.5rem}.planet-card{display:flex;gap:.75rem;padding:.75rem;background:var(--primary-dark);border:1px solid var(--border-color);border-radius:8px;cursor:pointer;transition:all .2s}.planet-card:hover{border-color:var(--primary-orange);transform:translate(2px)}.planet-card.selected{border-color:var(--primary-orange);background:#ff6b351a}.planet-icon{font-size:2rem;line-height:1}.planet-info h4{margin:0 0 .25rem;font-size:.875rem}.planet-stats{display:flex;gap:.5rem;margin-bottom:.25rem;font-size:.75rem}.faction-badge{padding:.125rem .375rem;border-radius:3px;font-size:.625rem;font-weight:600;text-transform:uppercase}.faction-mud{background:#8b45134d;color:#d2691e}.faction-oni{background:#ff14934d;color:#ff69b4}.faction-ust{background:#1e90ff4d;color:#87ceeb}.rent-cost{color:var(--accent-gold);font-size:.75rem}.resource-badges{display:flex;flex-wrap:wrap;gap:.25rem}.resource-badge{padding:.125rem .375rem;background:#00a8e833;border:1px solid rgba(0,168,232,.5);border-radius:3px;font-size:.625rem;color:var(--accent-blue)}.resource-badge.large{padding:.25rem .5rem;font-size:.75rem}.instances-section{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid var(--border-color)}.instances-section h3{font-size:1rem;margin-bottom:.75rem}.instances-list{display:flex;flex-direction:column;gap:.5rem}.instance-card{padding:.75rem;background:var(--primary-dark);border:1px solid var(--border-color);border-radius:6px;cursor:pointer;transition:all .2s}.instance-card.active{border-color:var(--primary-orange);background:#ff6b351a}.instance-card h5{margin:0 0 .5rem;font-size:.875rem}.instance-stats{display:flex;gap:.75rem;font-size:.75rem;color:var(--text-secondary)}.status-active{color:var(--status-success)}.status-design{color:var(--status-warning)}.main-content{background:var(--primary-light);border-radius:8px;padding:2rem;overflow-y:auto;overflow-x:hidden;max-height:calc(100vh - 100px);box-sizing:border-box;width:100%;display:flex;flex-direction:column}.main-content::-webkit-scrollbar{width:10px}.main-content::-webkit-scrollbar-track{background:#14141e33;border-radius:5px}.main-content::-webkit-scrollbar-thumb{background:#64647866;border-radius:5px}.main-content::-webkit-scrollbar-thumb:hover{background:#64647899}.claim-stake-manager{display:flex;flex-direction:column;gap:2rem;height:100%;overflow:hidden}.manager-header{display:flex;justify-content:space-between;align-items:center;padding-bottom:1rem;border-bottom:1px solid var(--border-color)}.manager-header h2{font-size:1.5rem;margin:0}.quick-stats{display:flex;gap:1.5rem}.stat{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:var(--primary-dark);border-radius:6px;font-size:.875rem}.stat-good{color:var(--status-success)}.stat-bad{color:var(--status-danger)}.stat-warning{color:var(--status-warning)}.building-management{flex:1;display:flex;flex-direction:column;gap:1.5rem;overflow-y:auto;max-height:calc(100vh - 200px);padding-right:.5rem}.building-management::-webkit-scrollbar{width:8px}.building-management::-webkit-scrollbar-track{background:#14141e4d;border-radius:4px}.building-management::-webkit-scrollbar-thumb{background:#64647866;border-radius:4px}.building-management::-webkit-scrollbar-thumb:hover{background:#64647899}.buildings-section h3{font-size:1.25rem;margin-bottom:1rem}.building-filters{margin-bottom:1rem}.current-buildings{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem;margin-bottom:1.5rem;max-height:400px;overflow-y:auto;padding-right:.5rem}.current-buildings::-webkit-scrollbar{width:6px}.current-buildings::-webkit-scrollbar-track{background:#14141e33;border-radius:3px}.current-buildings::-webkit-scrollbar-thumb{background:#6464784d;border-radius:3px}.current-buildings::-webkit-scrollbar-thumb:hover{background:#64647880}.placed-building-card{background:var(--primary-dark);border:1px solid var(--border-color);border-radius:6px;padding:.6rem;margin-bottom:.4rem;transition:all .2s}.placed-building-card.inactive{opacity:.7;border-color:var(--status-warning)}.building-header{display:flex;align-items:flex-start;gap:.5rem;margin-bottom:.4rem}.building-header h4{font-size:.75rem;margin:0;line-height:1.2}.building-tier{font-size:.75rem;color:var(--text-secondary)}.remove-button{margin-left:auto;background:var(--status-danger);color:#fff;border:none;border-radius:4px;padding:.25rem .5rem;font-size:.75rem;cursor:pointer}.building-stats{display:flex;gap:.75rem;font-size:.75rem;color:var(--text-secondary)}.inactive-warning{margin-top:.5rem;padding:.5rem;background:#ff851b1a;border:1px solid var(--status-warning);border-radius:4px;font-size:.75rem;color:var(--status-warning)}.available-buildings h4{font-size:1rem;margin-bottom:1rem}.design-summary-panel{background:#1a1a1af2;border:1px solid var(--primary-orange);border-radius:6px;padding:1rem;margin-bottom:1rem}.design-summary-panel h3{font-family:Orbitron,monospace;font-size:1rem;color:var(--primary-orange);margin:0 0 .75rem;text-transform:uppercase;letter-spacing:.05em}.compact-stats{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem}.stat-row{display:flex;justify-content:space-between;align-items:center;font-size:.9rem;padding:.25rem 0;border-bottom:1px solid rgba(255,255,255,.05)}.stat-row span:first-child{color:#999}.stat-row span:last-child{font-family:Orbitron,monospace;color:#fff;font-weight:600}.stat-row .error{color:var(--status-danger)}.stat-row .positive{color:var(--accent-green)}.compact-requirements h4{font-size:.85rem;color:var(--accent-green);margin:1rem 0 .5rem;text-transform:uppercase;letter-spacing:.05em}.resource-list-compact{display:flex;flex-direction:column;gap:.25rem;margin-bottom:.5rem}.resource-req-compact{display:flex;justify-content:space-between;font-size:.85rem;padding:.2rem 0}.resource-req-compact.ok .res-amounts{color:var(--accent-green)}.resource-req-compact.missing .res-amounts{color:var(--status-danger)}.res-name{color:#999;text-transform:capitalize}.tips-section-compact{display:flex;flex-direction:column;gap:.5rem;margin-top:1rem;padding-top:1rem;border-top:1px solid rgba(255,255,255,.1)}.tips-section-compact .warning{font-size:.85rem;padding:.5rem;background:#ff851b1a;border-left:3px solid var(--status-warning);border-radius:2px}.tips-section-compact .warning.critical{background:#ff41361a;border-left-color:var(--status-danger);color:#f66}.inactive-indicator{display:flex;align-items:center;gap:.5rem;margin-top:.75rem;padding:.375rem .625rem;background:linear-gradient(135deg,#ff413633,#ff6b3526);border:1px solid rgba(255,65,54,.5);border-left:3px solid #ff4136;border-radius:4px;font-size:.8rem;transition:all .3s ease;box-shadow:0 2px 8px #ff413626}.inactive-indicator:hover{background:#ff413640;box-shadow:0 3px 12px #ff413640}.status-dot{width:8px;height:8px;border-radius:50%;background:#ff4136;box-shadow:0 0 8px #ff4136cc;animation:gentle-pulse 2s infinite}@keyframes gentle-pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.7;transform:scale(1.1)}}.status-inactive{background:#ff4136;box-shadow:0 0 6px #ff4136cc}.status-text{color:#f66;font-size:.8rem;font-weight:600;letter-spacing:.025em;text-shadow:0 1px 2px rgba(0,0,0,.5)}.building-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:.75rem;max-height:350px;overflow-y:auto;padding:.5rem .75rem .5rem .5rem}.building-grid::-webkit-scrollbar{width:6px}.building-grid::-webkit-scrollbar-track{background:#14141e33;border-radius:3px}.building-grid::-webkit-scrollbar-thumb{background:#6464784d;border-radius:3px}.building-grid::-webkit-scrollbar-thumb:hover{background:#64647880}.building-card{background:var(--primary-dark);border:1px solid var(--border-color);border-radius:6px;padding:.75rem;cursor:pointer;transition:all .2s;text-align:center;position:relative;overflow:hidden}.building-card:hover{border-color:var(--primary-orange);transform:translateY(-2px);box-shadow:0 4px 12px #ff6b3533}.building-card.tier-1{border-left:3px solid #888}.building-card.tier-2{border-left:3px solid #4CAF50}.building-card.tier-3{border-left:3px solid #2196F3}.building-card.tier-4{border-left:3px solid #9C27B0}.building-card.tier-5{border-left:3px solid #FF9800}.placed-building-card.tier-1{border-left:4px solid #888}.placed-building-card.tier-2{border-left:4px solid #4CAF50}.placed-building-card.tier-3{border-left:4px solid #2196F3}.placed-building-card.tier-4{border-left:4px solid #9C27B0}.placed-building-card.tier-5{border-left:4px solid #FF9800}.building-card .building-icon{font-size:1.5rem;margin-bottom:.25rem}.building-card h5{font-size:.75rem;margin:0 0 .5rem;height:2.25rem;display:flex;align-items:center;justify-content:center}.building-requirements{display:flex;justify-content:center;gap:.5rem;font-size:.625rem;color:var(--text-secondary)}.building-requirements .positive{color:var(--status-success)}.building-requirements .negative{color:var(--status-danger)}.building-description{font-size:.6rem;color:var(--text-secondary);margin:.1rem 0;font-style:italic;line-height:1.2}.building-description-mini{font-size:.55rem;color:var(--text-secondary);margin-top:.3rem;font-style:italic;text-align:left}.resource-info{margin:.4rem 0;padding:.3rem;background:#0003;border-radius:4px;font-size:.6rem}.resource-info strong{display:inline-block;margin-right:.3rem;color:var(--text-primary);font-size:.6rem}.extraction-info,.production-info,.consumption-info{margin:.2rem 0;line-height:1.4}.resource-rate{display:inline-block;padding:.1rem .3rem;margin:.1rem;background:#ffffff0d;border-radius:3px;font-size:.65rem}.resource-rate.positive{color:var(--status-success)}.resource-rate.negative{color:var(--status-danger)}.construction-cost,.construction-cost-preview{margin-top:.5rem;padding:.4rem;background:#ff6b351a;border:1px solid rgba(255,107,53,.3);border-radius:4px;font-size:.65rem}.construction-cost strong,.construction-cost-preview strong{display:block;margin-bottom:.25rem;color:var(--primary-orange)}.cost-item{display:inline-block;padding:.1rem .3rem;margin:.1rem;background:#0000004d;border-radius:3px}.upgrade-section{margin-top:.75rem;padding-top:.75rem;border-top:1px solid var(--border-color)}.btn-upgrade{background:linear-gradient(135deg,#4caf50,#45a049);color:#fff;border:none;padding:.4rem .8rem;border-radius:4px;font-size:.75rem;font-weight:600;cursor:pointer;transition:all .3s;width:100%}.btn-upgrade:hover{background:linear-gradient(135deg,#45a049,#4caf50);box-shadow:0 2px 8px #4caf504d}.upgrade-info{margin-top:.5rem;font-size:.65rem}.upgrade-changes{display:flex;justify-content:space-around;margin-bottom:.5rem;padding:.3rem;background:#4caf501a;border-radius:3px}.upgrade-changes span{color:var(--text-secondary)}.upgrade-cost{padding:.3rem;background:#ff6b351a;border-radius:3px}.upgrade-cost strong{display:block;margin-bottom:.25rem;color:var(--primary-orange);font-size:.65rem}.upgrade-cost span{display:inline-block;padding:.1rem .3rem;margin:.1rem;background:#0000004d;border-radius:3px;font-size:.6rem}.production-preview{margin-top:.5rem;font-size:.6rem;text-align:left}.mini-info{margin:.25rem 0}.mini-info strong{display:block;color:var(--text-secondary);margin-bottom:.1rem}.mini-info span{display:inline-block;padding:.1rem .2rem;margin:.05rem;background:#ffffff0d;border-radius:2px;font-size:.55rem}.available-tags{background:#0000004d;border:1px solid var(--border-color);border-radius:6px;padding:.75rem;margin-bottom:1rem;font-size:.75rem}.available-tags strong{display:block;margin-bottom:.5rem;color:var(--primary-orange)}.tag-list{display:flex;flex-wrap:wrap;gap:.4rem;margin-bottom:.5rem}.tag{padding:.2rem .5rem;border-radius:4px;font-size:.65rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.planet-tag{background:#1e90ff33;border:1px solid rgba(30,144,255,.5);color:#5ba3ff}.building-tag{background:#4caf5033;border:1px solid rgba(76,175,80,.5);color:#4caf50}.tag-info{font-size:.7rem;color:var(--text-secondary);font-style:italic;margin-top:.5rem;padding-top:.5rem;border-top:1px solid rgba(255,255,255,.1)}.tag-info strong{color:var(--primary-orange);font-weight:600}.available-tags-compact{background:#0000004d;border:1px solid var(--border-color);border-radius:6px;padding:.5rem .75rem;margin-bottom:.75rem}.tags-header{display:flex;align-items:center;gap:.5rem}.tags-label{font-size:.75rem;font-weight:600;color:var(--primary-orange);flex-shrink:0}.tag-list-inline{display:flex;flex-wrap:wrap;align-items:center;gap:.3rem}.tag-compact{padding:.15rem .4rem;border-radius:3px;font-size:.6rem;font-weight:600;text-transform:uppercase;letter-spacing:.03em}.tag-compact.planet-tag{background:#1e90ff33;border:1px solid rgba(30,144,255,.5);color:#5ba3ff}.tag-compact.building-tag{background:#4caf5033;border:1px solid rgba(76,175,80,.5);color:#4caf50}.inline-tip{font-size:.65rem;color:var(--text-secondary);font-style:italic;margin-left:.5rem;padding-left:.5rem;border-left:1px solid rgba(255,255,255,.2)}.building-categories{display:flex;gap:.5rem;margin-bottom:1rem;flex-wrap:wrap}.category-btn{padding:.4rem .8rem;background:var(--primary-dark);border:1px solid var(--border-color);border-radius:4px;color:var(--text-secondary);font-size:.75rem;cursor:pointer;transition:all .2s}.category-btn:hover{border-color:var(--primary-orange);color:var(--text-primary)}.category-btn.active{background:var(--primary-orange);border-color:var(--primary-orange);color:#fff}.no-buildings{grid-column:1 / -1;text-align:center;padding:2rem;color:var(--text-secondary);font-style:italic}.design-cost-summary{background:var(--primary-dark);border:1px solid var(--primary-orange);border-radius:8px;padding:1rem;margin:1rem 0}.design-cost-summary h4{font-size:.9rem;margin-bottom:.75rem;color:var(--primary-orange)}.design-stats-summary{display:flex;justify-content:space-around;margin-bottom:1rem;padding:.5rem;background:#0000004d;border-radius:4px}.design-stats-summary span{font-size:.8rem;font-weight:600}.design-stats-summary .positive{color:var(--status-success)}.design-stats-summary .negative{color:var(--status-danger)}.total-construction-cost{padding:.75rem;background:#ff6b351a;border:1px solid rgba(255,107,53,.3);border-radius:4px}.total-construction-cost strong{display:block;margin-bottom:.5rem;color:var(--primary-orange);font-size:.85rem}.cost-breakdown{display:flex;flex-wrap:wrap;gap:.5rem}.cost-breakdown .cost-item{padding:.25rem .5rem;background:#0006;border-radius:4px;font-size:.75rem;color:var(--text-primary)}.resource-storage{background:var(--primary-dark);border-radius:8px;padding:1.5rem}.resource-storage h3{font-size:1rem;margin-bottom:1rem}.claim-stakes-resource-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:.75rem;margin-bottom:1rem}.resource-item{display:flex;justify-content:space-between;padding:.5rem;background:var(--primary-light);border-radius:4px;font-size:.75rem}.resource-name{color:var(--text-secondary)}.resource-amount{font-weight:600;color:var(--accent-blue)}.action-buttons{display:flex;gap:1rem;margin-top:auto}.resource-flow-section h4,.aggregate-section h4,.tips-section h4{font-size:.875rem;margin-bottom:.75rem}.flow-list{display:flex;flex-direction:column;gap:.5rem;font-size:.75rem}.flow-item{display:flex;justify-content:space-between;align-items:center;padding:.5rem;background:var(--primary-dark);border-radius:4px}.flow-values{display:flex;gap:.75rem;font-size:.625rem}.production{color:var(--status-success)}.consumption{color:var(--status-warning)}.net.positive{color:var(--status-success)}.net.negative{color:var(--status-danger)}.aggregate-section{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid var(--border-color)}.aggregate-stats{display:flex;flex-direction:column;gap:.5rem}.aggregate-item{display:flex;justify-content:space-between;padding:.25rem .5rem;background:var(--primary-dark);border-radius:4px;font-size:.75rem}.tips-section{margin-top:1.5rem;padding:1rem;background:#00a8e81a;border:1px solid rgba(0,168,232,.3);border-radius:6px}.tips-section ul{margin:0;padding-left:0;font-size:.85rem;line-height:1.6;list-style:none}.tips-section li{padding:.4rem .6rem;margin:.3rem 0;border-radius:4px;background:#ffffff08;transition:all .3s ease}.tips-section li.warning{background:#ff851b33;color:var(--status-warning);animation:warningPulse 2s ease-in-out infinite}@keyframes warningPulse{0%,to{opacity:1}50%{opacity:.8}}.tips-section li.warning.critical{background:#ff41364d;color:#ff4136;border:1px solid rgba(255,65,54,.5);font-weight:600;animation:criticalPulse 1s ease-in-out infinite}.tips-section li.warning.critical strong{color:#ff4136;text-transform:uppercase}@keyframes criticalPulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.9;transform:scale(1.02)}}.empty-state,.planet-details{text-align:center;padding:3rem}.planet-info-grid{display:grid;grid-template-columns:1fr 1fr;gap:2rem;margin:2rem 0;text-align:left}.info-section h3{font-size:1rem;margin-bottom:.75rem}.resource-list{display:flex;flex-wrap:wrap;gap:.5rem}@media (max-width: 1440px){.claim-stakes-content{grid-template-columns:240px 1fr 280px}.building-grid{grid-template-columns:repeat(auto-fill,minmax(120px,1fr))}}@media (max-width: 1024px){.claim-stakes-content{grid-template-columns:1fr}.sidebar,.sidebar.right{display:none}}.crafting-hab-app{min-height:100vh;background:var(--primary-dark);color:var(--text-primary);display:flex;flex-direction:column}.crafting-hab-content{flex:1;display:grid;grid-template-columns:280px 1fr 300px;gap:1rem;padding:1rem;overflow:hidden;box-sizing:border-box}.starbase-list{display:flex;flex-direction:column;gap:.75rem}.starbase-card{background:var(--primary-dark);border:1px solid var(--border-color);border-radius:8px;padding:1rem;cursor:pointer;transition:all .2s}.starbase-card:hover{border-color:var(--primary-orange)}.starbase-card.selected{border-color:var(--primary-orange);background:#ff6b351a}.starbase-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.starbase-header h3{font-size:1rem;margin:0}.starbase-info{display:flex;justify-content:space-between;font-size:.875rem;color:var(--text-secondary)}.starbase-inventory{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid var(--border-color)}.starbase-inventory h3{font-size:1rem;margin-bottom:.75rem}.hab-management{display:flex;flex-direction:column;gap:2rem}.management-header h2{font-size:1.5rem;margin:0}.plot-section h3{font-size:1.25rem;margin-bottom:1rem}.plot-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:.75rem}.plot-card{background:var(--primary-dark);border:2px solid var(--border-color);border-radius:8px;padding:1rem;text-align:center;transition:all .2s;position:relative}.plot-card.rented{cursor:pointer}.plot-card.rented:hover{border-color:var(--primary-orange)}.plot-card.selected{border-color:var(--primary-orange);background:#ff6b351a}.plot-tier{font-size:1.25rem;font-weight:600;margin-bottom:.5rem;color:var(--primary-orange)}.plot-status{font-size:.875rem;margin-bottom:.5rem}.plot-card .btn-sm{padding:.25rem .75rem;font-size:.75rem;position:relative;z-index:10;background:var(--primary-orange);color:#fff;font-weight:600;text-shadow:0 1px 2px rgba(0,0,0,.5);border:2px solid var(--primary-orange)}.plot-card .btn-sm:hover{background:var(--primary-orange);color:#fff;transform:translateY(-1px)}.hab-designer{background:#1a1a1a80;border:1px solid var(--border-color);border-radius:8px;padding:1.5rem}.hab-designer h3{font-size:1.25rem;margin-bottom:1rem}.design-area{display:grid;grid-template-columns:1fr 1fr;gap:2rem}.current-design h4,.available-buildings h4{font-size:1rem;margin-bottom:.75rem}.building-list{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem}.hab-building-card{display:flex;align-items:center;gap:.75rem;padding:.75rem;background:var(--primary-dark);border:1px solid var(--border-color);border-radius:6px;font-size:.875rem}.building-type{padding:.25rem .5rem;background:var(--primary-orange);color:#fff;border-radius:4px;font-size:.75rem;text-transform:uppercase}.building-size{padding:.125rem .375rem;background:var(--accent-blue);color:#fff;border-radius:3px;font-size:.75rem}.remove-btn{margin-left:auto;background:var(--status-danger);color:#fff;border:none;border-radius:4px;padding:.25rem .5rem;font-size:.75rem;cursor:pointer}.design-stats{display:flex;gap:1rem;padding:.75rem;background:#00a8e81a;border:1px solid rgba(0,168,232,.3);border-radius:6px}.design-stats .stat{display:flex;flex-direction:column;align-items:center}.design-stats .stat span:first-child{font-size:.75rem;color:var(--text-secondary)}.design-stats .stat span:last-child{font-size:1rem;font-weight:600;color:var(--accent-blue)}.building-category{margin-bottom:1.5rem}.building-category h5{font-size:.875rem;margin-bottom:.5rem;color:var(--text-secondary)}.building-options{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:.5rem}.building-option{padding:.75rem;background:var(--primary-dark);border:1px solid var(--border-color);border-radius:6px;color:var(--text-primary);cursor:pointer;transition:all .2s;font-size:.875rem}.building-option:hover:not(:disabled){border-color:var(--primary-orange);background:#ff6b351a}.crafting-interface{margin-top:2rem;padding-top:2rem;border-top:1px solid var(--border-color)}.crafting-interface h3{font-size:1.25rem;margin-bottom:1rem}.recipe-filters{display:flex;gap:1rem;margin-bottom:1rem}.recipe-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:.75rem;max-height:300px;overflow-y:auto;padding:.5rem}.recipe-card{background:var(--primary-dark);border:1px solid var(--border-color);border-radius:6px;padding:1rem;cursor:pointer;transition:all .2s}.recipe-card:hover:not(.disabled){border-color:var(--primary-orange)}.recipe-card.selected{border-color:var(--primary-orange);background:#ff6b351a}.recipe-card.disabled{opacity:.5;cursor:not-allowed}.recipe-card h5{font-size:.875rem;margin:0 0 .5rem}.recipe-tier{font-size:.75rem;color:var(--text-secondary);margin-bottom:.5rem}.recipe-ingredients{display:flex;flex-wrap:wrap;gap:.25rem;margin-bottom:.5rem;font-size:.625rem}.ingredient{padding:.125rem .375rem;background:#ffffff1a;border-radius:3px}.recipe-output{font-size:.75rem;color:var(--status-success);font-weight:600}.craft-controls{margin-top:1rem;padding:1rem;background:#00a8e81a;border:1px solid rgba(0,168,232,.3);border-radius:6px}.craft-controls h4{font-size:1rem;margin-bottom:.75rem}.quantity-selector{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem}.quantity-selector input{width:80px;padding:.5rem;background:var(--primary-dark);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary)}.craft-summary{display:flex;justify-content:space-between;margin-bottom:1rem;font-size:.875rem;color:var(--text-secondary)}.job-queue{display:flex;flex-direction:column;gap:.75rem;max-height:400px;overflow-y:auto}.job-card{background:var(--primary-dark);border:1px solid var(--border-color);border-radius:6px;padding:1rem;transition:all .2s}.job-card.active{border-color:var(--accent-blue)}.job-card.completed{border-color:var(--status-success)}.job-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.job-header h4{font-size:.875rem;margin:0}.job-quantity{font-size:.75rem;color:var(--text-secondary)}.job-plot{font-size:.75rem;color:var(--text-secondary);margin-bottom:.5rem}.progress-bar{height:6px;background:var(--border-color);border-radius:3px;overflow:hidden;margin-bottom:.5rem}.progress-fill{height:100%;background:linear-gradient(90deg,var(--accent-blue),var(--accent-green));transition:width .1s linear}.job-status{font-size:.75rem;text-align:center;margin-bottom:.5rem}.empty-jobs{text-align:center;padding:2rem;color:var(--text-dim);font-size:.875rem}.output-summary{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid var(--border-color)}.output-summary h4{font-size:.875rem;margin-bottom:.75rem}.output-list{display:flex;flex-direction:column;gap:.5rem}.output-item{padding:.5rem;background:#2ecc401a;border:1px solid rgba(46,204,64,.3);border-radius:4px;font-size:.75rem;color:var(--status-success)}@media (max-width: 1440px){.crafting-hab-content{grid-template-columns:240px 1fr 280px}.design-area{grid-template-columns:1fr}}@media (max-width: 1024px){.crafting-hab-content{grid-template-columns:1fr}.sidebar,.sidebar.right{display:none}}.recipes-app{min-height:100vh;background:var(--primary-dark);color:var(--text-primary);display:flex;flex-direction:column}.recipes-content{flex:1;display:grid;grid-template-columns:300px 1fr 320px;gap:1rem;padding:1rem;overflow:hidden;box-sizing:border-box}.search-section{margin-bottom:1rem;width:100%;box-sizing:border-box}.recipe-list{display:flex;flex-direction:column;gap:.75rem;max-height:calc(100vh - 300px);overflow-y:auto;padding-right:.5rem;box-sizing:border-box}.recipe-list-item{background:var(--primary-dark);border:1px solid var(--border-color);border-radius:8px;padding:1rem;cursor:pointer;transition:all .2s}.recipe-list-item:hover{border-color:var(--primary-orange);transform:translate(2px)}.recipe-list-item.selected{border-color:var(--primary-orange);background:#ff6b351a}.recipe-list-item.insufficient{opacity:.7}.recipe-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.recipe-header h4{font-size:.875rem;margin:0}.tier-badge{padding:.25rem .5rem;border-radius:4px;font-size:.75rem;font-weight:600}.tier-1{background:#2ecc4033;color:#2ecc40}.tier-2{background:#00a8e833;color:#00a8e8}.tier-3{background:#9b59b633;color:#9b59b6}.tier-4{background:#ff851b33;color:#ff851b}.tier-5{background:#ff413633;color:#ff4136}.recipe-quick-info{display:flex;gap:1rem;margin-bottom:.5rem;font-size:.75rem;color:var(--text-secondary)}.recipe-io{display:flex;align-items:center;gap:.5rem;font-size:.75rem}.inputs,.output{display:flex;flex-wrap:wrap;gap:.25rem}.ingredient-chip,.output-chip{padding:.125rem .375rem;background:#ffffff1a;border-radius:3px}.output-chip{background:#00c89633;color:var(--accent-green)}.arrow{color:var(--primary-orange);font-weight:700}.visualization-container{display:flex;flex-direction:column;height:100%}.visualization-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.visualization-header h2{font-size:1.5rem;margin:0}.view-controls{display:flex;gap:.5rem}.view-btn{padding:.5rem 1rem;background:transparent;border:1px solid var(--border-color);border-radius:4px;color:var(--text-secondary);cursor:pointer;transition:all .2s;font-size:.875rem}.view-btn.active{background:var(--primary-orange);color:#fff;border-color:var(--primary-orange)}.recipe-tree-canvas{background:#1a1a1a80;border:1px solid var(--border-color);border-radius:8px;cursor:crosshair}.quantity-control{display:flex;align-items:center;gap:1rem;margin-top:1rem;padding:1rem;background:var(--primary-dark);border-radius:6px}.quantity-control label{font-size:.875rem;color:var(--text-secondary)}.quantity-control input{width:100px;padding:.5rem;background:var(--primary-light);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary)}.empty-visualization{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center;color:var(--text-secondary)}.analysis-section{margin-bottom:1.5rem;padding:1rem;background:var(--primary-dark);border-radius:6px}.analysis-section h3{font-size:1rem;margin-bottom:.75rem}.resource-requirements h4{font-size:.875rem;margin-bottom:.5rem;color:var(--text-secondary)}.requirement-item{display:flex;justify-content:space-between;align-items:center;padding:.5rem;margin-bottom:.25rem;background:#ffffff05;border-radius:4px}.resource-name{font-size:.875rem}.requirement-amounts{display:flex;gap:.5rem;font-size:.875rem}.required{font-weight:600}.required.sufficient{color:var(--status-success)}.required.insufficient{color:var(--status-danger)}.available{color:var(--text-secondary)}.time-breakdown{display:flex;flex-direction:column;gap:.5rem}.time-stat{display:flex;justify-content:space-between;padding:.5rem;background:#ffffff05;border-radius:4px;font-size:.875rem}.time-stat .value{font-weight:600;color:var(--accent-blue)}.efficiency-display{display:flex;align-items:center;gap:1rem}.efficiency-meter{flex:1;height:20px;background:var(--border-color);border-radius:10px;overflow:hidden}.efficiency-fill{height:100%;background:linear-gradient(90deg,var(--status-danger),var(--status-warning),var(--status-success));transition:width .5s ease}.efficiency-value{font-size:1.25rem;font-weight:600;color:var(--accent-green)}.tips-list{margin:0;padding-left:1.25rem;font-size:.875rem;line-height:1.6;color:var(--text-secondary)}.tips-list li{margin-bottom:.5rem}.empty-analysis{text-align:center;padding:2rem;color:var(--text-dim)}.action-buttons{display:flex;flex-direction:column;gap:.75rem}@media (max-width: 1440px){.recipes-content{grid-template-columns:280px 1fr 300px}}@media (max-width: 1200px){.recipes-content{grid-template-columns:250px 1fr 280px}.recipe-tree-canvas{width:100%;max-width:100%;height:500px}}@media (max-width: 1024px){.recipes-content{grid-template-columns:1fr;gap:1rem}.recipes-content .sidebar{max-height:250px;margin-bottom:1rem}.recipes-content .sidebar.right{margin-top:1rem}.visualization-container{padding:1rem}.tree-container{overflow-x:auto;overflow-y:hidden}}@media (max-width: 768px){.recipes-content{padding:.5rem}.recipe-list{max-height:200px}.recipe-tree-canvas{width:100%;height:400px}.analysis-section{padding:.75rem}.resource-requirements{font-size:.875rem}}.resource-manager{background:var(--primary-light);border-radius:12px;padding:1.5rem;margin-top:1rem}.manager-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.manager-header h3{margin:0;font-size:1.25rem}.individual-view,.aggregate-view{display:flex;flex-direction:column;gap:1rem}.stake-resources{background:var(--primary-dark);border:1px solid var(--border-color);border-radius:8px;overflow:hidden}.stake-header{display:flex;justify-content:space-between;align-items:center;padding:1rem;cursor:pointer;transition:background .2s}.stake-header:hover{background:#ffffff05}.stake-info h4{margin:0 0 .25rem;font-size:1rem}.planet-name{font-size:.875rem;color:var(--text-secondary)}.stake-summary{display:flex;align-items:center;gap:.75rem}.storage-indicator{font-size:.875rem;color:var(--text-dim)}.btn-icon{background:transparent;border:1px solid var(--border-color);border-radius:4px;padding:.25rem .5rem;cursor:pointer;font-size:1rem;transition:all .2s}.btn-icon:hover{background:var(--primary-orange);border-color:var(--primary-orange)}.expand-icon{color:var(--text-secondary);transition:transform .2s}.stake-details{padding:1rem;border-top:1px solid var(--border-color);animation:slideDown .3s ease}@keyframes slideDown{0%{opacity:0;max-height:0}to{opacity:1;max-height:1000px}}.flow-table{width:100%;border-collapse:collapse;margin-bottom:1rem}.flow-table th{text-align:left;padding:.5rem;border-bottom:1px solid var(--border-color);font-size:.75rem;text-transform:uppercase;color:var(--text-secondary)}.flow-table td{padding:.5rem;font-size:.875rem;border-bottom:1px solid rgba(255,255,255,.05)}.flow-table .resource-name{font-weight:500}.flow-table .extraction{color:var(--accent-blue)}.flow-table .production{color:var(--accent-green)}.flow-table .consumption{color:var(--status-warning)}.flow-table .storage{color:var(--text-dim)}.flow-table .actions button{padding:.25rem .5rem;font-size:.75rem}.stake-actions{display:flex;gap:.5rem}.aggregate-summary{background:var(--primary-dark);border-radius:8px;padding:1rem}.aggregate-summary h4{margin-top:0}.aggregate-actions{display:flex;justify-content:center;margin-top:1rem}.starbase-inventory-section{margin-top:2rem;padding-top:1.5rem;border-top:1px solid var(--border-color)}.inventory-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:.5rem;margin:1rem 0}.inventory-item{display:flex;justify-content:space-between;padding:.5rem;background:var(--primary-dark);border-radius:4px}.transfer-modal{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--primary-light);border:2px solid var(--primary-orange);border-radius:12px;padding:2rem;z-index:1000;min-width:400px;box-shadow:0 20px 60px #000c}.transfer-info{display:flex;align-items:center;gap:1rem;margin:1rem 0;padding:1rem;background:var(--primary-dark);border-radius:6px}.transfer-resources{margin:1.5rem 0}.transfer-item{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.transfer-item input{width:100px;padding:.25rem .5rem;background:var(--primary-dark);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary)}.transfer-actions{display:flex;justify-content:flex-end;gap:.5rem}.plot-filters{display:flex;gap:.5rem;margin-bottom:1rem}.tier-filter-btn{padding:.5rem 1rem;background:transparent;border:1px solid var(--border-color);border-radius:4px;color:var(--text-secondary);cursor:pointer;transition:all .2s;font-size:.875rem}.tier-filter-btn.active{background:var(--primary-orange);border-color:var(--primary-orange);color:#fff}.tier-filter-btn:hover:not(.active){border-color:var(--primary-orange)}.plot-grid.filtered{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:.75rem;max-height:400px;overflow-y:auto;padding:.5rem}.achievement-button{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:transparent;border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);cursor:pointer;transition:all .2s}.achievement-button:hover{border-color:var(--primary-orange);background:#ff6b351a}.achievement-progress{font-size:.875rem;color:var(--text-secondary)}.achievement-panel{position:fixed;top:80px;left:50%;transform:translate(-50%);width:90%;max-width:800px;max-height:calc(100vh - 120px);background:var(--primary-dark);border:1px solid var(--border-color);border-radius:12px;box-shadow:0 20px 60px #000c;z-index:1000;overflow:hidden;display:flex;flex-direction:column}.achievement-panel .panel-header{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid var(--border-color)}.achievement-panel .close-button{background:transparent;border:none;color:var(--text-secondary);font-size:2rem;cursor:pointer;padding:0;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.achievement-panel .close-button:hover{background:#ffffff1a;color:var(--text-primary)}.achievement-progress-bar{position:relative;height:30px;background:#ffffff0d;margin:1rem 1.5rem;border-radius:15px;overflow:hidden}.achievement-progress-bar .progress-fill{position:absolute;top:0;left:0;bottom:0;background:linear-gradient(90deg,var(--primary-orange),var(--accent-gold));transition:width .5s ease}.achievement-progress-bar .progress-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-weight:600;color:var(--text-primary);text-shadow:0 1px 2px rgba(0,0,0,.5)}.category-filters{display:flex;gap:.5rem;padding:0 1.5rem;margin-bottom:1rem}.category-btn{padding:.5rem 1rem;background:transparent;border:1px solid var(--border-color);border-radius:20px;color:var(--text-secondary);cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:.5rem}.category-btn:hover{border-color:var(--category-color, var(--primary-orange))}.category-btn.active{background:var(--category-color, var(--primary-orange));border-color:var(--category-color, var(--primary-orange));color:#fff}.achievement-list{flex:1;overflow-y:auto;padding:1rem 1.5rem;display:grid;gap:1rem}.achievement-item{display:flex;gap:1rem;padding:1rem;background:#ffffff05;border:1px solid var(--border-color);border-radius:8px;transition:all .2s}.achievement-item.unlocked{background:#00c8960d;border-color:#00c8964d}.achievement-item.locked{opacity:.6}.achievement-item .achievement-icon{font-size:2.5rem;width:60px;height:60px;display:flex;align-items:center;justify-content:center;background:#ffffff0d;border-radius:12px}.achievement-details{flex:1}.achievement-details h4{margin:0 0 .5rem;color:var(--text-primary)}.achievement-details p{margin:0;color:var(--text-secondary);font-size:.875rem}.unlock-date{display:inline-block;margin-top:.5rem;font-size:.75rem;color:var(--status-success)}.achievement-progress{display:flex;flex-direction:column;gap:.25rem;align-items:flex-end}.mini-progress-bar{width:100px;height:4px;background:#ffffff1a;border-radius:2px;overflow:hidden}.mini-progress-fill{height:100%;background:var(--primary-orange);transition:width .3s ease}.progress-numbers{font-size:.75rem;color:var(--text-secondary)}.save-load-panel{position:fixed;top:80px;left:50%;transform:translate(-50%);width:90%;max-width:600px;max-height:calc(100vh - 120px);background:var(--primary-dark);border:1px solid var(--border-color);border-radius:12px;box-shadow:0 20px 60px #000c;z-index:1000;overflow:hidden;display:flex;flex-direction:column}.save-load-panel .panel-header{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid var(--border-color)}.save-load-panel .panel-content{flex:1;overflow-y:auto;padding:1.5rem}.save-load-panel .close-button{background:transparent;border:none;color:var(--text-secondary);font-size:2rem;cursor:pointer;padding:0;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.save-load-panel .close-button:hover{background:#ffffff1a;color:var(--text-primary)}.save-input-group{display:flex;gap:1rem;margin-bottom:1rem}.save-input-group input{flex:1;padding:.75rem;background:#ffffff0d;border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);font-size:1rem}.save-input-group input:focus{outline:none;border-color:var(--primary-orange)}.import-section{margin-bottom:1.5rem;text-align:center}.import-button{display:inline-block;padding:.75rem 1.5rem;background:var(--primary-light);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);cursor:pointer;transition:all .2s}.import-button:hover{background:#ff6b351a;border-color:var(--primary-orange)}.save-slots{display:flex;flex-direction:column;gap:.75rem}.no-saves{text-align:center;color:var(--text-secondary);padding:2rem}.save-slot{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:#ffffff05;border:1px solid var(--border-color);border-radius:8px;transition:all .2s}.save-slot:hover{background:#ffffff0d;border-color:#ff6b354d}.save-info h4{margin:0 0 .25rem;color:var(--text-primary)}.save-date{font-size:.875rem;color:var(--text-secondary)}.save-actions{display:flex;gap:.5rem}.btn-danger{background:var(--status-danger);border-color:var(--status-danger);color:#fff}.btn-danger:hover{background:#dc2626;color:#fff;border-color:var(--status-danger);box-shadow:0 0 15px #ff41364d;transform:translateY(-1px)}.notification-container{position:fixed;top:1rem;right:1rem;z-index:9999;display:flex;flex-direction:column;gap:.75rem;pointer-events:none}.notification{display:flex;align-items:center;gap:.75rem;padding:1rem 1.25rem;background:#0a0a0a;border:2px solid;border-radius:8px;box-shadow:0 4px 20px #000c;pointer-events:all;animation:slideInRight .3s ease-out;min-width:300px;max-width:500px;-webkit-backdrop-filter:none;backdrop-filter:none}@keyframes slideInRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.notification-success{border-color:var(--status-success);background:linear-gradient(135deg,#0a0a0a,#0d1f0f)}.notification-error{border-color:var(--status-danger);background:linear-gradient(135deg,#0a0a0a,#1f0d0c)}.notification-warning{border-color:var(--status-warning);background:linear-gradient(135deg,#0a0a0a,#1f130a)}.notification-info{border-color:var(--status-info);background:linear-gradient(135deg,#0a0a0a,#0a111f)}.notification-icon{font-size:1.25rem}.notification-message{flex:1;color:var(--text-primary)}.notification-close{background:transparent;border:none;color:var(--text-secondary);font-size:1.5rem;cursor:pointer;padding:0;margin:-.5rem -.5rem -.5rem 0;width:2rem;height:2rem;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.notification-close:hover{background:#ffffff1a;color:var(--text-primary)}.global-resource-panel{position:fixed;right:0;top:60px;bottom:0;width:320px;background:var(--primary-dark);border-left:1px solid var(--border-color);display:flex;flex-direction:column;z-index:100;box-shadow:-2px 0 10px #0000004d;animation:slideInFromRight .3s ease-out}@keyframes slideInFromRight{0%{transform:translate(100%)}to{transform:translate(0)}}.global-resource-panel .panel-header{padding:1rem;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;background:#ff6b350d}.global-resource-panel .panel-header h3{margin:0;font-size:1.1rem;font-family:Orbitron,monospace}.global-resource-panel .panel-actions{display:flex;gap:.5rem}.global-resource-panel .btn-icon{background:transparent;border:1px solid var(--border-color);border-radius:4px;padding:.25rem .5rem;cursor:pointer;font-size:1.2rem;transition:all .2s}.global-resource-panel .btn-icon:hover{background:#ff6b351a;border-color:var(--primary-orange)}.global-resource-panel .starbase-info{padding:1rem;background:#00a8e80d;border-bottom:1px solid var(--border-color)}.global-resource-panel .info-row{display:flex;justify-content:space-between;margin-bottom:.5rem}.global-resource-panel .info-row:last-child{margin-bottom:0}.global-resource-panel .label{color:var(--text-secondary);font-size:.875rem}.global-resource-panel .value{color:var(--text-primary);font-weight:600;font-family:Orbitron,monospace}.global-resource-panel .category-tabs{display:flex;padding:.5rem;gap:.25rem;border-bottom:1px solid var(--border-color);overflow-x:auto}.global-resource-panel .category-tab{background:transparent;border:1px solid var(--border-color);border-radius:4px;padding:.25rem .5rem;cursor:pointer;display:flex;align-items:center;gap:.25rem;transition:all .2s;white-space:nowrap}.global-resource-panel .category-tab.active{background:var(--primary-orange);border-color:var(--primary-orange);color:#fff}.global-resource-panel .category-tab:hover:not(.active){background:#ff6b351a}.global-resource-panel .tab-icon{font-size:1rem}.global-resource-panel .tab-count{background:#ffffff1a;padding:0 .25rem;border-radius:10px;font-size:.75rem}.global-resource-panel .resource-list{flex:1;overflow-y:auto;padding:.5rem}.global-resource-panel .resource-item{display:flex;align-items:center;gap:.75rem;padding:.5rem;background:#ffffff05;border:1px solid var(--border-color);border-radius:4px;margin-bottom:.5rem;transition:all .2s}.global-resource-panel .resource-item:hover{background:#ffffff0d;border-color:#ff6b354d}.global-resource-panel .resource-icon{font-size:1.5rem}.global-resource-panel .resource-info{flex:1}.global-resource-panel .resource-name{font-size:.875rem;color:var(--text-primary);margin-bottom:.125rem}.global-resource-panel .resource-amount{font-size:1.1rem;font-weight:600;font-family:Orbitron,monospace;color:var(--accent-green)}.global-resource-panel .empty-category{text-align:center;color:var(--text-secondary);padding:2rem;font-size:.875rem}.global-resource-panel .resource-summary{padding:1rem;border-top:1px solid var(--border-color);background:#00c8960d}.global-resource-panel .resource-summary h4{margin:0 0 .75rem;font-size:.875rem;color:var(--text-secondary)}.global-resource-panel .summary-grid{display:grid;grid-template-columns:1fr 1fr;gap:.5rem}.global-resource-panel .summary-item{display:flex;justify-content:space-between;padding:.5rem;background:#ffffff05;border-radius:4px}.global-resource-panel .summary-label{font-size:.75rem;color:var(--text-secondary)}.global-resource-panel .summary-value{font-weight:600;font-family:Orbitron,monospace}.global-resource-panel .summary-value.warning{color:var(--status-warning)}.with-global-panel .main-container,.with-global-panel .container{margin-right:320px}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:2000}.modal-content{background:var(--primary-dark);border:1px solid var(--border-color);border-radius:12px;max-width:500px;width:90%;max-height:80vh;overflow:auto}.modal-header{padding:1.5rem;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center}.modal-body{padding:1.5rem}.modal-body ul{margin:1rem 0;padding-left:1.5rem}.modal-body li{margin:.5rem 0;color:var(--text-primary)}.settings-panel-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:3000}.settings-panel{background:var(--primary-dark);border:1px solid var(--border-color);border-radius:12px;width:90%;max-width:800px;max-height:90vh;display:flex;flex-direction:column;box-shadow:0 20px 60px #00000080}.settings-header{padding:1.5rem;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center}.settings-tabs{display:flex;gap:.5rem;padding:1rem;border-bottom:1px solid var(--border-color);background:#ff6b3505}.settings-tab{background:transparent;border:1px solid var(--border-color);border-radius:4px;padding:.5rem 1rem;cursor:pointer;transition:all .2s;color:var(--text-primary)}.settings-tab.active{background:var(--primary-orange);border-color:var(--primary-orange);color:#fff}.settings-tab:hover:not(.active){background:#ff6b351a}.settings-content{flex:1;overflow-y:auto;padding:1.5rem}.setting-group{margin-bottom:1.5rem}.setting-group label{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background:#ffffff05;border-radius:4px;cursor:pointer}.setting-group label:hover{background:#ffffff0d}.setting-group input[type=checkbox]{width:20px;height:20px;cursor:pointer}.setting-group select{background:var(--primary-light);border:1px solid var(--border-color);color:var(--text-primary);padding:.25rem .5rem;border-radius:4px}.level-badge{display:flex;flex-direction:column;align-items:center;padding:1rem;background:#00a8e81a;border-radius:8px;margin-bottom:1rem}.level-number{font-size:2rem;font-weight:700;font-family:Orbitron,monospace}.level-name{font-size:1.2rem;color:var(--accent-blue)}.level-progress{height:8px;background:#ffffff1a;border-radius:4px;overflow:hidden}.starbase-controls{display:flex;gap:1rem;margin-top:1.5rem}.starbase-controls .btn{flex:1}.speed-controls{display:flex;gap:.5rem;margin-top:.5rem}.about-content{line-height:1.6}.version{font-size:1.2rem;font-weight:700;color:var(--primary-orange);margin-bottom:1rem}.credits{margin-top:2rem;padding-top:1rem;border-top:1px solid var(--border-color);text-align:center;color:var(--text-secondary)}*,*:before,*:after{box-sizing:border-box}.main-container{max-width:100vw;overflow-x:hidden}.resources-toolbar{display:flex;gap:1.5rem;padding:1.5rem 2rem;background:#0000004d;border-bottom:1px solid rgba(255,255,255,.05);flex-wrap:nowrap;align-items:center;justify-content:space-between}.filter-section{display:flex;gap:1rem;align-items:center;flex:1}.resources-content-view .controls{display:flex;justify-content:space-between;align-items:center;width:100%;gap:2rem}.resources-content-view .filter-section,.resources-content-view .view-controls{display:inline-flex}.resources-toolbar .search-section{flex:0 1 300px;min-width:200px;max-width:450px}.resources-toolbar .filter-section,.resources-toolbar .view-controls{flex:0 0 auto;flex-direction:row}.resources-toolbar{display:flex;align-items:center}.resources-toolbar>div:not(.search-section){display:inline-flex;margin-left:auto}@media (max-width: 1024px){.resources-toolbar{flex-wrap:wrap}.resources-toolbar .search-section{flex:1 1 100%;margin-bottom:1rem}.resources-toolbar .filter-section,.resources-toolbar .view-controls{flex:1 1 auto}}.action-btn{min-width:80px;height:32px;padding:0 .75rem;display:flex;align-items:center;justify-content:center;gap:.25rem;background:linear-gradient(135deg,#ff6b3533,#ff6b351a);border:2px solid var(--primary-orange);border-radius:6px;cursor:pointer;transition:all .2s;font-size:.9rem;font-weight:600;color:var(--primary-orange)}.action-btn:hover{background:var(--primary-orange);transform:scale(1.05);color:#fff;box-shadow:0 0 20px #ff6b3580}.action-btn:active{transform:scale(1)}@media (max-width: 640px){.search-input{padding:.5rem .75rem;font-size:.875rem}.navigation{padding:.5rem}.tool-selector,.global-actions{flex-wrap:wrap;gap:.25rem}.global-actions button{font-size:.75rem;padding:.5rem .75rem}.resources-view-panel{width:100%;height:100vh;border-radius:0}.resources-toolbar{flex-direction:column;gap:.75rem;padding:1rem}.resources-toolbar .search-section{width:100%;min-width:unset}.filter-section{width:100%;flex-wrap:wrap}.view-controls{width:100%;justify-content:space-between}.resources-grid{grid-template-columns:1fr;gap:1rem}.sidebar,.sidebar.right{max-height:300px;padding:1rem}.main-content{padding:1rem}.tree-container{min-width:100%;overflow-x:auto}.recipe-tree-canvas{min-width:100%}.planet-card,.instance-card,.recipe-list-item,.plot-card{padding:.5rem;font-size:.875rem}.achievement-panel,.save-load-panel,.settings-panel{width:95%;max-width:none;margin:.5rem}.starbase-control{max-width:100%;padding:1rem}.filter-select{font-size:.875rem;padding:.4rem .6rem}.building-grid{grid-template-columns:repeat(2,1fr);gap:.5rem;max-height:250px}.current-buildings{grid-template-columns:1fr;gap:.5rem}.job-queue{max-height:250px}.job-card{padding:.75rem}h1{font-size:1.5rem}h2{font-size:1.25rem}h3{font-size:1.1rem}h4{font-size:1rem}h5{font-size:.9rem}.stat-text,.body-text{font-size:.875rem}}@media (max-width: 1400px){.claim-stakes-content{grid-template-columns:260px 1fr 300px}}@media (max-width: 1200px){.claim-stakes-content{grid-template-columns:240px 1fr 280px}}@media (max-width: 1024px){.claim-stakes-content{grid-template-columns:1fr;gap:1rem}.claim-stakes-content .sidebar{max-height:200px}.claim-stakes-content .sidebar.right{margin-top:1rem}}@media (max-width: 768px){.claim-stakes-content{padding:.5rem}.planet-list{max-height:200px}.building-grid{grid-template-columns:repeat(auto-fill,minmax(100px,1fr));max-height:250px}.current-buildings{max-height:250px}.building-management{max-height:calc(100vh - 150px)}.quick-stats{flex-direction:column;gap:.5rem}.current-buildings{grid-template-columns:1fr}}@media (max-width: 1400px){.crafting-hab-content{grid-template-columns:260px 1fr 300px}}@media (max-width: 1200px){.crafting-hab-content{grid-template-columns:240px 1fr 280px}}@media (max-width: 1024px){.crafting-hab-content{grid-template-columns:1fr;gap:1rem}.crafting-hab-content .sidebar{max-height:200px}.crafting-hab-content .sidebar.right{margin-top:1rem}.plot-grid{grid-template-columns:repeat(auto-fill,minmax(150px,1fr))}}@media (max-width: 768px){.crafting-hab-content{padding:.5rem}.plot-grid{grid-template-columns:repeat(auto-fill,minmax(120px,1fr))}.hab-stats{grid-template-columns:1fr}.job-queue{max-height:300px}}.resources-view-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000f2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);display:flex;align-items:center;justify-content:center;z-index:10000;animation:fadeIn .2s ease-out}.resources-view-panel{background:linear-gradient(135deg,#1a1a1afa,#0a0a0afa);border:2px solid var(--primary-orange);border-radius:16px;width:95%;max-width:1600px;height:90vh;display:flex;flex-direction:column;box-shadow:0 0 100px #ff6b354d,0 25px 50px #00000080,inset 0 1px #ffffff1a;animation:slideUp .3s ease-out}.resources-header{display:flex;align-items:center;justify-content:space-between;padding:1.5rem 2rem;background:linear-gradient(90deg,rgba(255,107,53,.1) 0%,transparent 50%);border-bottom:2px solid rgba(255,107,53,.3)}.header-content{flex:1}.resources-header h2{margin:0 0 .75rem;font-family:Orbitron,monospace;font-size:1.8rem;font-weight:800;color:var(--primary-orange);text-shadow:0 2px 10px rgba(255,107,53,.5);letter-spacing:.05em}.header-stats{display:flex;gap:1.5rem;flex-wrap:wrap}.stat-badge{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#00000080;border:1px solid rgba(255,255,255,.1);border-radius:20px}.stat-label{font-size:.75rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.stat-value{font-family:Orbitron,monospace;font-size:1rem;font-weight:600;color:var(--text-primary)}.stat-badge.production .stat-value{color:var(--status-success)}.stat-badge.consumption .stat-value{color:var(--status-warning)}.stat-badge.net-flow.positive .stat-value{color:#0f8;text-shadow:0 0 10px rgba(0,255,136,.5)}.stat-badge.net-flow.negative .stat-value{color:#f44;text-shadow:0 0 10px rgba(255,68,68,.5)}.resources-header .close-button{position:relative;width:40px;height:40px;border-radius:50%;background:#ff6b3533;border:2px solid var(--primary-orange);color:var(--primary-orange);font-size:24px;font-weight:300;line-height:1;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;padding:0 0 2px;text-align:center}.resources-header .close-button:hover{background:var(--primary-orange);color:#fff;transform:rotate(90deg)}.resources-toolbar{display:flex;gap:1.5rem;padding:1.5rem 2rem;background:#0000004d;border-bottom:1px solid rgba(255,255,255,.05);align-items:center;width:100%;justify-content:space-between}.resources-toolbar .search-section{flex:0 1 250px;min-width:180px;max-width:250px}.resources-toolbar .search-input{width:100%;padding:.5rem 1rem;font-size:.9rem}.filter-section{display:flex;gap:1rem;align-items:center;flex:1 1 auto}.category-select,.sort-select{padding:.75rem 1.25rem;background:#00000080;border:1px solid rgba(255,107,53,.3);border-radius:8px;color:var(--text-primary);font-size:.9rem;cursor:pointer;transition:all .2s}.category-select:hover,.sort-select:hover{border-color:var(--primary-orange)}.filter-button{padding:.75rem 1.25rem;background:#00000080;border:1px solid rgba(255,107,53,.3);border-radius:8px;color:var(--text-primary);font-size:.9rem;cursor:pointer;transition:all .2s}.filter-button:hover{border-color:var(--primary-orange)}.filter-button.active{background:var(--primary-orange);border-color:var(--primary-orange);color:#fff;box-shadow:0 0 20px #ff6b3580}.view-controls{display:flex;gap:1rem;align-items:center}.view-mode-buttons{display:flex;gap:0;background:#00000080;border:1px solid rgba(255,107,53,.3);border-radius:8px;overflow:hidden}.view-mode-button{padding:.75rem 1.25rem;background:transparent;border:none;color:var(--text-secondary);cursor:pointer;transition:all .2s;font-size:.9rem}.view-mode-button:not(:last-child){border-right:1px solid rgba(255,107,53,.3)}.view-mode-button:hover{background:#ff6b351a}.view-mode-button.active{background:var(--primary-orange);color:#fff}.resources-content{flex:1;overflow-y:auto;padding:2rem;scrollbar-width:thin;scrollbar-color:var(--primary-orange) rgba(0,0,0,.3)}.resources-content::-webkit-scrollbar{width:10px}.resources-content::-webkit-scrollbar-track{background:#0000004d;border-radius:5px}.resources-content::-webkit-scrollbar-thumb{background:var(--primary-orange);border-radius:5px}.resources-content::-webkit-scrollbar-thumb:hover{background:#f85}.resources-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1.75rem;padding:.5rem}.resource-card{background:linear-gradient(145deg,#141414f2,#0a0a0af2);border:2px solid rgba(255,107,53,.15);border-radius:16px;padding:0;overflow:hidden;transition:all .3s cubic-bezier(.4,0,.2,1);cursor:pointer;position:relative}.resource-card:before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,transparent 0%,var(--primary-orange) 50%,transparent 100%);opacity:0;transition:opacity .3s}.resource-card.active:before{opacity:1;animation:shimmer 2s infinite}.resource-card:hover{border-color:var(--primary-orange);transform:translateY(-4px);box-shadow:0 20px 40px #ff6b3533,0 0 60px #ff6b351a,inset 0 0 20px #ff6b350d}.resource-card.selected{border-color:var(--primary-orange);box-shadow:0 0 30px #ff6b354d,inset 0 0 30px #ff6b351a}.resource-card-header{display:flex;align-items:center;gap:1rem;padding:1.25rem 1.25rem .75rem;background:#ff6b3508;border-bottom:1px solid rgba(255,107,53,.1)}.resource-icon{font-size:2rem;filter:drop-shadow(0 2px 4px rgba(0,0,0,.5))}.resource-info{flex:1}.resource-name{font-family:Orbitron,monospace;font-size:1.1rem;font-weight:700;color:var(--text-primary);text-transform:capitalize;margin:0;letter-spacing:.02em}.resource-category{font-size:.75rem;color:var(--primary-orange);text-transform:uppercase;letter-spacing:.1em;opacity:.8}.resource-amount-display{padding:1.5rem 1.25rem;text-align:center;background:#0000004d}.amount-value{display:block;font-family:Orbitron,monospace;font-size:2.5rem;font-weight:800;color:var(--primary-orange);text-shadow:0 2px 10px rgba(255,107,53,.3);letter-spacing:.02em}.amount-label{display:block;font-size:.75rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.1em;margin-top:.25rem}.resource-flow-indicator{padding:.75rem 1.25rem;background:#0003;border-top:1px solid rgba(255,255,255,.05);border-bottom:1px solid rgba(255,255,255,.05)}.flow-bar{height:6px;background:#ffffff0d;border-radius:3px;position:relative;overflow:hidden;margin-bottom:.5rem}.production-bar,.consumption-bar{position:absolute;top:0;height:100%;border-radius:3px;transition:width .5s ease}.production-bar{left:50%;background:linear-gradient(90deg,#0f8,#00cc6a)}.consumption-bar{right:50%;background:linear-gradient(90deg,#f66,#f44)}.flow-value{text-align:center;font-family:Orbitron,monospace;font-size:.9rem;font-weight:600;letter-spacing:.02em}.resource-stats-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:.5rem;padding:.75rem 1.25rem;min-height:3rem}.stat-item{display:flex;align-items:center;gap:.5rem;padding:.5rem;background:#0000004d;border-radius:8px;border:1px solid rgba(255,255,255,.05)}.stat-item.production{background:#00ff880d;border-color:#0f83}.stat-item.consumption{background:#ff44440d;border-color:#f443}.stat-icon{font-size:1.2rem;font-weight:700}.stat-item.production .stat-icon{color:#0f8}.stat-item.consumption .stat-icon{color:#f44}.stat-value{font-family:Orbitron,monospace;font-size:.85rem;font-weight:600;color:var(--text-primary)}.resource-locations-summary{padding:1rem 1.25rem;background:#0003;border-top:1px solid rgba(255,255,255,.05)}.locations-header{display:flex;align-items:center;gap:.5rem}.locations-count{font-family:Orbitron,monospace;font-size:1.5rem;font-weight:700;color:var(--primary-orange)}.locations-label{font-size:.85rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.locations-details{margin-top:1rem;display:flex;flex-direction:column;gap:.5rem;animation:slideDown .3s ease-out}@keyframes slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.location-detail{display:flex;align-items:center;gap:.75rem;padding:.5rem;background:#ff6b350d;border:1px solid rgba(255,107,53,.1);border-radius:8px}.location-type-icon{font-size:1.2rem}.location-name{flex:1;font-size:.85rem;color:var(--text-primary)}.location-amount{font-family:Orbitron,monospace;font-weight:600;color:var(--primary-orange)}.resources-list-view{display:flex;flex-direction:column;width:100%;height:100%;overflow:hidden}.list-header{display:grid;grid-template-columns:2.5fr 1fr 1.2fr 1.2fr 1.2fr 1.2fr .8fr .8fr;gap:1rem;padding:1rem 1.5rem;background:#ff6b351a;border-bottom:2px solid var(--primary-orange);font-family:Orbitron,monospace;font-weight:600;font-size:.85rem;text-transform:uppercase;letter-spacing:.05em;color:var(--primary-orange)}.list-body{flex:1;overflow-y:auto;padding:.5rem}.list-row{display:grid;grid-template-columns:2.5fr 1fr 1.2fr 1.2fr 1.2fr 1.2fr .8fr .8fr;gap:1rem;padding:1rem 1.5rem;margin-bottom:.5rem;background:#0000004d;border:1px solid rgba(255,255,255,.05);border-radius:8px;cursor:pointer;transition:all .2s}.list-row:hover{background:#ff6b350d;border-color:#ff6b354d;transform:translate(4px)}.list-row.selected{background:#ff6b351a;border-color:var(--primary-orange);box-shadow:0 0 20px #ff6b3533}.list-row.active{border-left:3px solid var(--primary-orange)}.list-col{display:flex;align-items:center;gap:.5rem}.col-resource{font-weight:600}.resource-icon{font-size:1.2rem}.category-badge{padding:.25rem .75rem;border-radius:12px;font-size:.75rem;text-transform:uppercase;letter-spacing:.05em}.category-badge.raw{background:#8b451333;color:peru;border:1px solid rgba(139,69,19,.3)}.category-badge.processed{background:#00c89633;color:#00c896;border:1px solid rgba(0,200,150,.3)}.category-badge.fuel{background:#ffd70033;color:gold;border:1px solid rgba(255,215,0,.3)}.category-badge.unknown{background:#9b59b633;color:#9b59b6;border:1px solid rgba(155,89,182,.3)}.amount-text{font-family:Orbitron,monospace;font-weight:600}.rate-badge{padding:.25rem .5rem;border-radius:6px;font-family:Orbitron,monospace;font-size:.85rem;font-weight:600;display:inline-flex;align-items:center;gap:.25rem}.rate-badge.positive{background:#0f83;color:#0f8}.rate-badge.negative{background:#f443;color:#f44}.rate-badge.neutral{background:#ffffff0d;color:var(--text-secondary)}.location-count{background:#00a8e833;color:#00a8e8;padding:.25rem .5rem;border-radius:6px;font-family:Orbitron,monospace;font-weight:600}.action-btn{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#ff6b351a;border:1px solid var(--primary-orange);border-radius:6px;cursor:pointer;transition:all .2s}.action-btn:hover{background:var(--primary-orange);transform:scale(1.1)}.resources-flow-view{width:100%;height:100%;padding:2rem;overflow-y:auto}.flow-diagram{display:grid;grid-template-columns:1fr auto 1fr auto 1fr;gap:2rem;min-height:400px;align-items:start}.flow-column{display:flex;flex-direction:column;gap:1rem}.column-header{text-align:center;padding:1rem;background:#ff6b350d;border:1px solid rgba(255,107,53,.2);border-radius:12px}.column-header h3{margin:0;font-family:Orbitron,monospace;font-size:1.2rem;color:var(--primary-orange)}.column-subtitle{display:block;margin-top:.25rem;font-size:.85rem;color:var(--text-secondary)}.flow-nodes{display:flex;flex-direction:column;gap:1rem}.flow-node{background:#00000080;border:2px solid rgba(255,107,53,.2);border-radius:12px;overflow:hidden;transition:all .3s}.flow-node:hover{border-color:var(--primary-orange);box-shadow:0 0 30px #ff6b354d}.production-node{border-color:#00ff884d}.storage-node{border-color:#00a8e84d}.consumption-node{border-color:#ff44444d}.node-header{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;background:#ff6b351a;border-bottom:1px solid rgba(255,107,53,.2)}.node-icon{font-size:1.2rem}.node-title{flex:1;font-weight:600;color:var(--text-primary)}.node-tier{padding:.25rem .5rem;background:#ff6b3533;border-radius:6px;font-size:.75rem;font-weight:600;color:var(--primary-orange)}.node-content{padding:1rem}.flow-item{display:flex;justify-content:space-between;align-items:center;padding:.5rem;margin-bottom:.5rem;background:#0000004d;border-radius:6px}.item-resource{font-size:.9rem;color:var(--text-primary)}.item-rate{font-family:Orbitron,monospace;font-weight:600;font-size:.85rem}.item-rate.positive{color:#0f8}.item-amount{font-family:Orbitron,monospace;font-weight:600;color:var(--primary-orange)}.flow-more{text-align:center;padding:.5rem;color:var(--text-secondary);font-size:.85rem;font-style:italic}.empty-node{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:3rem;background:#0000004d;border:2px dashed rgba(255,107,53,.2);border-radius:12px}.empty-icon{font-size:3rem;opacity:.3}.empty-text{margin-top:1rem;color:var(--text-secondary)}.flow-arrows{display:flex;align-items:center;justify-content:center}.arrow-container{position:relative;width:100px;height:100px}.flow-svg{width:100%;height:100%}.flow-label{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:.25rem .75rem;background:#000c;border:1px solid var(--primary-orange);border-radius:6px;font-size:.75rem;text-transform:uppercase;letter-spacing:.05em;color:var(--primary-orange)}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.building-option{display:flex;flex-direction:column;align-items:center;gap:.25rem;padding:1rem;background:#0000004d;border:1px solid rgba(255,107,53,.2);border-radius:8px;cursor:pointer;transition:all .2s;text-align:center}.building-option:hover:not(:disabled){background:#ff6b351a;border-color:var(--primary-orange);transform:translateY(-2px)}.building-option:disabled{opacity:.5;cursor:not-allowed}.building-option.hab-option{background:#00a8e81a;border-color:#00a8e84d}.building-option.hab-option:hover:not(:disabled){background:#00a8e833;border-color:#00a8e8}.building-option.station-option{background:#00c8961a;border-color:#00c8964d}.building-option.station-option:hover:not(:disabled){background:#00c89633;border-color:#00c896}.building-option.storage-option{background:#9b59b61a;border-color:#9b59b64d}.building-option.storage-option:hover:not(:disabled){background:#9b59b633;border-color:#9b59b6}.option-icon{font-size:1.5rem}.option-name{font-weight:600;color:var(--text-primary);font-size:.9rem}.option-stats{font-size:.75rem;color:var(--text-secondary);line-height:1.2}.hab-building-card{display:flex;align-items:center;gap:.75rem;padding:.75rem;background:#0000004d;border:1px solid rgba(255,255,255,.1);border-radius:6px;margin-bottom:.5rem;transition:all .2s}.hab-building-card:hover{background:#ff6b350d;border-color:#ff6b354d}.building-type{padding:.25rem .5rem;background:#ff6b3533;border-radius:4px;font-size:.75rem;text-transform:uppercase;letter-spacing:.05em;color:var(--primary-orange)}.building-name{flex:1;font-weight:500}.building-size{padding:.25rem .5rem;background:#00c89633;border-radius:4px;font-size:.75rem;color:#00c896}.remove-btn{width:24px;height:24px;display:flex;align-items:center;justify-content:center;background:#ff413633;border:1px solid rgba(255,65,54,.3);border-radius:4px;color:#ff4136;cursor:pointer;transition:all .2s}.remove-btn:hover{background:#ff41364d;border-color:#ff4136}.recipe-tree-canvas{width:100%;height:100%;min-height:500px;background:#0000004d;border:1px solid rgba(255,107,53,.2);border-radius:8px}.tree-container{width:100%;height:500px;position:relative;background:#0003;border-radius:8px;overflow:hidden}.rented-plots-summary{background:var(--primary-light);border:1px solid var(--border-color);border-radius:8px;padding:1rem;margin-bottom:1rem}.rented-plots-summary h3{margin:0 0 1rem;color:var(--primary-orange);font-size:1.1rem}.plots-list{display:flex;flex-direction:column;gap:.5rem}.plot-summary{background:var(--primary-dark);border:1px solid var(--border-color);border-radius:6px;padding:.75rem;cursor:pointer;transition:all .2s ease}.plot-summary:hover{border-color:var(--primary-orange);transform:translate(2px)}.plot-summary.selected{border-color:var(--primary-orange);box-shadow:0 0 10px #ff6b354d}.plot-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.plot-name{font-weight:600;color:var(--text-primary)}.plot-status{font-size:.75rem;padding:.25rem .5rem;border-radius:4px;background:var(--primary-light)}.plot-status.active{color:var(--status-success);border:1px solid var(--status-success)}.plot-status.designing{color:var(--status-warning);border:1px solid var(--status-warning)}.plot-stats{display:flex;justify-content:space-between;font-size:.85rem;color:var(--text-secondary)}.plot-stats span{display:flex;align-items:center;gap:.25rem}.global-resource-panel .btn-icon.active{background:var(--primary-orange);color:#fff}.global-resource-panel .resource-flow-details{margin-top:.5rem;padding:.5rem;background:#0a0a0a4d;border-radius:4px;font-size:.75rem}.global-resource-panel .flow-stat{display:flex;justify-content:space-between;margin:.25rem 0;color:var(--text-primary)}.global-resource-panel .flow-stat.inactive{opacity:.6}.global-resource-panel .flow-label{color:var(--text-secondary);margin-right:.5rem}.global-resource-panel .flow-value{font-family:Orbitron,monospace;color:var(--accent-green)}.global-resource-panel .flow-value .potential{color:var(--text-dim);font-size:.9em;opacity:.7}.global-resource-panel .flow-stat.net .flow-value{font-weight:600}.global-resource-panel .flow-value.positive{color:var(--status-success)}.global-resource-panel .flow-value.negative{color:var(--status-danger)}.global-resource-panel .resource-status{position:relative;display:flex;align-items:center;justify-content:center;min-width:2rem}.global-resource-panel .stop-indicator{position:relative;display:inline-flex;align-items:center}.global-resource-panel .stop-icon{cursor:help;font-size:1.2rem;animation:pulse 2s infinite}.global-resource-panel .stop-tooltip{position:absolute;bottom:100%;right:0;background:var(--primary-dark);border:1px solid var(--primary-orange);border-radius:4px;padding:.5rem;min-width:200px;z-index:9999;box-shadow:0 4px 12px #00000080;margin-bottom:.25rem;pointer-events:none}.global-resource-panel .stop-tooltip strong{color:var(--primary-orange);display:block;margin-bottom:.25rem;font-size:.875rem}.global-resource-panel .stop-tooltip ul{margin:0;padding-left:1.25rem;color:var(--text-primary);font-size:.75rem}.global-resource-panel .stop-tooltip li{margin:.25rem 0}.view-mode-tabs{display:flex;gap:1rem;margin-top:1rem;border-bottom:2px solid var(--border-color);padding-bottom:0}.view-tab{padding:.75rem 1.5rem;background:transparent;border:none;border-bottom:3px solid transparent;color:var(--text-secondary);font-family:"Exo 2",sans-serif;font-weight:600;text-transform:uppercase;letter-spacing:.05em;cursor:pointer;transition:all .3s ease;margin-bottom:-2px}.view-tab:hover:not(:disabled){color:var(--primary-orange)}.view-tab.active{color:var(--primary-orange);border-bottom-color:var(--primary-orange)}.view-tab:disabled{opacity:.5;cursor:not-allowed}.plot-selector-bar{background:var(--primary-light);padding:1rem;border-radius:8px;margin:1rem 0;display:flex;align-items:center;gap:1rem}.plot-selector-bar label{font-weight:600;color:var(--text-secondary)}.plot-tabs{display:flex;gap:.5rem;flex-wrap:wrap}.plot-tab{padding:.5rem 1rem;background:var(--primary-dark);border:1px solid var(--border-color);border-radius:6px;color:var(--text-secondary);cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.plot-tab:hover{border-color:var(--primary-orange);background:#ff6b351a}.plot-tab.active{background:var(--primary-orange);color:#fff;border-color:var(--primary-orange)}.plot-tab-tier{font-weight:700;font-family:Orbitron,monospace}.plot-tab.new-plot{border-style:dashed;color:var(--accent-green)}.overview-view{padding:1rem}.overview-sections{display:flex;flex-direction:column;gap:2rem}.overview-section{background:var(--primary-light);border-radius:12px;padding:1.5rem;border:1px solid var(--border-color)}.overview-section h3{color:var(--primary-orange);margin-top:0;margin-bottom:1rem;font-family:Orbitron,monospace}.plot-grid.compact{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:1rem}.plot-overview-card{background:var(--primary-dark);border:2px solid var(--border-color);border-radius:8px;padding:1rem;cursor:pointer;transition:all .3s ease}.plot-overview-card:hover{border-color:var(--primary-orange);transform:translateY(-2px)}.plot-overview-card.owned{border-color:var(--accent-green)}.plot-overview-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.plot-tier-badge{background:var(--primary-orange);color:#fff;padding:.25rem .5rem;border-radius:4px;font-weight:700;font-family:Orbitron,monospace}.plot-status-badge.owned{color:var(--accent-green);font-size:.85rem;font-weight:600}.plot-overview-stats{font-size:.9rem;color:var(--text-secondary)}.needs-setup{color:var(--accent-gold);font-style:italic}.jobs-summary{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1rem}.job-summary-card{background:var(--primary-dark);border:1px solid var(--border-color);border-radius:8px;padding:1rem}.job-header{display:flex;justify-content:space-between;margin-bottom:.5rem;font-size:.9rem}.job-recipe{color:var(--primary-orange);font-weight:600}.job-plot{color:var(--text-secondary);font-size:.85rem}.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}.stat-card{background:var(--primary-dark);border:1px solid var(--border-color);border-radius:8px;padding:1rem;text-align:center}.stat-label{display:block;color:var(--text-secondary);font-size:.85rem;margin-bottom:.5rem}.stat-value{display:block;color:var(--primary-orange);font-size:1.5rem;font-weight:700;font-family:Orbitron,monospace}.construction-view{padding:1rem}.construction-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.construction-header h3{margin:0;color:var(--primary-orange);font-family:Orbitron,monospace}.btn-xs{padding:.25rem .5rem;font-size:.75rem}.job-queue.compact{display:flex;flex-direction:column;gap:.5rem;max-height:calc(100vh - 400px);overflow-y:auto;padding-right:.25rem}.job-card-compact{background:var(--primary-dark);border:1px solid var(--border-color);border-radius:6px;padding:.5rem;display:flex;flex-direction:column;gap:.25rem;transition:all .2s ease}.job-card-compact:hover{border-color:var(--primary-orange);background:#ff6b350d}.job-card-compact.completed{border-color:var(--accent-green);background:#00c8960d}.job-main{display:flex;justify-content:space-between;align-items:center}.job-info{display:flex;align-items:center;gap:.5rem;flex:1}.job-name{font-weight:600;font-size:.85rem;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:120px}.job-quantity{font-size:.75rem;color:var(--text-secondary);font-weight:500}.priority-icon{font-size:.75rem}.job-meta{display:flex;align-items:center;gap:.5rem}.job-plot{font-size:.7rem;color:var(--text-secondary);background:var(--primary-light);padding:.125rem .25rem;border-radius:3px;font-family:Orbitron,monospace}.job-time{font-size:.75rem;color:var(--accent-blue);font-weight:500}.job-done{color:var(--accent-green);font-size:.9rem}.job-progress{display:flex;align-items:center;gap:.5rem}.progress-bar-compact{flex:1;height:4px;background:var(--primary-light);border-radius:2px;overflow:hidden}.progress-bar-compact .progress-fill{height:100%;background:var(--primary-orange);transition:width .3s ease}.progress-bar-compact .progress-fill.completed{background:var(--accent-green)}.progress-bar-compact .progress-fill.paused{background:var(--accent-gold)}.progress-text{font-size:.7rem;color:var(--text-secondary);min-width:35px;text-align:right}.job-controls{display:flex;gap:.25rem;justify-content:flex-end}.btn-icon{width:24px;height:24px;padding:0;border:1px solid var(--border-color);border-radius:4px;background:var(--primary-dark);color:var(--text-secondary);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;font-size:.75rem}.btn-icon:hover{background:var(--primary-light);border-color:var(--primary-orange);color:var(--primary-orange)}.btn-icon.btn-success{border-color:var(--accent-green);color:var(--accent-green)}.btn-icon.btn-success:hover{background:var(--status-success);color:#fff;border-color:var(--status-success)}.btn-icon.btn-danger{color:var(--status-danger)}.btn-icon.btn-danger:hover{background:var(--status-danger);color:#fff;border-color:var(--status-danger)}.job-actions-bar{display:flex;gap:.5rem;margin-top:.5rem}.job-actions-bar .btn-xs{flex:1}.sidebar-header{display:flex;flex-direction:column;margin-bottom:1rem}.sidebar-header h3{margin:0;color:var(--primary-orange);font-size:1rem;font-family:Orbitron,monospace}.crafting-interface-enhanced{display:grid;grid-template-columns:200px 400px 1fr;gap:1rem;height:calc(100vh - 200px)}.recipe-filters-panel{background:var(--primary-light);border:1px solid var(--border-color);border-radius:8px;padding:1rem;display:flex;flex-direction:column;gap:1rem;overflow-y:auto}.recipe-filters-panel h4{color:var(--primary-orange);font-size:.9rem;margin:0;font-family:Orbitron,monospace}.filter-section{display:flex;flex-direction:column;gap:.5rem}.filter-section label{font-size:.75rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.05em}.filter-input,.filter-select{background:var(--primary-dark);border:1px solid var(--border-color);border-radius:4px;padding:.5rem;color:var(--text-primary);font-size:.85rem}.filter-input:focus,.filter-select:focus{outline:none;border-color:var(--primary-orange)}.tier-filters{display:flex;gap:.25rem}.tier-btn{flex:1;padding:.25rem;background:var(--primary-dark);border:1px solid var(--border-color);border-radius:4px;color:var(--text-secondary);font-size:.75rem;cursor:pointer;transition:all .2s ease}.tier-btn:hover{border-color:var(--primary-orange);color:var(--primary-orange)}.tier-btn.active{background:var(--primary-orange);border-color:var(--primary-orange);color:var(--primary-dark)}.status-filters{display:flex;flex-direction:column;gap:.5rem}.checkbox-label{display:flex;align-items:center;gap:.5rem;cursor:pointer;font-size:.85rem;color:var(--text-primary)}.checkbox-label input[type=checkbox]{width:16px;height:16px;accent-color:var(--primary-orange)}.filter-actions{margin-top:auto}.filter-stats{text-align:center;padding-top:.5rem;border-top:1px solid var(--border-color);color:var(--text-secondary)}.recipe-list-panel{background:var(--primary-light);border:1px solid var(--border-color);border-radius:8px;display:flex;flex-direction:column;overflow:hidden}.recipe-list-header{padding:1rem;border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center}.recipe-list-header h3{margin:0;color:var(--primary-orange);font-size:1rem;font-family:Orbitron,monospace}.recent-recipes{padding:.75rem 1rem;border-bottom:1px solid var(--border-color);background:#ff6b350d}.recent-recipes h5{margin:0 0 .5rem;font-size:.75rem;color:var(--text-secondary);text-transform:uppercase}.recent-list{display:flex;gap:.5rem;flex-wrap:wrap}.recent-chip{padding:.25rem .75rem;background:var(--primary-dark);border:1px solid var(--primary-orange);border-radius:12px;color:var(--primary-orange);font-size:.75rem;cursor:pointer;transition:all .2s ease}.recent-chip:hover{background:var(--primary-orange);color:var(--primary-dark)}.recipe-list-scrollable{flex:1;overflow-y:auto;padding:.5rem}.recipe-list-item{padding:.75rem;background:var(--primary-dark);border:1px solid var(--border-color);border-radius:6px;margin-bottom:.5rem;cursor:pointer;transition:all .2s ease}.recipe-list-item:hover{border-color:var(--primary-orange);background:#ff6b350d}.recipe-list-item.selected{border-color:var(--primary-orange);background:#ff6b351a;box-shadow:0 0 10px #ff6b354d}.recipe-list-item.cannot-craft{opacity:.5}.recipe-item-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.25rem}.recipe-name{font-weight:600;font-size:.9rem;color:var(--text-primary)}.recipe-badges{display:flex;align-items:center;gap:.25rem}.tier-badge{padding:.125rem .375rem;background:var(--primary-light);border:1px solid var(--border-color);border-radius:3px;font-size:.7rem;color:var(--text-secondary);font-family:Orbitron,monospace}.tier-badge.large{padding:.25rem .75rem;font-size:.9rem}.craftable-badge{color:var(--accent-green);font-size:.9rem}.favorite-btn{background:none;border:none;color:var(--text-secondary);cursor:pointer;font-size:1rem;transition:all .2s ease;padding:0}.favorite-btn:hover,.favorite-btn.active{color:var(--accent-gold)}.recipe-item-details{display:flex;justify-content:space-between;font-size:.75rem;color:var(--text-secondary)}.recipe-output{color:var(--accent-green)}.recipe-time{color:var(--accent-blue)}.recipe-details-panel{background:var(--primary-light);border:1px solid var(--border-color);border-radius:8px;padding:1.5rem;display:flex;flex-direction:column;overflow-y:auto}.recipe-details-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid var(--border-color)}.recipe-details-header h3{margin:0;color:var(--primary-orange);font-size:1.25rem;font-family:Orbitron,monospace}.recipe-details-content{display:flex;flex-direction:column;gap:1.5rem}.ingredients-section,.output-section{background:var(--primary-dark);border-radius:6px;padding:1rem}.ingredients-section h4,.output-section h4{margin:0 0 .75rem;color:var(--text-primary);font-size:.9rem;text-transform:uppercase}.ingredients-list{display:flex;flex-direction:column;gap:.5rem}.ingredient-row{display:flex;justify-content:space-between;align-items:center;padding:.5rem;background:var(--primary-light);border-radius:4px}.ingredient-row.insufficient{background:#ff41361a;border:1px solid rgba(255,65,54,.3)}.ingredient-name{font-size:.9rem;color:var(--text-primary)}.ingredient-amount{font-size:.85rem;font-weight:600}.has-enough{color:var(--accent-green)}.not-enough{color:var(--status-danger)}.output-info{display:flex;align-items:center;gap:.5rem;font-size:1.1rem}.output-amount{color:var(--accent-green);font-weight:600}.output-resource{color:var(--text-primary)}.craft-config{display:flex;flex-direction:column;gap:1rem}.quantity-control{display:flex;flex-direction:column;gap:.5rem}.quantity-control label{font-size:.85rem;color:var(--text-secondary);text-transform:uppercase}.quantity-input-group{display:flex;align-items:center;gap:.5rem}.qty-btn{width:32px;height:32px;background:var(--primary-dark);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);cursor:pointer;transition:all .2s ease}.qty-btn:hover{border-color:var(--primary-orange);color:var(--primary-orange)}.qty-input{width:80px;padding:.5rem;background:var(--primary-dark);border:1px solid var(--border-color);border-radius:4px;color:var(--text-primary);text-align:center;font-size:1rem}.quick-qty-buttons{display:flex;gap:.25rem;margin-top:.5rem}.quick-qty{flex:1;padding:.25rem;background:var(--primary-dark);border:1px solid var(--border-color);border-radius:4px;color:var(--text-secondary);font-size:.75rem;cursor:pointer;transition:all .2s ease}.quick-qty:hover{border-color:var(--primary-orange);color:var(--primary-orange)}.time-section{display:flex;flex-direction:column;gap:.5rem}.time-info{display:flex;align-items:center;gap:.5rem}.time-value{font-size:1.2rem;color:var(--accent-blue);font-weight:600}.speed-bonus{font-size:.85rem;color:var(--text-secondary)}.priority-section{display:flex;flex-direction:column;gap:.5rem}.priority-buttons{display:flex;gap:.5rem}.priority-btn{flex:1;padding:.5rem;background:var(--primary-dark);border:1px solid var(--border-color);border-radius:4px;color:var(--text-secondary);cursor:pointer;transition:all .2s ease}.priority-btn:hover{border-color:var(--primary-orange);color:var(--primary-orange)}.priority-btn.active{background:var(--primary-orange);border-color:var(--primary-orange);color:var(--primary-dark)}.btn-large{padding:1rem;font-size:1rem;margin-top:1rem}.no-recipe-selected{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center;color:var(--text-secondary)}.no-recipe-selected h3{color:var(--text-primary);margin-bottom:.5rem}.no-results{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;text-align:center;color:var(--text-secondary)}.hint{margin-top:1rem;font-size:.85rem;color:var(--text-dim)}.design-summary-top{background:var(--primary-light);border:1px solid var(--border-color);border-radius:8px;padding:1.5rem;margin-bottom:1.5rem;animation:fadeIn .3s ease}.design-summary-top h3{color:var(--primary-orange);margin-bottom:1rem;font-size:1.25rem;font-weight:600;letter-spacing:.05em}.design-stats-row{display:flex;gap:1rem;margin-bottom:1.5rem}.design-stats-row .stat-card{flex:1;background:#0000004d;border:1px solid rgba(255,107,53,.2);border-radius:6px;padding:1rem;text-align:center}.stat-card .stat-label{display:block;font-size:.75rem;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.1em;margin-bottom:.5rem}.stat-card .stat-value{display:block;font-size:1.5rem;font-weight:600;color:var(--text-primary);font-family:Orbitron,monospace}.stat-card .stat-value.error{color:var(--status-danger);animation:errorPulse 1s ease-in-out infinite}.stat-card .stat-value.positive{color:var(--status-success)}.construction-requirements{margin-top:1rem;padding-top:1rem;border-top:1px solid var(--border-color)}.construction-requirements h4{font-size:1rem;margin-bottom:1rem;color:var(--text-primary)}.resource-requirements{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:.75rem;margin-bottom:1rem}.resource-requirement{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background:#0006;border-radius:6px;border:1px solid var(--border-color);transition:all .3s ease}.resource-requirement.insufficient{border-color:#ff413680;background:#ff41361a}.resource-requirement.sufficient{border-color:#2ecc404d}.resource-name{font-size:.9rem;color:var(--text-primary);text-transform:capitalize}.resource-amounts{display:flex;align-items:center;gap:.25rem;font-family:Orbitron,monospace;font-size:.95rem}.amount-ok{color:var(--status-success);font-weight:600}.amount-short{color:var(--status-danger);font-weight:600}.separator{color:var(--text-dim)}.amount-needed{color:var(--text-secondary)}.missing-resources-actions{margin-top:1rem;padding:1rem;background:#ff851b1a;border:1px solid rgba(255,133,27,.3);border-radius:6px}.missing-resources-actions .warning-message{color:var(--status-warning);margin-bottom:.75rem;font-size:.95rem;font-weight:500}.missing-resources-actions .btn-sm{padding:.5rem 1rem;font-size:.9rem}@keyframes errorPulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.9}}.starbase-inventory{padding:1rem;background:linear-gradient(135deg,#1a1a1a,#0f0f0f);border-radius:8px;margin-top:1rem}.inventory-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.inventory-header h3{margin:0;color:var(--primary-orange);font-size:1.1rem}.inventory-count{color:var(--text-secondary);font-size:.875rem;background:#ff6b351a;padding:.25rem .5rem;border-radius:4px}.resource-grid{display:grid;gap:.5rem;max-height:calc(100vh - 400px);min-height:400px;overflow-y:auto;padding-right:.25rem;margin-bottom:1rem}.starbase-inventory .resource-card{display:flex;align-items:center;gap:.75rem;padding:.5rem;background:#ffffff05;border:1px solid rgba(255,107,53,.2);border-radius:6px;transition:all .2s}.starbase-inventory .resource-card:hover{background:#ff6b350d;border-color:#ff6b3566;transform:translate(2px)}.starbase-inventory .resource-icon{font-size:1.25rem;width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:#ff6b351a;border-radius:4px}.starbase-inventory .resource-info{flex:1;display:flex;justify-content:space-between;align-items:center}.starbase-inventory .resource-name{color:var(--text-primary);font-size:.875rem;font-weight:500}.starbase-inventory .resource-amount{color:var(--accent-green);font-weight:600;font-family:Orbitron,monospace}.btn-magic{width:100%;background:linear-gradient(135deg,#ff6b35,#ff4500);border:2px solid transparent;color:#fff;font-weight:600;padding:.75rem;border-radius:6px;cursor:pointer;transition:all .3s;text-transform:uppercase;letter-spacing:.05em;font-size:.875rem}.btn-magic:hover{background:linear-gradient(135deg,#ff4500,#ff6b35);box-shadow:0 0 20px #ff6b3580;transform:translateY(-1px)}.resource-grid::-webkit-scrollbar{width:6px}.resource-grid::-webkit-scrollbar-track{background:#ffffff05;border-radius:3px}.resource-grid::-webkit-scrollbar-thumb{background:#ff6b354d;border-radius:3px}.resource-grid::-webkit-scrollbar-thumb:hover{background:#ff6b3580}.view-button{padding:.75rem 1.25rem;background:#00000080;border:1px solid rgba(255,107,53,.3);color:var(--text-secondary);cursor:pointer;transition:all .2s;font-size:1.2rem;line-height:1;min-width:45px;font-weight:600}.view-button:first-child{border-radius:8px 0 0 8px}.view-button:last-child{border-radius:0 8px 8px 0;border-right:1px solid rgba(255,107,53,.3)}.view-button:hover{background:#ff6b3533;color:var(--primary-orange)}.view-button.active{background:var(--primary-orange);color:#fff;box-shadow:inset 0 2px 4px #0000004d}.view-button:not(:last-child){border-right:1px solid rgba(255,107,53,.2)}.view-mode-buttons{display:inline-flex;gap:0;align-items:center;margin-left:.5rem}.resources-view-panel .resource-details,.resources-content .resource-details{position:fixed;bottom:0;left:0;right:0;background:linear-gradient(180deg,#1a1a1af2,#0a0a0afa);border-top:2px solid var(--primary-orange);padding:1.5rem 2rem;box-shadow:0 -4px 20px #00000080;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:slideUp .3s ease-out;z-index:1000;max-height:300px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--primary-orange) rgba(0,0,0,.3)}.resources-view-panel .resource-details::-webkit-scrollbar,.resources-content .resource-details::-webkit-scrollbar{width:8px}.resources-view-panel .resource-details::-webkit-scrollbar-track,.resources-content .resource-details::-webkit-scrollbar-track{background:#0000004d}.resources-view-panel .resource-details::-webkit-scrollbar-thumb,.resources-content .resource-details::-webkit-scrollbar-thumb{background:var(--primary-orange);border-radius:4px}.resources-view-panel .resource-details::-webkit-scrollbar-thumb:hover,.resources-content .resource-details::-webkit-scrollbar-thumb:hover{background:#ff8c42}.resources-content.has-details{padding-bottom:320px}@keyframes slideUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}.details-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.resources-view-panel .resource-details h3,.resources-content .resource-details h3{font-family:Orbitron,monospace;color:var(--primary-orange);margin:0;font-size:1.2rem;text-transform:uppercase;letter-spacing:.05em}.details-close-btn{background:transparent;border:2px solid var(--primary-orange);color:var(--primary-orange);width:32px;height:32px;border-radius:50%;font-size:1.5rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;font-weight:700}.details-close-btn:hover{background:var(--primary-orange);color:#fff;transform:rotate(90deg)}.resources-view-panel .resource-details h4,.resources-content .resource-details h4{font-family:Orbitron,monospace;color:var(--accent-green);margin:0 0 .75rem;font-size:.9rem;text-transform:uppercase;letter-spacing:.05em}.details-content{display:flex;gap:2rem;flex-wrap:wrap}.locations-list{flex:1;min-width:300px}.location-detail{background:#00000080;border:1px solid rgba(255,107,53,.2);border-radius:8px;padding:1rem;margin-bottom:1rem;transition:all .2s}.location-detail:hover{border-color:var(--primary-orange);box-shadow:0 2px 10px #ff6b3533}.location-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem;padding-bottom:.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.location-name{font-family:Orbitron,monospace;font-size:1rem;color:var(--text-primary);font-weight:600}.location-type{background:var(--primary-orange);color:#fff;padding:.25rem .5rem;border-radius:4px;font-size:.75rem;text-transform:uppercase;font-family:"Exo 2",sans-serif;font-weight:600}.location-stats{display:flex;flex-wrap:wrap;gap:1rem;font-family:"Exo 2",sans-serif;font-size:.9rem;color:var(--text-secondary);margin-bottom:.75rem}.location-stats span{display:flex;align-items:center;gap:.25rem}.location-stats .positive{color:var(--status-success);font-weight:600}.location-stats .negative{color:var(--status-danger);font-weight:600}.transfer-btn{background:linear-gradient(135deg,var(--primary-orange) 0%,#FF8C42 100%);border:1px solid var(--primary-orange);color:#fff;padding:.5rem 1rem;border-radius:6px;font-family:"Exo 2",sans-serif;font-size:.85rem;font-weight:600;cursor:pointer;transition:all .2s;text-transform:uppercase;letter-spacing:.05em}.transfer-btn:hover{background:linear-gradient(135deg,#FF8C42 0%,var(--primary-orange) 100%);box-shadow:0 0 20px #ff6b3580;transform:translateY(-1px)}.transfer-btn:active{transform:translateY(0)}.transfer-modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000c;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);display:flex;align-items:center;justify-content:center;z-index:2000;animation:fadeIn .2s ease-out}.transfer-modal{background:linear-gradient(135deg,#1a1a1afa,#0a0a0afa);border:2px solid var(--primary-orange);border-radius:12px;width:90%;max-width:500px;box-shadow:0 10px 50px #000c,0 0 100px #ff6b3533;animation:slideInScale .3s ease-out}@keyframes slideInScale{0%{transform:scale(.9) translateY(20px);opacity:0}to{transform:scale(1) translateY(0);opacity:1}}.transfer-modal-header{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid rgba(255,107,53,.3)}.transfer-modal-header h3{font-family:Orbitron,monospace;color:var(--primary-orange);margin:0;font-size:1.2rem;text-transform:uppercase;letter-spacing:.05em}.modal-close-btn{background:transparent;border:2px solid var(--primary-orange);color:var(--primary-orange);width:36px;height:36px;border-radius:50%;font-size:1.8rem;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;font-weight:700}.modal-close-btn:hover{background:var(--primary-orange);color:#fff;transform:rotate(90deg)}.transfer-modal-content{padding:1.5rem}.transfer-info{background:#00000080;border:1px solid rgba(255,107,53,.2);border-radius:8px;padding:1rem;margin-bottom:1.5rem}.transfer-info p{margin:.5rem 0;font-family:"Exo 2",sans-serif;color:var(--text-secondary)}.transfer-info strong{color:var(--primary-orange);font-weight:600}.transfer-input-group{margin-bottom:1.5rem}.transfer-input-group label{display:block;margin-bottom:.5rem;font-family:Orbitron,monospace;color:var(--accent-green);font-size:.9rem;text-transform:uppercase;letter-spacing:.05em}.transfer-amount-input{width:100%;padding:.75rem 1rem;background:#00000080;border:2px solid rgba(255,107,53,.3);border-radius:8px;color:var(--text-primary);font-size:1.1rem;font-family:Orbitron,monospace;transition:all .2s}.transfer-amount-input:focus{outline:none;border-color:var(--primary-orange);box-shadow:0 0 20px #ff6b354d}.transfer-actions{display:flex;gap:1rem;justify-content:flex-end}.btn-cancel{padding:.75rem 1.5rem;background:transparent;border:2px solid rgba(255,107,53,.3);border-radius:8px;color:var(--text-secondary);font-family:"Exo 2",sans-serif;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s;text-transform:uppercase;letter-spacing:.05em}.btn-cancel:hover{border-color:#ff6b3580;color:var(--text-primary)}.transfer-confirm{padding:.75rem 2rem;background:linear-gradient(135deg,var(--primary-orange) 0%,#FF8C42 100%);border:2px solid var(--primary-orange);border-radius:8px;color:#fff;font-family:"Exo 2",sans-serif;font-size:.9rem;font-weight:600;cursor:pointer;transition:all .2s;text-transform:uppercase;letter-spacing:.05em}.transfer-confirm:hover{background:linear-gradient(135deg,#FF8C42 0%,var(--primary-orange) 100%);box-shadow:0 0 30px #ff6b3599;transform:translateY(-2px)}.transfer-confirm:active{transform:translateY(0)}.resource-storage .resource-item{display:flex!important;justify-content:space-between!important;padding:.5rem!important;background:var(--primary-light)!important;border-radius:4px!important;font-size:.75rem!important}.resource-storage .resource-name{color:var(--text-secondary)!important;font-size:.75rem!important;font-weight:400!important;text-transform:none!important;letter-spacing:normal!important;margin:0!important}.resource-storage .resource-amount{font-weight:600!important;color:var(--accent-blue)!important;font-size:.75rem!important}.flow-column.sinks{background:linear-gradient(135deg,#8b00001a,#ff44440d);border:1px solid rgba(255,68,68,.3);border-radius:12px;padding:1.5rem}.flow-column.sinks h3{color:var(--status-danger);margin-bottom:1.5rem;font-size:1.1rem;text-transform:uppercase;letter-spacing:.05em;display:flex;align-items:center;gap:.5rem}.flow-column.sinks h3:before{content:"⚠️";font-size:1.2rem}.flow-column.sinks .flow-node{background:#0006;border:1px solid rgba(255,68,68,.3);margin-bottom:1rem}.flow-column.sinks .flow-node.sink{padding:1rem}.flow-column.sinks h4{color:var(--text-primary);margin:0 0 .75rem;font-size:.95rem;font-weight:600}.flow-column.sinks .flow-stats{display:flex;flex-direction:column;gap:.5rem}.flow-column.sinks .flow-stat{display:flex;justify-content:space-between;align-items:center;padding:.5rem;background:#ff44440d;border-radius:6px;border-left:3px solid var(--status-danger)}.flow-column.sinks .flow-stat span:first-child{font-size:.9rem;color:var(--text-secondary);text-transform:capitalize}.flow-column.sinks .flow-stat .negative{color:var(--status-danger);font-weight:600;font-family:Orbitron,monospace}.manager-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid var(--border-color);flex-wrap:wrap;gap:1rem}.manager-header h2{margin:0;color:var(--primary-orange);flex:1;min-width:200px}.header-actions{display:flex;gap:1rem;align-items:center}.planet-list{display:flex!important;flex-direction:column!important;gap:.75rem;max-height:400px;overflow-y:auto!important;overflow-x:hidden!important;padding-right:.5rem;width:100%}.stat-row span.positive{color:#4ade80!important;font-weight:600}.stat-row span.negative,.stat-row span.error{color:#f87171!important;font-weight:600}.stat-row span.warning{color:#fbbf24!important;font-weight:600}.stat-row span.neutral{color:var(--text-secondary)!important}.stat-row span.good{color:#4ade80!important}.btn-primary:disabled{opacity:.4;cursor:not-allowed!important;background:#3f3f46!important;border-color:#52525b!important}.btn-primary:disabled:hover{background:#3f3f46!important;transform:none!important;box-shadow:none!important}.action-buttons{display:none}.archetype-tag{background:#ff980033;border:1px solid rgba(255,152,0,.5);color:#ff9800}.stake-tag{background:#9c27b033;border:1px solid rgba(156,39,176,.5);color:#ba68c8}.planet-purchase-container{padding:1rem;max-width:100%;height:calc(100vh - 120px);margin:0;animation:fadeIn .3s ease;overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.planet-purchase-header{display:flex;align-items:center;gap:1.5rem;padding:1rem;background:linear-gradient(135deg,#212130cc,#14141ee6);border-radius:12px;margin-bottom:1rem;box-shadow:0 4px 16px #0000004d;border:1px solid rgba(100,100,120,.2)}.planet-visual{position:relative;width:80px;height:80px;flex-shrink:0}.planet-sphere{position:relative;width:80px;height:80px;border-radius:50%;overflow:hidden;box-shadow:inset -10px -10px 25px #00000080,0 0 20px #64c8ff4d;animation:rotatePlanet 30s linear infinite}@keyframes rotatePlanet{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.planet-surface{position:absolute;width:100%;height:100%;background:linear-gradient(45deg,#4a5568,#718096,#2d3748,#4a5568,#718096);background-size:200% 200%;animation:surfaceShift 15s ease infinite}.planet-surface[data-type=volcanic]{background:linear-gradient(45deg,#991b1b,#dc2626,#7f1d1d,#991b1b,#dc2626)}.planet-surface[data-type=oceanic]{background:linear-gradient(45deg,#1e40af,#3b82f6,#1e3a8a,#1e40af,#3b82f6)}.planet-surface[data-type=terrestrial]{background:linear-gradient(45deg,#065f46,#10b981,#064e3b,#065f46,#10b981)}.planet-surface[data-type=barren]{background:linear-gradient(45deg,#78716c,#a8a29e,#57534e,#78716c,#a8a29e)}.planet-surface[data-type=dark]{background:linear-gradient(45deg,#1f2937,#374151,#111827,#1f2937,#374151)}.planet-surface[data-type=ice]{background:linear-gradient(45deg,#0ea5e9,#7dd3fc,#0284c7,#0ea5e9,#7dd3fc)}.planet-surface[data-type=gas]{background:linear-gradient(45deg,#7c3aed,#a855f7,#6d28d9,#7c3aed,#a855f7)}.planet-surface[data-type=asteroid-belt]{background:linear-gradient(45deg,#451a03,#92400e,#1c0701,#451a03,#92400e)}@keyframes surfaceShift{0%,to{background-position:0% 50%}50%{background-position:100% 50%}}.planet-atmosphere{position:absolute;width:100%;height:100%;border-radius:50%;background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.3) 0%,rgba(255,255,255,.1) 40%,transparent 70%)}.planet-glow{position:absolute;top:-10px;left:-10px;right:-10px;bottom:-10px;border-radius:50%;background:radial-gradient(circle,transparent 30%,rgba(100,200,255,.1) 70%,rgba(100,200,255,.2) 100%);filter:blur(15px);animation:pulse 4s ease infinite}@keyframes pulse{0%,to{opacity:.5}50%{opacity:1}}.planet-title-section{flex:1}.planet-name{font-size:2rem;font-weight:700;background:linear-gradient(135deg,#fff,#a78bfa);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;color:transparent;margin:0 0 .5rem}.planet-subtitle{display:flex;align-items:center;gap:.75rem;font-size:.95rem;color:#ffffffb3}.faction-indicator{padding:.3rem .8rem;border-radius:16px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;font-size:.8rem}.faction-indicator.faction-mud{background:linear-gradient(135deg,#8b4513,#d2691e);color:#fff}.faction-indicator.faction-oni{background:linear-gradient(135deg,indigo,#8a2be2);color:#fff}.faction-indicator.faction-ust{background:linear-gradient(135deg,navy,#1e90ff);color:#fff}.separator{color:#ffffff4d}.planet-type{color:#a78bfa;font-weight:500}.purchase-content{display:flex;flex-direction:column;gap:1rem}.info-section{display:flex;gap:1rem;width:100%;align-items:stretch;justify-content:space-between}.info-card{background:linear-gradient(135deg,#21213099,#14141ecc);border-radius:12px;padding:1rem;border:1px solid rgba(100,100,120,.2);box-shadow:0 4px 16px #0003;transition:all .3s ease;display:flex;flex-direction:column;flex:1;width:calc(50% - .5rem);min-width:0}.info-card:hover{transform:translateY(-2px);box-shadow:0 6px 24px #0000004d;border-color:#a78bfa4d}.card-header{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem;padding-bottom:.5rem;border-bottom:1px solid rgba(100,100,120,.2)}.card-header i{font-size:1.2rem}.card-header h3{font-size:1rem;font-weight:600;color:#fff;margin:0}.card-content{display:flex;flex-direction:column;gap:.5rem;flex:1}.detail-row{display:flex;justify-content:space-between;align-items:center;padding:.3rem 0;font-size:.9rem}.detail-row:not(:last-child){border-bottom:1px solid rgba(100,100,120,.1)}.detail-label{color:#fff9;font-size:.85rem}.detail-value{color:#fff;font-weight:500;font-size:.9rem}.rent-cost{display:flex;align-items:center;gap:.4rem;color:#fbbf24}.atlas-icon{font-size:1rem}.tier-indicator{padding:.2rem .6rem;background:linear-gradient(135deg,#6366f1,#8b5cf6);border-radius:10px;font-size:.8rem}.resources-vertical-list{display:flex;flex-direction:column;gap:.4rem;max-height:180px;overflow-y:auto;padding-right:.5rem;flex:1;min-height:120px}.resource-list-item{display:flex;align-items:center;gap:.75rem;padding:.5rem;background:#14141e80;border-radius:8px;border:1px solid rgba(100,100,120,.2);transition:all .2s ease}.resource-list-item:hover{background:#1e1e2899;border-color:#a78bfa66;transform:translate(4px)}.resource-list-item.ore{border-left:3px solid rgba(251,191,36,.5)}.resource-list-item.rare{border-left:3px solid rgba(168,85,247,.5);background:#a855f70d}.resource-list-item .resource-icon{font-size:1.2rem;filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.resource-list-item .resource-name{font-size:.85rem;color:#ffffffe6;text-transform:capitalize;flex:1;display:flex;align-items:center;gap:.5rem}.resource-richness{font-size:.75rem;color:#a78bfacc;font-weight:500}.resource-tier-badge{padding:.15rem .35rem;border-radius:4px;font-size:.65rem;font-weight:600;letter-spacing:.5px;margin-left:auto}.resource-list-item.tier-3 .resource-tier-badge{background:#9b59b633;color:#9b59b6;border:1px solid rgba(155,89,182,.3)}.resource-list-item.tier-4 .resource-tier-badge{background:#ff851b33;color:#ff851b;border:1px solid rgba(255,133,27,.3)}.resource-list-item.tier-5 .resource-tier-badge{background:#ff413633;color:#ff4136;border:1px solid rgba(255,65,54,.3)}.resource-list-item.crystal{border-left:3px solid rgba(100,200,255,.5);background:#64c8ff0d}.resource-summary{padding-top:.5rem;margin-top:auto;border-top:1px solid rgba(100,100,120,.2)}.summary-text{color:#fff9;font-size:.8rem;margin:0;text-align:center}.tier-selection{background:linear-gradient(135deg,#21213099,#14141ecc);border-radius:12px;padding:.85rem;border:1px solid rgba(100,100,120,.2);flex-shrink:0}.tier-selection h3{font-size:1rem;margin-bottom:.25rem;color:#fff}.tier-subtitle{font-size:.8rem;color:#ffffff80;margin-bottom:.75rem}.tier-options{display:flex;gap:.65rem;justify-content:space-between;flex-wrap:wrap}.tier-option{flex:1;padding:.6rem;background:#14141e80;border:2px solid rgba(100,100,120,.2);border-radius:10px;cursor:pointer;transition:all .2s ease;display:flex;flex-direction:column;align-items:center;gap:.25rem;position:relative}.tier-option:hover:not(.locked){transform:translateY(-2px);background:#1e1e2899;border-color:#a78bfa66}.tier-option.selected{background:linear-gradient(135deg,#6366f133,#8b5cf633);border-color:#8b5cf6;transform:scale(1.05)}.tier-option.locked{opacity:.5;cursor:not-allowed;background:#0a0a0a80}.tier-option.locked:hover{transform:none}.tier-option.cultivation-stake{border-color:#22c55e66;background:linear-gradient(135deg,#22c55e1a,#16a34a1a)}.tier-option.cultivation-stake:hover:not(.locked){border-color:#22c55e99;background:linear-gradient(135deg,#22c55e33,#16a34a33)}.tier-option.cultivation-stake.selected{background:linear-gradient(135deg,#22c55e4d,#16a34a4d);border-color:#22c55e}.cultivation-indicator{margin-left:.25rem;font-size:.9em;background:#22c55e33;border-radius:50%;padding:1px 3px;border:1px solid rgba(34,197,94,.4)}.cultivation-label{font-size:.7rem;color:#22c55e;font-weight:600;text-transform:uppercase;letter-spacing:.05em;background:#22c55e1a;padding:2px 4px;border-radius:3px;margin-top:2px;display:inline-block}.planet-card.has-cultivation-stakes{border-left:3px solid #22c55e;background:linear-gradient(135deg,#22c55e0d,#16a34a0d)}.planet-card.has-cultivation-stakes:hover{background:linear-gradient(135deg,#22c55e1a,#16a34a1a);border-left-color:#16a34a}.planet-card.has-cultivation-stakes.selected{background:linear-gradient(135deg,#22c55e26,#16a34a26);border-left-color:#15803d}.cultivation-planet-indicator{display:flex;align-items:center;justify-content:center;font-size:.7em;background:#22c55e33;border:1px solid #22c55e;border-radius:50%;padding:1px 2px;width:18px;height:18px}.cultivation-available-label{display:block;font-size:.65rem;color:#22c55e;font-weight:500;text-transform:uppercase;letter-spacing:.05em;margin-top:2px}.planet-icon{font-size:1.5em}.planet-icon-container{display:flex;flex-direction:column;align-items:center;gap:8px}.tags-header{display:flex;justify-content:space-between;align-items:center;cursor:pointer;padding:.25rem 0;-webkit-user-select:none;user-select:none}.tags-header:hover{background:#ffffff0d;border-radius:4px;padding:.25rem .5rem}.collapse-toggle{background:none;border:none;color:#9ca3af;font-size:.8rem;cursor:pointer;padding:.25rem;border-radius:3px;transition:all .2s ease}.collapse-toggle:hover{color:#e5e7eb;background:#ffffff1a}.cultivation-filter{margin:.5rem 0}.cultivation-filter-label{display:flex;align-items:center;gap:.5rem;cursor:pointer;padding:.5rem;border-radius:6px;transition:all .2s ease;background:#14141e4d;border:1px solid rgba(100,100,120,.2)}.cultivation-filter-label:hover{background:#1e1e2866;border-color:#22c55e4d}.cultivation-checkbox{display:none}.checkmark{display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:4px;border:2px solid rgba(100,100,120,.3);background:#14141e80;transition:all .2s ease;font-size:12px}.cultivation-checkbox:checked+.checkmark{background:linear-gradient(135deg,#22c55e,#16a34a);border-color:#22c55e;color:#fff}.filter-text{font-size:.85rem;font-weight:500;color:#e5e7eb;transition:color .2s ease}.cultivation-checkbox:checked~.filter-text{color:#22c55e}.lock-overlay{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:1.5rem;opacity:.7}.tier-number{font-size:1.3rem;font-weight:700;background:linear-gradient(135deg,#6366f1,#8b5cf6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;color:transparent}.tier-info{display:flex;flex-direction:column;align-items:center;gap:.2rem;font-size:.7rem;color:#ffffffb3}.purchase-action{background:linear-gradient(135deg,#21213099,#14141ecc);border-radius:12px;padding:1rem;border:1px solid rgba(100,100,120,.2);box-shadow:0 4px 16px #0003}.purchase-summary{display:grid;grid-template-columns:1fr 1fr;gap:.3rem 1rem;margin-bottom:.75rem;padding:.5rem;background:#14141e80;border-radius:8px}.summary-row{display:flex;justify-content:space-between;align-items:center;padding:.25rem 0;color:#fffc;font-size:.85rem}.summary-row strong{color:#fff;font-size:.9rem}.summary-row.total{grid-column:span 2;padding-top:.5rem;border-top:1px solid rgba(100,100,120,.2);font-size:.95rem}.btn-purchase{width:100%;padding:.85rem;background:linear-gradient(135deg,#6366f1,#8b5cf6);color:#fff;font-size:.95rem;font-weight:600;border:none;border-radius:10px;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.75rem;transition:all .3s ease;box-shadow:0 4px 16px #6366f14d;position:relative;overflow:hidden}.btn-purchase:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .6s ease}.btn-purchase:hover{transform:translateY(-2px);box-shadow:0 6px 24px #6366f166;background:linear-gradient(135deg,#7c7ff3,#9f6eff)}.btn-purchase:hover:before{left:100%}.btn-purchase:disabled{opacity:.5;cursor:not-allowed;background:linear-gradient(135deg,#4a4a4a,#6a6a6a)}.btn-purchase:disabled:hover{transform:none}.btn-icon{font-size:1.2rem}.btn-arrow{font-size:1rem;transition:transform .3s ease}.btn-purchase:hover .btn-arrow{transform:translate(4px)}.btn-purchase:active{transform:scale(.98)}.no-resources{color:#ffffff80;font-size:.85rem;text-align:center;padding:1rem}.main-content{flex:1;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;max-width:100%;padding:1rem!important}.main-content:has(.planet-purchase-container){padding:.5rem!important}.claim-stakes-app:has(.planet-purchase-container) .resource-manager,.claim-stakes-app:has(.planet-purchase-container) .resources-overlay,.claim-stakes-app:has(.planet-purchase-container) .bottom-resources{display:none!important}.sidebar{max-height:calc(100vh - 100px)!important;overflow-y:auto!important;overflow-x:hidden!important}.planet-purchase-container::-webkit-scrollbar{width:8px}.planet-purchase-container::-webkit-scrollbar-track{background:#14141e4d;border-radius:4px}.planet-purchase-container::-webkit-scrollbar-thumb{background:#64647866;border-radius:4px}.planet-purchase-container::-webkit-scrollbar-thumb:hover{background:#64647899}.resources-vertical-list::-webkit-scrollbar{width:6px}.resources-vertical-list::-webkit-scrollbar-track{background:#14141e4d;border-radius:3px}.resources-vertical-list::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#6366f1,#8b5cf6);border-radius:3px}.resources-vertical-list::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#7c7ff3,#9f6eff)}@media (max-width: 1440px){.planet-purchase-container{font-size:.95rem}.planet-name{font-size:1.8rem}.info-section{gap:.75rem}.planet-visual,.planet-sphere{width:70px;height:70px}}@media (max-width: 1024px){.info-section{flex-direction:column}.info-card{width:100%}.resources-vertical-list{max-height:100px}.purchase-action{padding:.75rem}.purchase-summary{grid-template-columns:1fr;gap:.25rem}}.ship-transfer-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000d9;display:flex;align-items:center;justify-content:center;z-index:10000;animation:fadeIn .3s ease-in-out}.ship-transfer-modal{background:linear-gradient(135deg,var(--primary-light) 0%,var(--primary-dark) 100%);border:2px solid var(--primary-orange);border-radius:15px;padding:30px;min-width:600px;max-width:800px;box-shadow:0 0 50px #ff6b354d,inset 0 0 20px #ff6b351a;animation:slideUp .4s ease-out}.ship-transfer-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:30px}.ship-transfer-header h2{color:var(--primary-orange);font-size:24px;margin:0;text-transform:uppercase;letter-spacing:2px;text-shadow:0 0 10px rgba(255,107,53,.5)}.modal-controls{display:flex;gap:10px}.minimize-btn,.skip-btn{background:#ff6b3533;border:1px solid var(--primary-orange);color:var(--primary-orange);padding:5px 12px;border-radius:5px;cursor:pointer;font-size:16px;transition:all .3s ease}.minimize-btn:hover,.skip-btn:hover{background:#ff6b3566;transform:scale(1.1)}.ship-transfer-minimized{position:fixed;bottom:20px;right:20px;background:linear-gradient(135deg,var(--primary-light) 0%,var(--primary-dark) 100%);border:2px solid var(--primary-orange);border-radius:10px;padding:15px;min-width:300px;z-index:10000;box-shadow:0 0 20px #ff6b354d;animation:slideIn .3s ease-out}.minimized-content{display:flex;align-items:center;gap:10px;margin-bottom:10px}.minimized-icon{font-size:20px;animation:pulse 2s ease-in-out infinite}.minimized-text{flex:1;color:var(--text-primary);font-size:14px}.minimized-progress{color:var(--primary-orange);font-weight:600;font-size:14px}.expand-btn{background:#ff6b3533;border:1px solid var(--primary-orange);color:var(--primary-orange);padding:2px 8px;border-radius:3px;cursor:pointer;transition:all .3s ease}.expand-btn:hover{background:#ff6b3566}.minimized-progress-bar{height:4px;background:#00000080;border-radius:2px;overflow:hidden}.minimized-progress-bar .progress-fill{height:100%;background:linear-gradient(90deg,var(--primary-orange) 0%,var(--accent-gold) 100%);transition:width .1s linear}.ship-animation-container{background:#00000080;border-radius:10px;padding:40px 20px;margin-bottom:25px;border:1px solid rgba(255,107,53,.3)}.ship-path{position:relative;display:flex;align-items:center;justify-content:space-between;height:80px}.location-marker{display:flex;flex-direction:column;align-items:center;gap:8px;z-index:2;position:relative}.location-marker.start{align-items:flex-start}.location-marker.end{align-items:flex-end}.location-icon{font-size:32px;filter:drop-shadow(0 0 5px rgba(255,107,53,.5))}.location-label{color:var(--text-secondary);font-size:12px;text-transform:uppercase;letter-spacing:1px;white-space:nowrap}.ship-track{position:absolute;left:60px;right:60px;height:2px;background:#ff6b3533;top:50%;transform:translateY(-50%)}.ship-icon{position:absolute;font-size:36px;top:50%;transform:translate(-50%,-50%);transition:left .1s linear;filter:drop-shadow(0 0 15px rgba(255,107,53,.8));z-index:3}.ship-icon.loading{animation:pulse 1s ease-in-out infinite}.ship-icon.traveling{animation:wobble .5s ease-in-out infinite}.ship-icon.unloading{animation:pulse 1s ease-in-out infinite}@keyframes pulse{0%,to{transform:translate(-50%,-50%) scale(1)}50%{transform:translate(-50%,-50%) scale(1.1)}}@keyframes wobble{0%,to{transform:translate(-50%,-50%) rotate(0)}25%{transform:translate(-50%,-50%) rotate(-5deg)}75%{transform:translate(-50%,-50%) rotate(5deg)}}.ship-trail{position:absolute;left:0;height:2px;background:linear-gradient(90deg,transparent 0%,rgba(255,107,53,.6) 50%,rgba(255,107,53,.8) 100%);top:50%;transform:translateY(-50%);transition:width .1s linear;box-shadow:0 0 10px #ff6b3599}.transfer-phase{display:flex;align-items:center;justify-content:center;gap:15px;margin-bottom:20px}.phase-icon{font-size:28px;animation:bounce 1s ease-in-out infinite}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-5px)}}.phase-message{color:var(--text-primary);font-size:16px;font-weight:500}.progress-container{margin-bottom:25px}.progress-bar{height:20px;background:#00000080;border-radius:10px;border:1px solid rgba(255,107,53,.3);overflow:hidden;position:relative}.progress-fill{height:100%;background:linear-gradient(90deg,var(--primary-orange) 0%,var(--accent-gold) 100%);transition:width .1s linear;box-shadow:inset 0 0 10px #ffd7004d;position:relative;overflow:hidden}.progress-fill:after{content:"";position:absolute;top:0;left:0;right:0;height:100%;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,.2) 50%,transparent 100%);animation:shimmer 1s linear infinite}@keyframes shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.progress-text{text-align:center;color:var(--text-secondary);font-size:12px;margin-top:8px}.cargo-manifest{background:#0000004d;border-radius:8px;padding:15px;margin-bottom:20px;border:1px solid rgba(255,107,53,.2)}.cargo-manifest h3{color:var(--primary-orange);font-size:16px;margin:0 0 10px;text-transform:uppercase;letter-spacing:1px}.manifest-items{display:flex;flex-direction:column;gap:8px;margin-bottom:10px;max-height:120px;overflow-y:auto}.manifest-items::-webkit-scrollbar{width:6px}.manifest-items::-webkit-scrollbar-track{background:#0000004d;border-radius:3px}.manifest-items::-webkit-scrollbar-thumb{background:var(--primary-orange);border-radius:3px}.manifest-item{display:flex;justify-content:space-between;padding:5px 10px;background:#ff6b351a;border-radius:4px;font-size:14px}.resource-name{color:var(--text-primary);text-transform:capitalize}.resource-amount{color:var(--accent-gold);font-weight:600}.manifest-total{padding-top:10px;border-top:1px solid rgba(255,107,53,.2);display:flex;justify-content:space-between;color:var(--text-primary);font-size:14px}.ship-info{display:grid;grid-template-columns:repeat(3,1fr);gap:15px;background:#0003;border-radius:8px;padding:15px;border:1px solid rgba(255,107,53,.1)}.ship-stat{display:flex;flex-direction:column;align-items:center;gap:5px}.stat-label{color:var(--text-secondary);font-size:11px;text-transform:uppercase;letter-spacing:1px}.stat-value{color:var(--primary-orange);font-size:14px;font-weight:600}@media (max-width: 768px){.ship-transfer-modal{min-width:90%;padding:20px}.ship-info{grid-template-columns:1fr}}.recipes-container{min-height:100vh;background:linear-gradient(135deg,#0a0a0a,#1a1a1a);position:relative;overflow:hidden;max-width:100vw}body:has(.recipes-container){overflow-x:hidden}.recipes-container:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,107,53,.03) 0%,transparent 70%);animation:rotateGradient 30s linear infinite;pointer-events:none}@keyframes rotateGradient{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.recipes-header{padding:1.5rem 2rem;background:#1a1a1af2;border-bottom:2px solid var(--primary-orange);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;justify-content:space-between;align-items:center;position:relative;z-index:10}.recipes-header h1{font-size:2rem;font-weight:700;background:linear-gradient(135deg,#ff6b35,gold);-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-shadow:0 0 30px rgba(255,107,53,.5)}.status-bar{display:flex;gap:2rem;align-items:center}.status-item{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#ff6b351a;border:1px solid rgba(255,107,53,.3);border-radius:20px;transition:all .3s ease}.status-item:hover{background:#ff6b3533;transform:translateY(-2px);box-shadow:0 4px 15px #ff6b354d}.status-label{color:var(--text-secondary);font-size:.875rem}.status-value{color:var(--primary-orange);font-weight:600;font-size:1rem}.recipes-content{display:grid;grid-template-columns:380px minmax(500px,1fr) 360px;gap:1rem;padding:1rem;height:calc(100vh - 120px);position:relative;z-index:5;max-width:100vw;overflow-x:hidden}.sidebar{background:#1a1a1af2;border:1px solid rgba(255,107,53,.2);border-radius:12px;overflow-y:auto;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 8px 32px #0006;scrollbar-width:thin;scrollbar-color:var(--primary-orange) transparent}.sidebar::-webkit-scrollbar{width:6px}.sidebar::-webkit-scrollbar-track{background:transparent}.sidebar::-webkit-scrollbar-thumb{background:var(--primary-orange);border-radius:3px}.sidebar.right{background:linear-gradient(180deg,#1a1a1af2,#141414f2)}.main-content{background:#1a1a1af2;border:1px solid rgba(255,107,53,.2);border-radius:12px;padding:1.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 8px 32px #0006;display:flex;flex-direction:column;position:relative;overflow-y:auto;overflow-x:hidden}.main-content:before{content:"";position:absolute;top:0;left:0;right:0;height:100px;background:linear-gradient(180deg,rgba(255,107,53,.1) 0%,transparent 100%);pointer-events:none}.visualization-container{display:flex;flex-direction:column;height:100%;gap:1rem}.visualization-header{display:flex;justify-content:space-between;align-items:center;padding-bottom:1rem;border-bottom:1px solid rgba(255,107,53,.2);position:relative;z-index:2}.visualization-header h2{font-size:1.5rem;background:linear-gradient(135deg,#ff6b35,gold);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.view-controls{display:flex;gap:.5rem;padding:.25rem;background:#0000004d;border-radius:8px}.view-btn{padding:.5rem 1rem;background:transparent;border:1px solid transparent;color:var(--text-secondary);border-radius:6px;cursor:pointer;transition:all .3s ease;font-size:.875rem;font-weight:500}.view-btn:hover{color:var(--primary-orange);background:#ff6b351a}.view-btn.active{background:linear-gradient(135deg,#ff6b354d,#ffd70033);border-color:var(--primary-orange);color:var(--text-primary);box-shadow:0 0 15px #ff6b354d}.tree-container{flex:1;position:relative;background:#0000004d;border-radius:8px;border:1px solid rgba(255,107,53,.1);overflow:hidden;min-height:400px}.recipe-tree-canvas-container{width:100%;height:100%;position:relative}.tree-loading-indicator{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#1a1a1af2;padding:1rem 2rem;border-radius:8px;border:1px solid var(--primary-orange);z-index:100;animation:pulse 1.5s infinite}.control-panel{background:linear-gradient(135deg,#1e1e1ef2,#141414f2);border-radius:8px;padding:1rem;border:1px solid rgba(255,107,53,.2);display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;margin-top:auto}.control-group{display:flex;flex-direction:column;gap:.5rem}.control-group label{font-size:.75rem;text-transform:uppercase;color:var(--text-secondary);letter-spacing:.05em;font-weight:600}.control-input-group{display:flex;gap:.5rem;align-items:center}.control-input-group input[type=number]{flex:1;padding:.5rem;background:#00000080;border:1px solid rgba(255,107,53,.3);border-radius:6px;color:var(--text-primary);font-size:.9rem;font-weight:600;min-width:0}.control-input-group input[type=number]:focus{outline:none;border-color:var(--primary-orange);box-shadow:0 0 20px #ff6b354d}.quick-btn{padding:.5rem .75rem;background:#ff6b3533;border:1px solid rgba(255,107,53,.4);border-radius:6px;color:var(--primary-orange);cursor:pointer;transition:all .2s;font-weight:600;font-size:.875rem}.quick-btn:hover{background:#ff6b354d;transform:translateY(-1px);box-shadow:0 4px 12px #ff6b354d}.control-slider{display:flex;flex-direction:column;gap:.5rem}.slider{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:100%;height:4px;background:#ff6b3533;border-radius:2px;outline:none}.slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:16px;height:16px;background:var(--primary-orange);border-radius:50%;cursor:pointer;box-shadow:0 0 10px #ff6b3580}.slider::-moz-range-thumb{width:16px;height:16px;background:var(--primary-orange);border-radius:50%;cursor:pointer;box-shadow:0 0 10px #ff6b3580}.slider-value{text-align:center;color:var(--primary-orange);font-weight:600}.tree-controls{display:flex;gap:.5rem}.tree-control-btn{padding:.75rem;background:#ff6b3526;border:1px solid rgba(255,107,53,.3);border-radius:6px;color:var(--primary-orange);cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;font-size:1.25rem}.tree-control-btn:hover{background:#ff6b3540;transform:scale(1.1)}.resource-stats{display:grid;grid-template-columns:repeat(2,1fr);gap:.75rem;padding:1rem;background:#0000004d;border-radius:8px;border:1px solid rgba(255,107,53,.1)}.stat-item{display:flex;justify-content:space-between;padding:.5rem;background:#ff6b350d;border-radius:4px;border-left:2px solid var(--primary-orange)}.stat-label{font-size:.75rem;color:var(--text-secondary)}.stat-value{font-weight:600;color:var(--primary-orange)}.empty-visualization{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center;padding:3rem}.empty-visualization h2{font-size:2rem;margin-bottom:1rem;background:linear-gradient(135deg,#ff6b35,gold);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.empty-visualization p{color:var(--text-secondary);font-size:1.125rem}.empty-analysis{padding:2rem;text-align:center;color:var(--text-secondary)}.action-buttons{display:flex;flex-direction:column;gap:.75rem;padding:1rem;border-top:1px solid rgba(255,107,53,.2);margin-top:auto}.btn{padding:.75rem 1rem;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease;text-align:center;border:1px solid transparent;position:relative;overflow:hidden}.btn:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background:#ffffff1a;border-radius:50%;transform:translate(-50%,-50%);transition:width .6s,height .6s}.btn:hover:before{width:300px;height:300px}.btn-primary{background:linear-gradient(135deg,#ff6b35,#ff8659);color:#fff;box-shadow:0 4px 15px #ff6b354d}.btn-primary:hover{transform:translateY(-2px);box-shadow:0 6px 20px #ff6b3566}.btn-secondary{background:#ff6b351a;border:1px solid rgba(255,107,53,.3);color:var(--primary-orange)}.btn-secondary:hover{background:#ff6b3533;transform:translateY(-2px)}.btn-sm{padding:.5rem .75rem;font-size:.875rem}.btn-danger{background:#ff413633;border:1px solid rgba(255,65,54,.4);color:#ff4136}.btn-danger:hover{background:#ff41364d}.build-plans-modal{max-width:800px;max-height:80vh;overflow-y:auto}.build-plans-list{display:flex;flex-direction:column;gap:1rem;padding:1rem}.build-plan-card{background:#1a1a1af2;border:1px solid rgba(255,107,53,.2);border-radius:8px;padding:1rem;transition:all .3s ease}.build-plan-card:hover{border-color:var(--primary-orange);box-shadow:0 4px 15px #ff6b3533}.plan-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.plan-header h3{color:var(--primary-orange);font-size:1.125rem}.plan-date{color:var(--text-secondary);font-size:.875rem}.plan-details{display:grid;grid-template-columns:repeat(3,1fr);gap:.5rem;margin-bottom:.75rem;font-size:.875rem}.plan-notes{grid-column:1 / -1;color:var(--text-secondary);font-style:italic}.plan-resources{margin-bottom:.75rem;font-size:.875rem}.resource-chip{display:inline-block;padding:.25rem .5rem;background:#ff6b351a;border:1px solid rgba(255,107,53,.3);border-radius:4px;margin:.25rem;font-size:.75rem;color:var(--primary-orange)}.plan-actions{display:flex;gap:.5rem;justify-content:flex-end}.recipe-card-quick-view{position:absolute;top:.5rem;right:.5rem;display:flex;gap:.25rem}.quick-view-btn{width:32px;height:32px;padding:0;background:#ff6b3533;border:1px solid rgba(255,107,53,.3);border-radius:4px;color:var(--primary-orange);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;font-size:1rem}.quick-view-btn:hover{background:#ff6b354d;transform:scale(1.1);box-shadow:0 2px 8px #ff6b3566}.canvas-controls-overlay{position:absolute;bottom:1rem;right:1rem;display:flex;gap:.5rem;z-index:10}.canvas-control{width:36px;height:36px;background:#1a1a1ae6;border:1px solid rgba(255,107,53,.3);border-radius:6px;color:var(--primary-orange);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s}.canvas-control:hover{background:#ff6b3533;transform:scale(1.1)}@keyframes slideIn{0%{transform:translateY(20px);opacity:0}to{transform:translateY(0);opacity:1}}.visualization-container>*{animation:slideIn .3s ease-out}@media (max-width: 1800px){.recipes-content{grid-template-columns:360px minmax(450px,1fr) 340px}}@media (max-width: 1600px){.recipes-content{grid-template-columns:340px minmax(400px,1fr) 320px}}@media (max-width: 1400px){.recipes-content{grid-template-columns:320px 1fr 300px;gap:.75rem}}@media (max-width: 1200px){.recipes-content{grid-template-columns:300px 1fr}.sidebar.right{display:none}}@media (max-width: 768px){.recipes-content{grid-template-columns:1fr}.sidebar{display:none}.control-panel{grid-template-columns:1fr}}.settings-panel-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000000d9;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:1000;display:flex;align-items:center;justify-content:center;animation:fadeIn .2s ease-out}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.settings-panel{background:linear-gradient(135deg,#1a1a2e,#0f0f23);border-radius:20px;width:90%;max-width:900px;max-height:85vh;display:flex;flex-direction:column;box-shadow:0 20px 60px #ff6b3533,0 0 100px #ff6b351a,inset 0 0 20px #ff6b350d;border:1px solid rgba(255,107,53,.3);animation:slideUp .3s ease-out;overflow:hidden}@keyframes slideUp{0%{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}.settings-header{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 2rem;background:linear-gradient(90deg,#ff6b351a,#00a8e81a);border-bottom:1px solid rgba(255,107,53,.3);position:relative;overflow:hidden}.settings-header:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,107,53,.3),transparent);animation:shimmer 3s infinite}.settings-header h2{margin:0;font-size:1.5rem;font-weight:700;background:linear-gradient(135deg,#ff6b35,gold);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.close-button{background:none;border:none;color:#999;font-size:2rem;cursor:pointer;padding:0;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .3s ease}.close-button:hover{background:#ff6b3533;color:#ff6b35;transform:rotate(90deg)}.settings-tabs{display:flex;background:#0000004d;padding:.5rem;gap:.5rem;border-bottom:1px solid rgba(255,107,53,.2)}.settings-tab{flex:1;padding:.75rem 1rem;background:transparent;border:1px solid transparent;color:#666;cursor:pointer;border-radius:10px;transition:all .3s ease;font-weight:500;font-size:.95rem;position:relative;overflow:hidden}.settings-tab:hover:not(.active){background:#ff6b351a;color:#999;border-color:#ff6b3533}.settings-tab.active{background:linear-gradient(135deg,#ff6b3533,#ffd7001a);color:#ff6b35;border-color:#ff6b3580;box-shadow:0 4px 15px #ff6b3533,inset 0 0 20px #ff6b351a}.settings-tab.active:after{content:"";position:absolute;bottom:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,#FF6B35,transparent);animation:glow 2s ease-in-out infinite}@keyframes glow{0%,to{opacity:.5}50%{opacity:1}}.settings-content{flex:1;overflow-y:auto;padding:2rem;background:linear-gradient(to bottom,transparent,rgba(0,0,0,.2))}.settings-content::-webkit-scrollbar{width:8px}.settings-content::-webkit-scrollbar-track{background:#0000004d;border-radius:4px}.settings-content::-webkit-scrollbar-thumb{background:linear-gradient(to bottom,#ff6b35,gold);border-radius:4px}.starbase-settings{animation:fadeInUp .5s ease-out}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.starbase-current{background:linear-gradient(135deg,#00a8e81a,#00c8961a);border-radius:15px;padding:1.5rem;border:1px solid rgba(0,168,232,.3);position:relative;overflow:hidden}.starbase-current:before{content:"";position:absolute;top:-50%;right:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(0,168,232,.1) 0%,transparent 70%);animation:rotate 20s linear infinite}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.starbase-current h3{margin:0 0 1rem;color:#00a8e8;font-size:1.2rem;position:relative}.starbase-level-display{margin:1rem 0}.level-badge{display:flex;flex-direction:column;align-items:center;justify-content:center;width:200px;height:200px;padding:2rem;background:linear-gradient(135deg,#ff6b35,gold);border-radius:50%;box-shadow:0 10px 30px #ff6b3566,0 0 60px #ffd70033,inset 0 0 20px #ffffff1a;margin:1.5rem auto;position:relative;animation:levelPulse 3s ease-in-out infinite;overflow:hidden}@keyframes levelPulse{0%,to{box-shadow:0 10px 30px #ff6b3566,0 0 60px #ffd70033,inset 0 0 20px #ffffff1a}50%{box-shadow:0 15px 40px #ff6b3580,0 0 80px #ffd7004d,inset 0 0 30px #fff3}}.level-number{color:#fff;text-shadow:0 2px 6px rgba(0,0,0,.4);text-align:center;line-height:1;margin:0}.level-number>div:first-child{font-size:1.1rem;font-weight:600;text-transform:uppercase;letter-spacing:2px;margin-bottom:.25rem}.level-number>div:last-child{font-size:3.5rem;font-weight:700;line-height:.9}.level-name{color:#fff;font-size:.9rem;font-weight:600;opacity:.95;text-align:center;text-transform:uppercase;letter-spacing:1px;margin-top:.5rem;max-width:140px;word-wrap:break-word}.level-progress{width:100%;height:8px;background:#0000004d;border-radius:4px;overflow:hidden;position:relative}.progress-fill{height:100%;background:linear-gradient(90deg,#ff6b35,gold);border-radius:4px;transition:width .5s ease;box-shadow:0 0 10px #ff6b3580;position:relative}.progress-fill:after{content:"";position:absolute;top:0;right:0;bottom:0;width:20px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.5));animation:shine 2s infinite}@keyframes shine{0%{transform:translate(-20px)}to{transform:translate(20px)}}.starbase-features{margin-top:1.5rem}.starbase-features h4{color:gold;margin-bottom:1rem;font-size:1rem}.starbase-features ul{list-style:none;padding:0}.starbase-features li{padding:.5rem 0;color:#ccc;display:flex;align-items:center;gap:.5rem;transition:all .3s ease}.starbase-features li:hover{color:#fff;transform:translate(5px)}.starbase-capabilities{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem;margin-top:1.5rem}.capability{background:#0003;padding:1.5rem 1.25rem;border-radius:12px;border:1px solid rgba(255,107,53,.2);display:flex;flex-direction:column;align-items:center;transition:all .3s ease;min-height:120px}.capability:hover{background:#0000004d;border-color:#ff6b3566;transform:translateY(-2px)}.capability h4{margin:0 0 1.25rem;color:#ff6b35;font-size:1rem;font-weight:600;text-align:center;display:flex;align-items:center;gap:.5rem;white-space:nowrap}.settings-tier-badges{display:flex;gap:.5rem;justify-content:center;align-items:center;flex-wrap:wrap;padding-top:.5rem}.settings-tier-badge{width:42px;height:42px;display:flex;align-items:center;justify-content:center;border-radius:10px;font-weight:700;font-size:.9rem;transition:all .3s ease;position:relative}.settings-tier-badge.unlocked{background:linear-gradient(135deg,#00c896,#00a8e8);color:#fff;box-shadow:0 4px 15px #00c8964d;animation:pulse 2s infinite}@keyframes pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.tier-badge.locked,.settings-tier-badge.locked{background:#0000004d;color:#666;border:1px solid #333}.plot-counts{display:grid;grid-template-columns:repeat(auto-fit,minmax(50px,1fr));gap:.4rem;width:100%;padding-top:.5rem}.plot-count{display:flex;flex-direction:column;align-items:center;gap:.25rem;padding:.5rem}.plot-tier{color:#999;font-size:.8rem;font-weight:600;text-transform:uppercase}.plot-number{background:linear-gradient(135deg,gold,#ff6b35);color:#fff;padding:.4rem .8rem;border-radius:50%;font-weight:700;font-size:1.1rem;width:36px;height:36px;display:flex;align-items:center;justify-content:center;box-shadow:0 3px 10px #ff6b354d}.starbase-controls{display:flex;gap:1rem;margin-top:2rem}.starbase-controls button{flex:1;padding:1rem;border-radius:10px;font-weight:700;transition:all .3s ease;text-transform:uppercase;letter-spacing:1px}.starbase-controls button:disabled{opacity:.3;cursor:not-allowed}.starbase-next{margin-top:2rem;padding:1.5rem;background:linear-gradient(135deg,#ffd7001a,#ff6b351a);border-radius:15px;border:1px solid rgba(255,215,0,.3);animation:fadeInUp .5s ease-out .2s backwards}.starbase-next h3{color:gold;margin:0 0 1rem}.next-level-info h4{color:#ff6b35;margin:0 0 1rem}.next-features h5{color:#00c896;margin:0 0 .5rem;font-size:.95rem}.next-features ul{list-style:none;padding:0}.next-features li{color:#aaa;padding:.25rem 0;transition:color .3s ease}.next-features li:hover{color:#fff}.preferences-settings,.data-settings,.about-settings{animation:fadeInUp .5s ease-out}.setting-group{margin-bottom:1.5rem;padding:1rem;background:#0003;border-radius:10px;border:1px solid rgba(255,107,53,.2);transition:all .3s ease}.setting-group:hover{border-color:#ff6b3566;background:#0000004d}.setting-group label{display:flex;justify-content:space-between;align-items:center;color:#ccc}.setting-group input[type=checkbox]{width:50px;height:25px;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#0000004d;border-radius:25px;position:relative;cursor:pointer;transition:all .3s ease;border:1px solid rgba(255,107,53,.3)}.setting-group input[type=checkbox]:after{content:"";position:absolute;top:2px;left:2px;width:19px;height:19px;background:#666;border-radius:50%;transition:all .3s ease}.setting-group input[type=checkbox]:checked{background:linear-gradient(135deg,#ff6b35,gold);border-color:#ff6b35}.setting-group input[type=checkbox]:checked:after{transform:translate(25px);background:#fff}.about-content{color:#ccc;line-height:1.6}.about-content h4{color:#ff6b35;margin:1.5rem 0 .5rem}.about-content ul{list-style:none;padding:0}.about-content li{padding:.5rem 0;display:flex;align-items:center;transition:all .3s ease}.about-content li:hover{color:#fff;transform:translate(5px)}.version{display:inline-block;padding:.5rem 1rem;background:linear-gradient(135deg,#ff6b35,gold);color:#fff;border-radius:20px;font-weight:700;margin-bottom:1rem}.credits{margin-top:2rem;padding-top:1rem;border-top:1px solid rgba(255,107,53,.2);text-align:center}.credits p{color:#ff6b35;font-size:1.1rem}.data-settings h3,.preferences-settings h3,.about-settings h3{color:#ff6b35;margin:0 0 1.5rem;font-size:1.3rem;position:relative;padding-left:1rem}.data-settings h3:before,.preferences-settings h3:before,.about-settings h3:before{content:"";position:absolute;left:0;top:50%;transform:translateY(-50%);width:4px;height:100%;background:linear-gradient(to bottom,#ff6b35,gold);border-radius:2px}.data-settings h4,.preferences-settings h4{color:#00c896;margin-bottom:1rem}.btn{position:relative;overflow:hidden}.btn:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#fff3;transform:translate(-50%,-50%);transition:width .6s,height .6s}.btn:active:before{width:300px;height:300px}@media (max-width: 768px){.settings-panel{width:95%;max-height:90vh}.settings-tabs{flex-wrap:wrap}.starbase-capabilities{grid-template-columns:1fr}}.achievement-notification-stack{position:fixed;top:100px;right:20px;z-index:10000;pointer-events:none}.achievement-notification{position:relative;width:400px;background:linear-gradient(135deg,#1a1a2e,#16213e);border-radius:20px;padding:20px;box-shadow:0 20px 60px #ffd70066,0 0 100px #ffd70033,inset 0 0 30px #ffd7001a;border:2px solid;border-image:linear-gradient(45deg,gold,#ff6b35,gold) 1;transform:translate(500px) scale(.8);opacity:0;transition:all .5s cubic-bezier(.68,-.55,.265,1.55);pointer-events:auto;animation:achievementGlow 2s ease-in-out infinite}@keyframes achievementGlow{0%,to{box-shadow:0 20px 60px #ffd70066,0 0 100px #ffd70033,inset 0 0 30px #ffd7001a}50%{box-shadow:0 20px 80px #ffd70099,0 0 120px #ffd70066,inset 0 0 40px #ffd70033}}.achievement-notification.visible{transform:translate(0) scale(1);opacity:1}.achievement-notification.exiting{transform:translate(500px) scale(.8);opacity:0;transition:all .3s ease-in}.achievement-burst{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;pointer-events:none}.particle{position:absolute;width:6px;height:6px;background:linear-gradient(45deg,gold,orange);border-radius:50%;top:50%;left:50%;animation:particle-explosion 2s ease-out forwards}@keyframes particle-explosion{0%{transform:translate(-50%,-50%) scale(0);opacity:1}to{opacity:0}}.particle-1{animation-delay:0s;--angle: 0deg}.particle-2{animation-delay:.1s;--angle: 30deg}.particle-3{animation-delay:.2s;--angle: 60deg}.particle-4{animation-delay:.3s;--angle: 90deg}.particle-5{animation-delay:.4s;--angle: 120deg}.particle-6{animation-delay:.5s;--angle: 150deg}.particle-7{animation-delay:.6s;--angle: 180deg}.particle-8{animation-delay:.7s;--angle: 210deg}.particle-9{animation-delay:.8s;--angle: 240deg}.particle-10{animation-delay:.9s;--angle: 270deg}.particle-11{animation-delay:1s;--angle: 300deg}.particle-12{animation-delay:1.1s;--angle: 330deg}.particle-1,.particle-2,.particle-3,.particle-4,.particle-5,.particle-6,.particle-7,.particle-8,.particle-9,.particle-10,.particle-11,.particle-12{animation:particle-burst 1.5s ease-out forwards}@keyframes particle-burst{0%{transform:translate(-50%,-50%) rotate(var(--angle)) translate(0) scale(1);opacity:1}to{transform:translate(-50%,-50%) rotate(var(--angle)) translate(200px) scale(0);opacity:0}}.achievement-content{position:relative;z-index:1}.achievement-header{display:flex;justify-content:center;align-items:center;margin-bottom:15px}.achievement-label{color:gold;font-size:.9rem;font-weight:700;text-transform:uppercase;letter-spacing:2px;animation:pulse 1s ease-in-out infinite;text-align:center}@keyframes pulse{0%,to{opacity:.8}50%{opacity:1}}.achievement-stars{color:gold;font-size:1.2rem;animation:starSpin 2s ease-in-out}@keyframes starSpin{0%{transform:rotate(0) scale(0)}50%{transform:rotate(180deg) scale(1.2)}to{transform:rotate(360deg) scale(1)}}.achievement-body{display:flex;align-items:center;gap:15px;margin-bottom:15px}.achievement-icon-large{font-size:3rem;width:80px;height:80px;display:flex;align-items:center;justify-content:center;background:radial-gradient(circle,rgba(255,215,0,.2) 0%,transparent 70%);border-radius:50%;animation:iconBounce .5s ease-out}@keyframes iconBounce{0%{transform:scale(0) rotate(0)}50%{transform:scale(1.2) rotate(180deg)}to{transform:scale(1) rotate(360deg)}}.achievement-info h2{margin:0 0 5px;color:#fff;font-size:1.4rem;text-shadow:0 2px 10px rgba(255,215,0,.5)}.achievement-info p{margin:0;color:#b0b0b0;font-size:.95rem}.achievement-footer{display:flex;justify-content:space-between;align-items:center;padding-top:10px;border-top:1px solid rgba(255,215,0,.2)}.xp-gained{background:linear-gradient(135deg,#00c896,#00a8e8);color:#fff;padding:5px 15px;border-radius:20px;font-weight:700;animation:xpPop .5s ease-out .5s both}@keyframes xpPop{0%{transform:scale(0)}80%{transform:scale(1.1)}to{transform:scale(1)}}.category-badge{background:#ff6b3533;color:#ff6b35;padding:5px 15px;border-radius:20px;font-size:.85rem;text-transform:capitalize;border:1px solid rgba(255,107,53,.4)}.close-notification{position:absolute;top:10px;right:10px;background:none;border:none;color:#666;font-size:1.5rem;cursor:pointer;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .3s ease}.close-notification:hover{background:#ffffff1a;color:gold;transform:rotate(90deg)}.achievement-progress-stack{position:fixed;bottom:20px;left:20px;z-index:9000;display:flex;flex-direction:column;gap:10px;max-width:300px;transition:all .3s ease}.achievement-progress-stack.minimized{width:60px;height:40px;overflow:hidden}.progress-stack-controls{display:flex;justify-content:flex-end;gap:5px;margin-bottom:5px}.toggle-progress-btn,.hide-progress-btn{background:#1a1a2ee6;border:1px solid rgba(255,107,53,.3);color:#999;width:25px;height:25px;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:.9rem;transition:all .3s ease}.toggle-progress-btn:hover,.hide-progress-btn:hover{background:#ff6b3533;color:#ff6b35;border-color:#ff6b3580}.hide-progress-btn{font-size:1.2rem}.show-progress-btn{position:fixed;bottom:20px;left:20px;z-index:9000;background:linear-gradient(135deg,#1a1a2ef2,#16213ef2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,107,53,.3);border-radius:20px;padding:8px 15px;color:#ff6b35;cursor:pointer;display:flex;align-items:center;gap:5px;font-weight:700;font-size:.9rem;transition:all .3s ease;animation:pulse 2s infinite}@keyframes pulse{0%,to{box-shadow:0 0 10px #ff6b3533}50%{box-shadow:0 0 20px #ff6b3566}}.show-progress-btn:hover{transform:translateY(-2px);box-shadow:0 5px 20px #ff6b3566;background:linear-gradient(135deg,#ff6b3533,#ffd7001a)}.achievement-progress-tracker{background:linear-gradient(135deg,#1a1a2ef2,#16213ef2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:10px;padding:12px;border:1px solid rgba(255,107,53,.3);transition:all .3s ease}.achievement-progress-tracker.pulse{animation:progressPulse .5s ease;border-color:#ffd70099;box-shadow:0 0 20px #ffd70066}@keyframes progressPulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.achievement-progress-tracker.complete{background:linear-gradient(135deg,#00c89633,#00a8e833);border-color:#00c89699}.progress-header{display:flex;align-items:center;gap:8px;margin-bottom:8px}.progress-icon{font-size:1.2rem}.progress-name{color:gold;font-size:.9rem;font-weight:700}.progress-bar-container{position:relative}.progress-bar{height:20px;background:#0000004d;border-radius:10px;overflow:hidden;position:relative}.progress-fill{height:100%;background:linear-gradient(90deg,#ff6b35,gold);border-radius:10px;transition:width .5s ease;display:flex;align-items:center;justify-content:flex-end;padding-right:5px;position:relative;overflow:hidden}.progress-fill:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:shimmer 2s infinite}@keyframes shimmer{0%{left:-100%}to{left:100%}}.progress-text{color:#fff;font-size:.75rem;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.5);z-index:1;position:relative}.progress-text-outside{color:#999;font-size:.75rem;margin-top:4px;display:block}.completion-badge{margin-top:8px;background:linear-gradient(135deg,#00c896,#00a8e8);color:#fff;padding:4px 10px;border-radius:15px;font-size:.8rem;font-weight:700;text-align:center;animation:completionGlow 1s ease-in-out infinite}@keyframes completionGlow{0%,to{box-shadow:0 0 10px #00c89680}50%{box-shadow:0 0 20px #00c896cc}}.achievement-button{position:relative;background:linear-gradient(135deg,#ff6b35,gold);border:none;border-radius:10px;padding:8px 15px;color:#fff;font-weight:700;cursor:pointer;display:flex;align-items:center;gap:8px;transition:all .3s ease;box-shadow:0 4px 15px #ff6b354d}.achievement-button:hover{transform:translateY(-2px);box-shadow:0 6px 20px #ff6b3566}.achievement-icon{font-size:1.2rem}.achievement-progress{background:#0000004d;padding:2px 8px;border-radius:10px;font-size:.85rem}.panel-header{display:flex;justify-content:space-between;align-items:center;padding:15px 20px;background:linear-gradient(90deg,#ff6b351a,#ffd7001a);border-bottom:1px solid rgba(255,107,53,.3)}.panel-header h3{margin:0;color:gold;font-size:1.2rem;font-weight:700}.panel-header .close-button{background:none;border:none;color:#999;font-size:1.5rem;cursor:pointer;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .3s ease}.panel-header .close-button:hover{background:#ff6b3533;color:#ff6b35;transform:rotate(90deg)}.achievement-progress-bar{margin:15px 20px;height:35px;background:#0000004d;border-radius:15px;position:relative;display:flex;align-items:center;justify-content:center}.achievement-progress-bar .progress-fill{position:absolute;left:0;top:0;height:100%;background:linear-gradient(90deg,#ff6b35,gold);transition:width .5s ease;border-radius:15px}.achievement-progress-bar .progress-text{position:relative;z-index:1;color:#fff;font-weight:700;font-size:.95rem;text-shadow:0 1px 3px rgba(0,0,0,.8);padding:0 10px}.category-filters{display:flex;gap:5px;padding:10px 15px;flex-wrap:wrap;border-bottom:1px solid rgba(255,107,53,.2)}.category-btn{padding:5px 10px;background:#0000004d;border:1px solid rgba(255,107,53,.2);border-radius:15px;color:#999;font-size:.8rem;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:4px}.category-btn:hover{background:#ff6b351a;border-color:#ff6b3566;color:#ccc}.category-btn.active{background:linear-gradient(135deg,#ff6b3533,#ffd7001a);border-color:#ff6b3580;color:#ff6b35}.category-icon{font-size:1rem}.achievement-panel{position:fixed;top:100px;right:20px;background:linear-gradient(135deg,#1a1a2e,#0f0f23);border-radius:20px;width:500px;max-width:calc(100vw - 40px);max-height:calc(100vh - 120px);overflow:hidden;box-shadow:0 20px 60px #ff6b3533,0 0 100px #ff6b351a;border:1px solid rgba(255,107,53,.3);z-index:9999;display:flex;flex-direction:column;animation:panelSlideIn .3s ease-out}@keyframes panelSlideIn{0%{transform:translate(100%) scale(.9);opacity:0}to{transform:translate(0) scale(1);opacity:1}}.achievement-list{flex:1;overflow-y:auto;padding:15px;display:flex;flex-direction:column;gap:10px}.achievement-item{background:#0000004d;border-radius:10px;padding:12px;border:1px solid rgba(255,107,53,.2);transition:all .3s ease;display:flex;gap:12px;align-items:flex-start}.achievement-item.unlocked{background:linear-gradient(135deg,#ffd7001a,#ff6b351a);border-color:#ffd70080}.achievement-item.locked{opacity:.6;filter:grayscale(.5)}.achievement-item:hover{transform:translate(-3px);box-shadow:-5px 0 15px #ff6b3533;border-color:#ff6b3566}.achievement-details{flex:1;min-width:0}.achievement-details h4{margin:0 0 4px;color:gold;font-size:.95rem;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.achievement-details p{margin:0;color:#999;font-size:.8rem;line-height:1.3}.achievement-icon{font-size:1.8rem;flex-shrink:0}.unlock-date{color:#00c896;font-size:.75rem;margin-top:4px;display:inline-block}.achievement-progress-inline{margin-top:6px;width:100%}.mini-progress-bar{margin-top:4px;height:8px;background:#00000080;border-radius:4px;overflow:hidden;position:relative}.mini-progress-fill{height:100%;background:linear-gradient(90deg,#ff6b35,gold);transition:width .5s ease;position:relative}.mini-progress-fill:after{content:"";position:absolute;top:0;left:-50%;width:50%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:shimmer 2s infinite}.progress-numbers{font-size:.75rem;color:#999;margin-top:3px;display:block;font-weight:500}.achievement-tracker-container{flex:1;display:flex;align-items:center;justify-content:flex-start;padding:0 1rem;min-width:0}.achievement-tracker{background:linear-gradient(135deg,#1a1a2e99,#16213e99);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,107,53,.2);border-radius:10px;padding:.5rem;display:flex;align-items:center;gap:.75rem;transition:all .3s ease;max-width:100%;overflow:hidden}.achievement-tracker.collapsed{width:auto;min-width:120px}.achievement-tracker.expanded{width:100%;max-width:600px}.tracker-header{display:flex;align-items:center;gap:.5rem;flex-shrink:0}.tracker-toggle{background:transparent;border:none;color:#ff6b35;cursor:pointer;font-size:12px;padding:2px;transition:transform .2s ease}.tracker-toggle:hover{transform:scale(1.2)}.tracker-title{color:#ff6b35;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:1px}.tracker-count{color:#ff6b35;font-size:14px;font-weight:600}.tracker-close{background:transparent;border:none;color:#999;cursor:pointer;font-size:16px;padding:0 4px;transition:color .2s ease;margin-left:auto}.tracker-close:hover{color:#ff6b35}.tracker-items{display:flex;gap:1rem;overflow-x:auto;overflow-y:hidden;flex:1;padding:0 .5rem;scrollbar-width:thin;scrollbar-color:rgba(255,107,53,.3) transparent}.tracker-items::-webkit-scrollbar{height:4px}.tracker-items::-webkit-scrollbar-track{background:transparent}.tracker-items::-webkit-scrollbar-thumb{background:#ff6b354d;border-radius:2px}.tracker-item{display:flex;flex-direction:column;gap:.25rem;background:#0000004d;padding:.5rem;border-radius:8px;min-width:150px;transition:all .3s ease;border:1px solid transparent}.tracker-item.updated{animation:trackerPulse .5s ease;border-color:#ffd7004d}@keyframes trackerPulse{0%{transform:scale(1)}50%{transform:scale(1.05)}to{transform:scale(1)}}.tracker-info{display:flex;align-items:center;gap:.25rem}.tracker-icon{font-size:16px}.tracker-name{color:#fff;font-size:11px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tracker-progress{width:100%}.progress-bar-mini{position:relative;height:20px;background:#00000080;border-radius:10px;overflow:hidden}.progress-fill-mini{height:100%;background:linear-gradient(90deg,#ff6b35,gold);transition:width .5s ease;box-shadow:0 0 10px #ff6b3580}.progress-text-mini{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:10px;font-weight:600;text-shadow:0 1px 2px rgba(0,0,0,.5);white-space:nowrap}.achievement-tracker-toggle{background:linear-gradient(135deg,#1a1a2ef2,#16213ef2);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,107,53,.3);border-radius:8px;padding:6px 12px;color:#ff6b35;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;gap:.5rem}.achievement-tracker-toggle:hover{background:linear-gradient(135deg,#ff6b3533,#ffd7001a);transform:translateY(-1px)}.resource-manager{background:var(--primary-light, #1A1A1A);border:1px solid var(--border-color, #2A2A2A);border-radius:8px;padding:20px;margin:20px}.manager-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:15px;border-bottom:1px solid rgba(255,107,53,.2)}.manager-header h3{color:#ff6b35;margin:0;font-size:20px;text-transform:uppercase;letter-spacing:1px;text-shadow:0 0 10px rgba(255,107,53,.5)}.view-toggle{display:flex;gap:5px;background:#0006;padding:4px;border-radius:6px;border:1px solid rgba(255,107,53,.2)}.btn-toggle{position:relative;padding:10px 20px;background:transparent;color:gray;border:none;border-radius:4px;cursor:pointer;transition:all .3s ease;font-weight:500;text-transform:uppercase;font-size:12px;letter-spacing:1px}.btn-toggle.active{background:linear-gradient(135deg,#ff6b35,#ff8659);color:#fff;box-shadow:0 2px 10px #ff6b3566,inset 0 1px #fff3;font-weight:600;text-shadow:0 1px 2px rgba(0,0,0,.3)}.btn-toggle.active:before{content:"";position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;background:linear-gradient(45deg,#ff6b35,gold,#ff6b35);border-radius:5px;opacity:.5;z-index:-1;animation:glow 2s ease-in-out infinite}@keyframes glow{0%,to{opacity:.3}50%{opacity:.6}}.btn-toggle:hover:not(.active){background:#ff6b3526;color:#fff}.btn-toggle:focus{outline:2px solid #FF6B35;outline-offset:2px}.btn-toggle:focus:not(:focus-visible){outline:none}.btn-toggle:active:not(.active){transform:scale(.98)}.individual-stakes{display:flex;flex-direction:column;gap:15px}.claim-stake-card{background:#0000004d;border:1px solid rgba(255,107,53,.3);border-radius:6px;overflow:hidden}.stake-header{display:flex;justify-content:space-between;align-items:center;padding:12px;background:#ff6b351a;cursor:pointer}.stake-header:hover{background:#ff6b3526}.stake-stats{display:flex;align-items:center;gap:15px}.storage-indicator{font-size:12px;color:var(--text-secondary)}.chevron{color:var(--primary-orange);transition:transform .3s ease}.stake-details{padding:15px}.flow-table{width:100%;border-collapse:collapse;margin-bottom:15px}.flow-table th{background:#ff6b351a;color:var(--text-primary);padding:8px;text-align:left;font-size:12px;border:1px solid rgba(255,107,53,.2)}.flow-table td{padding:6px 8px;border:1px solid rgba(255,107,53,.1);font-size:13px}.inactive-flow{opacity:.5}.resource-name{color:var(--text-primary);font-weight:500}.extraction{color:#4caf50}.production{color:#2196f3}.consumption{color:#ff5252}.net{font-weight:600}.storage{color:var(--text-secondary)}.status{text-align:center}.stake-actions{display:flex;gap:10px;padding-top:10px;border-top:1px solid rgba(255,107,53,.2)}.transfer-panel{background:#0006;border:1px solid var(--primary-orange);border-radius:8px;padding:20px;margin-top:20px}.transfer-panel h4{color:var(--primary-orange);margin:0 0 15px}.transfer-info{display:flex;gap:30px;margin-bottom:20px;padding:10px;background:#ff6b350d;border-radius:4px}.transfer-info>div{color:var(--text-primary);font-size:14px}.info-text{color:var(--text-secondary);margin-bottom:10px;font-size:13px}.transfer-quick-actions{display:flex;gap:10px;margin-bottom:15px;padding:10px;background:#ff6b350d;border-radius:4px}.btn-quick-action{padding:8px 16px;background:#ff6b3533;color:var(--primary-orange);border:1px solid var(--primary-orange);border-radius:4px;cursor:pointer;font-size:13px;font-weight:500;transition:all .3s ease}.btn-quick-action:hover{background:var(--primary-orange);color:var(--primary-dark);transform:scale(1.05)}.resource-transfer-list{max-height:300px;overflow-y:auto;margin-bottom:20px}.resource-transfer-list::-webkit-scrollbar{width:8px}.resource-transfer-list::-webkit-scrollbar-track{background:#0000004d;border-radius:4px}.resource-transfer-list::-webkit-scrollbar-thumb{background:var(--primary-orange);border-radius:4px}.transfer-resource-item{display:flex;align-items:center;gap:10px;padding:8px 12px;margin-bottom:8px;background:#0003;border:1px solid rgba(255,107,53,.2);border-radius:4px;transition:all .3s ease}.transfer-resource-item.selected{background:#ff6b3526;border-color:var(--primary-orange)}.resource-label{flex:1;color:var(--text-primary);font-weight:500;text-transform:capitalize}.available-amount{color:var(--text-secondary);font-size:12px;min-width:100px}.transfer-input{width:80px;padding:4px 8px;background:#0000004d;border:1px solid rgba(255,107,53,.3);border-radius:4px;color:var(--text-primary);text-align:center}.transfer-input:focus{outline:none;border-color:var(--primary-orange)}.btn-transfer-max{padding:4px 12px;background:#ff6b3533;color:var(--primary-orange);border:1px solid var(--primary-orange);border-radius:4px;cursor:pointer;font-size:12px;font-weight:600;transition:all .3s ease}.btn-transfer-max:hover{background:#ff6b354d}.btn-transfer-clear{padding:4px 8px;background:#f003;color:#ff5252;border:1px solid #FF5252;border-radius:4px;cursor:pointer;font-size:14px;font-weight:700;transition:all .3s ease}.btn-transfer-clear:hover{background:#ff00004d}.transfer-summary{background:#ff6b351a;border:1px solid var(--primary-orange);border-radius:6px;padding:15px;margin-bottom:20px}.transfer-summary strong{color:var(--primary-orange);display:block;margin-bottom:10px}.summary-items{display:flex;flex-direction:column;gap:8px}.summary-item{display:flex;align-items:center;padding:6px 10px;background:#0003;border-radius:4px}.summary-resource{flex:1;color:var(--text-primary);text-transform:capitalize}.summary-amount{color:var(--accent-gold);font-weight:600;margin-right:10px}.summary-remove{padding:2px 6px;background:#f003;color:#ff5252;border:1px solid #FF5252;border-radius:3px;cursor:pointer;font-size:12px;transition:all .3s ease}.summary-remove:hover{background:#ff00004d}.transfer-actions{display:flex;gap:10px;justify-content:flex-end}.btn{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-weight:500;transition:all .3s ease}.btn-primary{background:var(--primary-orange);color:var(--primary-dark)}.btn-primary:hover:not(:disabled){background:#ff8659;transform:scale(1.05)}.btn-primary:disabled{opacity:.5;cursor:not-allowed}.btn-secondary{background:#ffffff1a;color:var(--text-primary);border:1px solid rgba(255,255,255,.2)}.btn-secondary:hover{background:#fff3}.btn-sm{padding:6px 12px;font-size:13px}.aggregate-view{padding:20px}.aggregate-summary h4{color:var(--primary-orange);margin-bottom:15px}.aggregate-actions{display:flex;justify-content:center;margin-top:20px}.stop-indicator{display:inline-flex;align-items:center;gap:5px;padding:2px 8px;background:#ff52521a;border:1px solid #FF5252;border-radius:3px;font-size:11px;color:#ff5252}.stop-icon{font-size:14px}.recipe-analysis{background:var(--primary-light, #1A1A1A);border:1px solid var(--border-color, #2A2A2A);border-radius:8px;padding:15px;height:100%;overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column}.recipe-analysis::-webkit-scrollbar{width:8px}.recipe-analysis::-webkit-scrollbar-track{background:#0000004d;border-radius:4px}.recipe-analysis::-webkit-scrollbar-thumb{background:var(--primary-orange, #FF6B35);border-radius:4px}.recipe-analysis h3{color:var(--primary-orange, #FF6B35);margin:0 0 20px;text-transform:uppercase;letter-spacing:1px;border-bottom:1px solid rgba(255,107,53,.2);padding-bottom:10px}.recipe-analysis h4{color:#fff;margin:20px 0 15px;font-size:16px;display:flex;align-items:center;gap:10px}.efficiency-section{margin-bottom:30px}.efficiency-breakdown{display:flex;flex-direction:column;gap:15px;margin-bottom:20px;align-items:center}.efficiency-score{display:flex;flex-direction:column;align-items:center;gap:10px}.score-circle{width:100px;height:100px}.score-circle svg{width:100%;height:100%}.score-label{color:var(--text-secondary, #999999);font-size:12px;text-transform:uppercase;letter-spacing:.5px}.efficiency-details{display:flex;flex-direction:column;gap:12px;justify-content:center}.detail-item{display:flex;align-items:center;gap:10px;padding:8px;background:#0000004d;border-radius:4px}.detail-item .label{flex:1;color:var(--text-secondary, #999999);font-size:13px}.detail-item .value{color:#fff;font-weight:600;min-width:40px;text-align:center}.detail-item .impact{padding:2px 8px;border-radius:12px;font-size:11px;font-weight:600}.detail-item .impact.negative{background:#ff413633;color:#ff4136}.detail-item .impact.positive{background:#2ecc4033;color:#2ecc40}.complexity-bar{flex:1;height:8px;background:#00000080;border-radius:4px;overflow:hidden}.complexity-fill{height:100%;background:linear-gradient(90deg,#2ecc40,gold,#ff4136);transition:width .5s ease}.efficiency-explanation{background:#ff6b350d;border:1px solid rgba(255,107,53,.2);border-radius:6px;padding:15px}.efficiency-explanation h5{color:var(--primary-orange, #FF6B35);margin:0 0 10px;font-size:14px}.efficiency-explanation p{color:var(--text-secondary, #999999);font-size:13px;margin-bottom:10px;line-height:1.5}.efficiency-explanation ul{margin:0;padding-left:20px}.efficiency-explanation li{color:var(--text-secondary, #999999);font-size:12px;margin-bottom:5px}.efficiency-explanation strong{color:#fff}.time-section{margin-bottom:30px}.time-strategies{display:flex;flex-direction:column;gap:10px}.strategy{background:#0000004d;border:1px solid rgba(255,107,53,.2);border-radius:6px;padding:10px;display:flex;justify-content:space-between;align-items:center;transition:all .3s ease}.strategy.recommended{border-color:var(--accent-blue, #00A8E8);background:#00a8e80d}.strategy.optimal{border-color:var(--accent-gold, #FFD700);background:#ffd7000d}.strategy-name{color:#fff;font-weight:600;font-size:13px}.strategy-time{color:var(--primary-orange, #FF6B35);font-size:18px;font-weight:600}.strategy-desc{color:var(--text-secondary, #999999);font-size:11px;margin-top:2px}.resources-section{margin-bottom:30px}.resource-list{display:grid;gap:12px}.resource-item{background:#0000004d;border:1px solid rgba(255,107,53,.2);border-radius:6px;padding:12px;transition:all .3s ease}.resource-item.sufficient{border-color:#2ecc404d}.resource-item.insufficient{border-color:#ff41364d;background:#ff41360d}.resource-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.resource-name{color:#fff;font-weight:500;text-transform:capitalize}.resource-status{font-size:16px;font-weight:700}.resource-item.sufficient .resource-status{color:#2ecc40}.resource-item.insufficient .resource-status{color:#ff4136}.resource-amounts{display:flex;justify-content:space-between;margin-bottom:8px;font-size:13px}.resource-amounts .needed{color:var(--text-secondary, #999999)}.resource-amounts .available{color:#fff}.resource-bar{height:6px;background:#00000080;border-radius:3px;overflow:hidden}.resource-fill{height:100%;transition:width .5s ease}.parallel-potential{margin-top:15px;padding:12px;background:#ffd7000d;border:1px solid rgba(255,215,0,.3);border-radius:6px;display:flex;align-items:center;gap:10px}.parallel-potential strong{color:var(--accent-gold, #FFD700);font-size:13px}.potential-value{color:#fff;font-size:13px}.bottlenecks-section{background:#ff41360d;border:1px solid rgba(255,65,54,.3);border-radius:6px;padding:15px;margin-bottom:30px}.bottlenecks-section h4{color:#ff851b;margin-top:0}.bottlenecks-section p{color:var(--text-secondary, #999999);font-size:13px;margin-bottom:10px}.bottleneck-list{display:flex;flex-direction:column;gap:8px}.bottleneck-item{display:flex;justify-content:space-between;align-items:center;padding:8px;background:#0000004d;border-radius:4px}.bottleneck-item .resource-name{color:#fff;font-weight:500;text-transform:capitalize}.scarcity-indicator{color:#ff851b;font-size:12px}.tips-section{background:#00a8e80d;border:1px solid rgba(0,168,232,.3);border-radius:6px;padding:15px}.tips-section h4{color:var(--accent-blue, #00A8E8);margin-top:0}.tips-section ul{margin:0;padding-left:20px}.tips-section li{color:var(--text-secondary, #999999);font-size:13px;margin-bottom:8px;line-height:1.5}.recipe-search{background:var(--primary-light, #1A1A1A);border:1px solid var(--border-color, #2A2A2A);border-radius:8px;padding:20px;height:100%;display:flex;flex-direction:column;gap:20px}.search-header{border-bottom:1px solid rgba(255,107,53,.2);padding-bottom:15px}.search-header h3{color:var(--primary-orange, #FF6B35);margin:0 0 15px;text-transform:uppercase;letter-spacing:1px}.search-mode-tabs{display:flex;gap:5px;background:#0000004d;padding:4px;border-radius:6px}.search-mode-tabs button{flex:1;padding:8px 16px;background:transparent;color:gray;border:none;border-radius:4px;cursor:pointer;transition:all .3s ease;font-size:12px;text-transform:uppercase;letter-spacing:.5px}.search-mode-tabs button.active{background:var(--primary-orange, #FF6B35);color:#fff;font-weight:600}.search-mode-tabs button:hover:not(.active){background:#ff6b3533;color:#fff}.search-controls{display:flex;flex-direction:column;gap:10px}.search-input{width:100%;padding:12px;background:#0000004d;border:1px solid rgba(255,107,53,.3);border-radius:6px;color:#fff;font-size:14px}.search-input:focus{outline:none;border-color:var(--primary-orange, #FF6B35);box-shadow:0 0 10px #ff6b354d}.filters{display:flex;gap:10px}.filters select{flex:1;padding:8px;background:#0000004d;border:1px solid rgba(255,107,53,.3);border-radius:4px;color:#fff;cursor:pointer}.ingredient-analysis{background:#ff6b350d;border:1px solid rgba(255,107,53,.3);border-radius:6px;padding:15px}.ingredient-analysis h4{color:var(--primary-orange, #FF6B35);margin:0 0 15px;font-size:16px}.resource-metrics{display:flex;flex-direction:column;gap:12px}.metric{display:flex;justify-content:space-between;align-items:center;font-size:14px}.metric .label{color:#999}.metric .value{color:var(--primary-orange, #FF6B35);font-weight:600}.metric-bar{display:flex;align-items:center;gap:10px}.metric-bar .label{color:#999;font-size:13px;min-width:80px}.metric-bar .bar{flex:1;height:20px;background:#00000080;border-radius:10px;overflow:hidden;position:relative}.metric-bar .fill{height:100%;transition:width .5s ease;border-radius:10px}.metric-bar .fill.scarcity{background:linear-gradient(90deg,#ff4136,#ff851b)}.metric-bar .fill.demand{background:linear-gradient(90deg,#0074d9,#00a8e8)}.metric-bar .fill.value{background:linear-gradient(90deg,gold,#ff6b35)}.metric-bar .percentage{color:#fff;font-weight:600;font-size:13px;min-width:40px;text-align:right}.recipe-results{flex:1;overflow:hidden;display:flex;flex-direction:column}.recipe-results h4{color:var(--text-primary, white);margin:0 0 15px;font-size:14px;text-transform:uppercase;letter-spacing:.5px}.recipe-list{flex:1;overflow-y:auto;padding-right:5px}.recipe-list::-webkit-scrollbar{width:8px}.recipe-list::-webkit-scrollbar-track{background:#0000004d;border-radius:4px}.recipe-list::-webkit-scrollbar-thumb{background:var(--primary-orange, #FF6B35);border-radius:4px}.recipe-item{background:#0000004d;border:1px solid rgba(255,107,53,.2);border-radius:6px;margin-bottom:10px;transition:all .3s ease;position:relative}.recipe-item:hover{border-color:var(--primary-orange, #FF6B35);box-shadow:0 0 10px #ff6b3533}.recipe-card-quick-view{position:absolute;top:10px;right:10px;display:flex;gap:4px;z-index:2}.quick-view-btn{width:28px;height:28px;padding:0;background:#ff6b3526;border:1px solid rgba(255,107,53,.25);border-radius:4px;color:var(--primary-orange, #FF6B35);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;font-size:14px}.quick-view-btn:hover{background:#ff6b354d;transform:scale(1.05);box-shadow:0 2px 8px #ff6b3566}.recipe-header{padding:12px 70px 12px 12px;cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:flex-start;gap:8px}.expand-icon{color:var(--primary-orange, #FF6B35);font-size:10px;transition:transform .3s ease;margin-top:4px;flex-shrink:0}.recipe-main-info{flex:1;display:flex;flex-direction:column;gap:6px}.recipe-title-row{display:flex;align-items:center;justify-content:space-between;gap:8px}.recipe-title-row h5{flex:1;margin:0;color:#fff;font-size:14px;font-weight:600}.recipe-meta{display:flex;align-items:center;gap:6px;font-size:12px;color:#999}.recipe-meta .separator{color:#666;font-size:8px}.recipe-meta .type{background:#ff6b351a;padding:2px 6px;border-radius:3px;font-size:11px;text-transform:capitalize;color:#ff6b35cc}.recipe-meta .time{color:#888;display:flex;align-items:center;gap:3px;font-size:11px}.tier-badge{padding:1px 5px;border-radius:10px;font-size:10px;font-weight:600;text-transform:uppercase;background:#ff6b3533;color:var(--primary-orange, #FF6B35);border:1px solid var(--primary-orange, #FF6B35);flex-shrink:0}.tier-badge.tier-1{background:#64c86433;color:#64c864;border-color:#64c864}.tier-badge.tier-2{background:#6496ff33;color:#6496ff;border-color:#6496ff}.tier-badge.tier-3{background:#c864ff33;color:#c864ff;border-color:#c864ff}.tier-badge.tier-4{background:#ffc86433;color:#ffc864;border-color:#ffc864}.tier-badge.tier-5{background:#ff646433;color:#ff6464;border-color:#ff6464}.recipe-details{padding:0 12px 12px;animation:slideDown .3s ease}@keyframes slideDown{0%{opacity:0;max-height:0}to{opacity:1;max-height:500px}}.ingredients-section,.output-section{margin-bottom:15px}.ingredients-section h6,.output-section h6{color:var(--primary-orange, #FF6B35);margin:0 0 10px;font-size:13px;text-transform:uppercase;letter-spacing:.5px}.ingredient-item,.output-item{display:flex;align-items:center;gap:10px;padding:6px;background:#0003;border-radius:4px;margin-bottom:6px}.ingredient-item .quantity,.output-item .quantity{color:var(--accent-gold, #FFD700);font-weight:600;min-width:40px}.ingredient-item .resource-name,.output-item .resource-name{flex:1;color:#fff;text-transform:capitalize}.resource-value{padding:2px 6px;background:#ffd70033;color:var(--accent-gold, #FFD700);border-radius:12px;font-size:11px;font-weight:600}.search-ingredient-btn{padding:4px 8px;background:#ff6b3533;color:var(--primary-orange, #FF6B35);border:1px solid var(--primary-orange, #FF6B35);border-radius:4px;cursor:pointer;font-size:14px;transition:all .3s ease}.search-ingredient-btn:hover{background:var(--primary-orange, #FF6B35);color:#fff;transform:scale(1.1)}.recipe-actions{display:flex;gap:10px;margin-top:15px}.btn{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-size:13px;font-weight:500;transition:all .3s ease;text-transform:uppercase;letter-spacing:.5px}.btn-primary{background:var(--primary-orange, #FF6B35);color:#fff}.btn-primary:hover{background:#ff8659;transform:translateY(-2px);box-shadow:0 4px 10px #ff6b3566}.btn-secondary{background:#ffffff1a;color:#fff;border:1px solid rgba(255,255,255,.3)}.btn-secondary:hover{background:#fff3;border-color:#fff}.ingredient-browser{border-top:1px solid rgba(255,107,53,.2);padding-top:10px;transition:all .3s ease}.ingredient-browser.collapsed{max-height:110px;overflow:hidden}.ingredient-browser.expanded{max-height:none}.ingredient-browser-header{cursor:pointer;-webkit-user-select:none;user-select:none}.ingredient-browser-header:hover{opacity:.8}.ingredient-browser h4{color:var(--text-primary, white);margin:0 0 8px;font-size:12px;text-transform:uppercase;letter-spacing:.5px;display:flex;align-items:center;gap:.5rem}.ingredient-browser h4 .expand-icon{font-size:10px;color:var(--orange);transition:transform .2s ease}.ingredient-browser h4 .ingredient-count{font-size:11px;color:#ffffff80;font-weight:400;margin-left:auto;text-transform:none}.ingredient-chips{display:flex;flex-wrap:wrap;gap:8px}.ingredient-chip{position:relative;padding:6px 12px;background:#0000004d;border:1px solid var(--border-color, #2A2A2A);border-radius:16px;color:#fff;cursor:pointer;font-size:12px;transition:all .3s ease}.ingredient-chip:hover{background:#ff6b3533;transform:scale(1.05)}.ingredient-chip.more-chip{background:#ff6b3526;border-color:var(--orange);color:var(--orange);font-style:italic}.ingredient-chip.more-chip:hover{background:#ff6b354d}.chip-value{position:absolute;top:-8px;right:-8px;background:var(--accent-gold, #FFD700);color:var(--primary-dark, #0A0A0A);padding:2px 6px;border-radius:10px;font-size:10px;font-weight:600}.recipe-tree-canvas-container{position:relative;width:100%;height:600px;background:linear-gradient(135deg,#0a0a0a,#1a1a1a);border:2px solid var(--primary-orange);border-radius:8px;overflow:hidden}.tree-loading-indicator{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:#1a1a1af2;padding:1rem 2rem;border-radius:8px;border:1px solid var(--primary-orange);z-index:10;animation:fadeIn .3s ease-in-out}.tree-loading-indicator span{color:var(--primary-orange);font-family:Orbitron,monospace;font-size:.9rem;font-weight:600;letter-spacing:.05em;animation:pulse 1.5s ease-in-out infinite}@keyframes fadeIn{0%{opacity:0;transform:translate(-50%,-50%) scale(.9)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}@keyframes pulse{0%,to{opacity:1}50%{opacity:.7}}.recipe-tree-canvas{width:100%;height:100%;cursor:grab}.recipe-tree-canvas:active{cursor:grabbing}.node-info-panel{position:absolute;top:10px;right:10px;width:280px;background:#1a1a1af2;border:2px solid var(--primary-orange);border-radius:8px;padding:1rem;color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 4px 20px #00000080;animation:slideIn .3s ease-out;z-index:10;max-height:calc(100% - 20px);overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--primary-orange) rgba(0,0,0,.3)}.node-info-panel::-webkit-scrollbar{width:6px}.node-info-panel::-webkit-scrollbar-track{background:#0000004d;border-radius:3px}.node-info-panel::-webkit-scrollbar-thumb{background:var(--primary-orange);border-radius:3px}.node-info-panel::-webkit-scrollbar-thumb:hover{background:var(--primary-orange-light, #ff8555)}@keyframes slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.node-info-panel h3{font-family:Orbitron,monospace;color:var(--primary-orange);margin-top:0;margin-bottom:.75rem;font-size:1.2rem}.node-info-panel h4{font-family:Orbitron,monospace;color:var(--accent-green);margin-top:1rem;margin-bottom:.5rem;font-size:.75rem;text-transform:uppercase;letter-spacing:.1em;font-weight:600}.node-info-panel p{font-family:"Exo 2",sans-serif;font-size:.9rem;margin:.25rem 0;color:#ccc}.node-info-panel ul{list-style:none;padding-left:0;margin:.5rem 0}.node-info-panel li{font-family:"Exo 2",sans-serif;font-size:.85rem;color:#aaa;border-left:3px solid var(--accent-blue);padding:.25rem 0 .25rem .5rem;margin-bottom:.25rem}.node-info-panel .resource-type{font-family:Orbitron,monospace;font-size:.9rem;color:var(--accent-green);font-weight:600;text-transform:uppercase;letter-spacing:.05em;margin:.5rem 0}.node-info-panel .required-amount{background:#ff6b351a;border-left:3px solid var(--primary-orange);padding:.5rem;margin:.75rem 0;border-radius:0 4px 4px 0;font-size:.9rem}.node-info-panel .required-amount strong{color:var(--primary-orange)}.node-info-panel .extraction-note{font-family:"Exo 2",sans-serif;font-size:.85rem;color:#888;font-style:italic;margin-top:1rem;padding-top:.5rem;border-top:1px solid #333}.node-info-panel .resource-details{padding-bottom:.5rem}.node-info-panel .extraction-methods{margin-bottom:1rem}.resource-intelligence-panel{position:absolute;bottom:10px;left:10px;width:320px;background:#1a1a1af2;border:2px solid #00C896;border-radius:8px;padding:1rem;color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.resource-intelligence-panel h3{font-family:Orbitron,monospace;color:#00c896;margin-top:0;margin-bottom:.5rem}.value-indicator{display:flex;align-items:center;gap:1rem;margin:1rem 0}.value-bar{flex:1;height:20px;background:#333;border-radius:10px;overflow:hidden;position:relative}.value-fill{height:100%;background:linear-gradient(90deg,#00c896,gold);transition:width .3s ease}.planet-list{display:flex;gap:.5rem;margin-top:.5rem}.planet-badge{background:var(--primary-light);border:1px solid var(--border-color);border-radius:4px;padding:.25rem .5rem;font-size:.75rem;font-family:"Exo 2",sans-serif;color:#aaa}.recipe-usage-list{max-height:150px;overflow-y:auto;margin-top:.5rem;padding-right:.5rem}.recipe-usage-list::-webkit-scrollbar{width:6px}.recipe-usage-list::-webkit-scrollbar-track{background:#0000004d;border-radius:3px}.recipe-usage-list::-webkit-scrollbar-thumb{background:var(--primary-orange);border-radius:3px}.recipe-usage-item{padding:.25rem 0;border-bottom:1px solid rgba(255,255,255,.1);font-size:.85rem;color:#aaa}.planet-types-info,.factions-info{margin-top:1rem;padding-top:.5rem;border-top:1px solid #333}.planet-types-info strong,.factions-info strong{display:block;font-family:Orbitron,monospace;font-size:.75rem;color:#00c896;margin-bottom:.5rem;margin-top:1rem;text-transform:uppercase;letter-spacing:.1em;font-weight:600}.planet-types-list,.factions-list{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}.planet-type-tag{background:linear-gradient(135deg,#1e3a5f,#2a4a7f);border:1px solid #3a5a8f;border-radius:4px;padding:.25rem .5rem;font-size:.75rem;font-family:"Exo 2",sans-serif;color:#a0c0ff;white-space:nowrap}.faction-tag{border-radius:4px;padding:.25rem .5rem;font-size:.75rem;font-family:Orbitron,monospace;font-weight:600;text-transform:uppercase;letter-spacing:.05em;white-space:nowrap}.faction-tag.faction-mud{background:linear-gradient(135deg,#8b4513,sienna);border:1px solid #CD853F;color:#ffe4b5}.faction-tag.faction-oni{background:linear-gradient(135deg,#c71585,#ff1493);border:1px solid #FF69B4;color:#ffe0f0}.faction-tag.faction-ust,.faction-tag.faction-ustur{background:linear-gradient(135deg,#1e90ff,#4169e1);border:1px solid #6495ED;color:#e0f0ff}.faction-tag.faction-all{background:linear-gradient(135deg,#4b4b4b,#6b6b6b);border:1px solid #888;color:#ddd}.claim-stakes-app,.crafting-hab-app,.recipes-app{overflow-y:auto!important;height:100vh!important}.sidebar .planet-list,.planet-list{display:flex!important;flex-direction:column!important;gap:.75rem!important;max-height:400px!important;overflow-y:auto!important;overflow-x:hidden!important;padding-right:.5rem!important;width:100%!important}.filters{display:flex!important;flex-direction:column!important;gap:.5rem!important;margin-bottom:1rem!important}</style>
</head>

<body>
    <div id="root"></div>
</body>

</html>